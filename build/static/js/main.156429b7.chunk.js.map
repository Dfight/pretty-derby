{"version":3,"sources":["db.js","components/t.js","pages/race.js","components/event.js","dbL.js","components/effect.js","components/support-detail.js","components/skill-detail.js","components/race.js","components/player-detail.js","pages/player.js","pages/support.js","components/buff.js","components/deck.js","pages/nurturing2.js","pages/skill.js","pages/seed.js","components/lan-button.js","components/intro.js","app-pc.js","pages-mo/nurturing.js","pages-mo/seed.js","app-mo.js","index.js"],"names":["adapterM","Memory","db","low","set","jsonDB","players","write","supports","skills","events","updateTime","races","buffs","effects","adapter","LocalStorage","lan","get","value","lanData","ZH","EN","JP","t","text","filterList","class","grade","place","ground","distanceType","direction","side","labels","labelTextDict","name","date","distance","getCorrespondingLabelText","label","mediumLabels","getColumns","map","title","dataIndex","filters","onFilter","record","Race","props","dynamicTableHeight","React","useState","window","innerHeight","height","setHeight","useEffect","handleWindowResize","addEventListener","removeEventListener","console","log","useViewport","allRaceList","race","index","key","selectedRowKeys","setSelectedRowKeys","columns","type","rowSelection","onChange","selectedRows","selected","dateNum","push","id","onSelect","dataSource","pagination","sorter","extra","scroll","y","ua","EventList","eventList","find","qieZhe","filter","event","JSON","stringify","indexOf","choiceList","length","justify","align","defaultActiveKey","TabPane","tab","EventBox","ChoiceItem","choice","ResultItem","result","gutter","className","span","trigger","content","placement","adapterL","d","a","axios","res","data","0","1","2","3","4","5","player","limits","getValue","effect","cur","min","min_limit","max","max_limit","slice","limit","Math","floor","EffectTable","render","description","rarity","rowKey","getEffectMark","maxLevel","ok","10","15","20","25","30","35","40","TestEffectTable","effectCapsuleStyle","display","alignItems","flexDirection","margin","borderRadius","backgroundColor","borderStyle","borderWidth","borderColor","effectRightDivStyle","padding","width","effectNameStyle","fontSize","fontWeight","color","textShadow","overflow","whiteSpace","textOverflow","effectValueStyle","effectBoxStyle","justifyContent","state","selectingLevel","input","nodes","output","this","prevNode","level","i","upperNode","lowerNode","unique_effect","style","marginRight","lv","setState","marks","item","init","limit_lv5","limit_lv10","limit_lv15","limit_lv20","limit_lv25","limit_lv30","limit_lv35","limit_lv40","limit_lv45","limit_lv50","calc","Component","cdnServer","SupportDetail","supportId","match","params","src","imgUrl","preview","charaName","pid","skillList","trainingEventSkill","possessionSkill","message","SupportCard","history","useHistory","isModalVisible","setIsModalVisible","support","onClick","alt","visible","onOk","onCancel","destroyOnClose","Search","dbL","allSkillList","orderBy","options","distance_type","running_style","phase","corner_random","straight_random","is_finalcorner","skillType","6","7","8","9","14","21","27","28","31","SkillList","skillId","usedInList","isNur","allSupportList","allPlayerList","SkillDetail","skill","undefined","parseInt","nur","supportList","flag","forEach","playerList","maxWidth","maxHeight","textAlign","overflowWrap","wordBreak","describe","condition","ability","ability_time","cooldown","need_skill_point","grade_value","sort","b","SkillButton","position","top","left","SkillCheckboxGroup","memo","Group","checkedValues","SkillCheckbox","skillChecked1","setSkillChecked1","skillChecked2","setSkillChecked2","checkboxGroupValues","setCheckedboxGroupValues","localStorage","getItem","setItem","isOwn","setIsOwn","mySupports","mySkillList","Set","reduce","list","concat","checkOptions1","checkOptions2","onChange1","updateSkillList","filteredSkills","onChange2","useMemo","Object","entries","l","values","_key","flat","some","phrase","includes","onCheckboxGroupsChange","useCallback","groupName","tempSkillList","check2","check3","check1","str","icon_id","rare","has","needId","onUpdate","checkOnly","gourpName","lineHeight","checked","curValue","placeholder","enterButton","size","onSearch","searchText","raceGolds","raceNames","getGolds","golds","raceGold","uniqueName","join","RaceTimeline","showSpare","setShowSpare","getDate","year","month","moment","getColor","curRace","raceList","Item","goal","filterRace","mode","paddingTop","RaceCheckbox","raceFilterCondition","setRaceFilterCondition","keys","defaultValue","tmpObj","PlayerDetail","playerId","PlayerItem","resizemode","hideEvent","coloredGradeText","AdaptBox","cellStyle","paddingLeft","headerCellStyle","adaptTextWrapperStyle","paddingRight","cellPadding","grass","dirt","shortDistance","mile","mediumDistance","longDistance","escape","leading","insert","tracking","GrowBox","speedGrow","staminaGrow","powerGrow","gutsGrow","wisdomGrow","PlayerCard","showName","showPlayerDetail","cover","Meta","footer","PlayerTable","adaptFilters","growFilters","rares","titles","getColumn","Player","isTable","prevProps","xxl","lg","sm","xs","defaultProps","CheckboxGroup","Support","changeChooseMode","chooseMode","showMode","changeShowMode","chosenList","splice","update","onSupportCheckboxChange","updateSupport","checkedList","onSkillCheckboxUpdate","eventIdList","tempList","eventId","checkOptions","headerStyle","headerTextStyle","overflowY","overflowX","BuffButton","BuffList","buff","MyDecks","decks","setDecks","saveDeck","deck","tmpDeck","imgUrls","supportsId","tags","assign","shortid","generate","shareDeck","formData","localeCompare","post","info","msg","overlayStyle","onChangeTag","loadDeck","onConfirm","danger","remove","deleteDeck","RecommendDecks","recommendDecks","setRecommendDecks","setPlayerId","searchDeck","onVisibleChange","tag","Nurturing","needSelect","setNeedSelect","isPlayerVisible","setIsPlayerVisible","isSupportVisible","setIsSupportVisible","supportIndex","setSupportIndex","setSupports","setPlayer","setFilterRace","showPlayer","closePlayer","showSupport","closeSupport","innerWidth","setWidth","dynamicContentHeight","dynamicCardHeight","dynamicRowHeight","layoutWithBlank","x","w","h","layoutWithoutBlank","originalLayout","layout","setLayout","panelStyle","headStyle","cursor","pBodyStyle","cols","draggableCancel","draggableHandle","rowHeight","onLayoutChange","filterCondition","tmpRaceList","f","tmpFilterRace","autoHide","flex","background","newData","Skill","setSkillList","rareLabel","dynamicListHeight","userId","blueLabels","speed","stamina","power","guts","wisdom","redLabels","PlayerInput","setData","triggerChange","changedValue","fallback","SupportInput","SeedInput","useForm","form","seed","setSeed","onFinish","tmpSeed","Date","getTime","success","children","offset","rules","required","Button","count","initialValue","dots","tooltipPlacement","getFields","getFieldValue","validator","_","Promise","resolve","reject","Error","htmlType","SearchOne","List","fields","add","errors","field","md","fieldKey","validateTrigger","noStyle","icon","PlusOutlined","ErrorList","SearchForm","attrs","levels","p0","attr","p1","search","resetFields","PlayerImage","SupportImage","Seed","isSeedInputVisible","setIsSeedInputVisible","seedList","setSeedList","onCopy","shape","CopyOutlined","SmileOutlined","like","likes","FrownOutlined","dislike","dislikes","DeleteOutlined","deleteSeed","disabled","closeSeedInput","withRouter","code","setCode","flagStyle","location","reload","introV","stepsEnabled","setStepsEnabled","steps","element","intro","href","enabled","initialStep","onExit","onBeforeChange","nextStepIndex","onComplete","doneLabel","Header","Content","Footer","AppPc","document","getElementsByTagName","zIndex","theme","to","float","exact","path","component","Nurturing2","frameBorder","scrolling","target","rel","border","flexWrap","EditOutlined","lists","minWidth","cascade","arrow","SeedCard","gameId","wrap","App1","open","onOpenChange","linkList","marginTop","onLeftClick","minHeight","documentElement","clientHeight","WebkitOverflowScrolling","enableDragHandle","contentStyle","sidebar","NurturingMO2","SeedMo","ie_upto10","test","navigator","userAgent","ie_11up","exec","ie_edge","mac","platform","ie","ie_version","documentMode","gecko","gecko_version","chrome","chrome_version","safari","vendor","ios","maxTouchPoints","android","webkit","webkit_version","App","ReactDOM","getElementById"],"mappings":"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","file":"static/js/main.156429b7.chunk.js","sourcesContent":["import low from 'lowdb';\nimport LocalStorage from 'lowdb/adapters/LocalStorage'\nimport Memory from 'lowdb/adapters/Memory'\nimport axios from 'axios'\nimport jsonDB from './assert/db.json'\n\n// const adapter = new LocalStorage('db')\nconst adapterM = new Memory()\nconst db = low(adapterM)\n\n\n// const d = async ()=>{\n//   // let res = await axios.get('https://urarawin.com/d')\n//   let res = await axios.get('https://urarawin.com/api/d')\n//   console.log(res.data)\n//   db.set('userId',res.data).write()\n// }\n// db.get('userId').value()||d()\n\ndb.set('players',jsonDB.players).write()\ndb.set('supports',jsonDB.supports).write()\ndb.set('skills',jsonDB.skills).write()\ndb.set('events',jsonDB.events).write()\ndb.set('updateTime',jsonDB.updateTime).write()\ndb.set('races',jsonDB.races).write()\ndb.set('buffs',jsonDB.buffs).write()\ndb.set('effects',jsonDB.effects).write()\n\n// db.get('lan').value()==='zh'&&db.set('lan','cn').write()\n// db.get('lan').value()==='en'&&db.set('lan','us').write()\n//重新加载\n\n// db.get('lan').value()||db.set('lan','cn').write()\n// db.get('selected').value()||db.set('selected',{\n//   supports:{0:{},1:{},2:{},3:{},4:{},5:{}},\n//   player:{},\n//   races:[]\n// }).write()\n// db.get('myDecks').value()||db.set('myDecks',[]).write()\n// db.get('mySupports').value()||db.set('mySupports',[]).write()\nexport  default db\n","import low from 'lowdb';\nimport LocalStorage from 'lowdb/adapters/LocalStorage'\n\nimport ZH from '../assert/cn.json'\nimport EN from '../assert/us.json'\nimport JP from '../assert/jp.json'\nconst adapter = new LocalStorage('db')\nconst db = low(adapter)\n\nconst lan = db.get('lan').value()||'cn'\nlet lanData = {}\nif(lan==='cn'){\n  lanData = ZH\n}else if(lan==='us'){\n  lanData = EN\n}else if(lan==='jp'){\n  lanData = JP\n}\nlet noTrans = {}\nconst t = (text,lan)=>{\n  if(lan==='cn'){\n    lanData = ZH\n  }else if(lan==='us'){\n    lanData = EN\n  }else if(lan==='jp'){\n    lanData = JP\n  }\n  let result = lanData[text]\n\n  // if(!result&&result!==\"\"){\n  //   noTrans[text]=\"\"\n  // }\n  // console.log(JSON.stringify(noTrans))\n\n  return result||text\n}\nexport  default t\n","import React,{useState} from 'react';\nimport db from '../db.js'\nimport t from '../components/t.js'\nimport { Table } from 'antd';\n\n // { name: '葵ステークス',\n  //   date: '2年目 5月後半',\n  //   dateNum: 34,\n  //   class: 'クラシック',\n  //   grade: 'G3',\n  //   place: '京都',\n  //   ground: '芝',\n\n  //   distance: '1400',\n  //   distanceType: '短距離',\n  //   order: '右' }\n  // { class: [ 'ジュニア', 'クラシック', 'クラシックシニア', 'シニア' ],\n  // grade: [ 'OP', 'G3', 'Pre-OP', 'G2', 'G1' ],\n  // place: [ '中京', '函館', '札幌', '小倉', '新潟', '阪神', '中山', '京都', '東京', '福島', '大井' ],\n  // ground: [ '芝', 'ダート' ],\n  // distanceType: [ 'マイル', '短距離', '中距離', '長距離' ],\n  // direction: [ '左', '右', '直' ],\n  // side: [ null, '内', '外', '線' ] }\n const filterList= { class:\n    [ { text: '初等/ジュニア', value: 'ジュニア' },\n      { text: '经典/クラシック', value: 'クラシック' },\n      { text: '经典&高级/クラシックシニア', value: 'クラシックシニア' },\n      { text: '高级/シニア', value: 'シニア' } ],\n   grade:\n   [\n      { text: 'Pre-OP', value: 'Pre-OP' },\n      { text: 'OP', value: 'OP' },\n      { text: 'G1', value: 'G1' },\n      { text: 'G2', value: 'G2' },\n      { text: 'G3', value: 'G3' }\n    ],\n   place:\n    [ { text: '中京', value: '中京' },\n      { text: '函館', value: '函館' },\n      { text: '札幌', value: '札幌' },\n      { text: '小倉', value: '小倉' },\n      { text: '新潟', value: '新潟' },\n      { text: '阪神', value: '阪神' },\n      { text: '中山', value: '中山' },\n      { text: '京都', value: '京都' },\n      { text: '東京', value: '東京' },\n      { text: '福島', value: '福島' },\n      { text: '大井', value: '大井' } ],\n   ground: [ { text: '芝', value: '芝' }, { text: 'ダート', value: 'ダート' } ],\n   distanceType:\n   [\n     { text: '短距離', value: '短距離' },\n     { text: 'マイル', value: 'マイル' },\n      { text: '中距離', value: '中距離' },\n      { text: '長距離', value: '長距離' } ],\n   direction:\n    [ { text: '左', value: '左' },\n      { text: '右', value: '右' },\n      { text: '直', value: '直' } ],\n   side:\n    [ { text: '空', value: null },\n      { text: '内', value: '内' },\n      { text: '外', value: '外' },\n      { text: '線', value: '線' } ] }\n  const labels = [\"name\", \"date\", \"class\", \"grade\",\n                  \"place\", \"ground\", \"distance\",\n                  \"distanceType\", \"direction\", \"side\"]\n  const labelTextDict ={name:t(\"名称\"),date:t(\"时间\"),class:t(\"年级\"),grade:t(\"赛事等级\"),place:t(\"地点\"),ground:t(\"场地\"),distance:t(\"长度\"),distanceType:t(\"赛程\"),direction:t(\"方向\"),side:t(\"赛道\")}\n  const getCorrespondingLabelText = (label)=>{\n      return labelTextDict[label]\n  }\n  const mediumLabels = [\"name\", \"date\", \"class\",\"grade\",\"ground\",\"distanceType\"]\n  const getColumns = (labels)=>{\n    return labels.map(label=> {\n      if(filterList['class']){\n        return {\n          title:getCorrespondingLabelText(label),\n          dataIndex:label,\n          filters:filterList[label],\n          onFilter: (value, record) => record[label] === value,\n        }\n      }else{\n        return{\n          title:getCorrespondingLabelText(label),\n          dataIndex:label\n        }\n      }\n    })\n  }\n\n\n\n  const Race = (props) =>{\n    const useViewport = () => {\n      // const [width, setWidth] = React.useState(window.innerWidth);\n      const [height,setHeight] = React.useState(window.innerHeight);\n      React.useEffect(() => {\n        const handleWindowResize = () => setHeight(window.innerHeight);\n        window.addEventListener(\"resize\", handleWindowResize);\n        return () => window.removeEventListener(\"resize\", handleWindowResize);\n      }, []);\n      console.log('currentWidth::',height);\n      return {height};\n    };\n\n    const dynamicTableHeight = useViewport().height -300;\n\n    const allRaceList = db.get('races').value().map((race,index)=>{\n                      race.key=index\n                      return race\n                    })\n    const [selectedRowKeys,setSelectedRowKeys] = useState([])\n    let columns = getColumns(labels)\n    if(props.type==='medium'){\n      columns = getColumns(mediumLabels)\n    }\n    const onSelectChange = (selectedRowKeys,selectedRows)=>{\n      let selected = {}\n      for(let race of selectedRows){\n        if(selected[race.dateNum]){\n          selected[race.dateNum].push(race.id)\n        }else{\n          selected[race.dateNum]=[race.id]\n        }\n      }\n      console.log(selected)\n      props.onSelect(selected)\n      setSelectedRowKeys(selectedRowKeys)\n    }\n    const rowSelection = {\n      selectedRowKeys,\n      onChange:onSelectChange\n    }\n    // 筛选发生变化时清空已经选择的内容\n    const onChange = (pagination, filters, sorter, extra) => {\n      props.onSelect([])\n      setSelectedRowKeys([])\n    }\n    return(\n      <div>\n      <Table rowSelection={props.onSelect?rowSelection:null} columns={columns}\n      dataSource={allRaceList} onChange={onChange} pagination={false} scroll={{y:dynamicTableHeight}}/>\n      </div>\n      )\n  }\n\nexport default Race\n","import React from 'react';\nimport db from '../db.js'\nimport t from './t.js'\nimport {Row,Col,Popover,Button,Tabs } from 'antd';\n\n\nconst ua = db.get('ua').value();\n\nconst EventList = (props)=>{\n  const eventIdList = props.eventList\n  const eventList = eventIdList.map(id=>db.get('events').find({id:id}).value())\n  const qieZhe = eventList?.filter(event=>JSON.stringify(event).indexOf('切れ者')!==-1)\n  if(props.type==='multi'){\n    return(<>\n        {eventList.filter(event=>event.choiceList.length > 1).map(event=><EventBox key={event.id} event={event}></EventBox>)}\n      </>\n    )\n  }else if(props.type==='all'){\n    return(<>\n      {eventList.map(event=><EventBox key={event.id} event={event}></EventBox>)}\n    </>\n    )\n  }\n  return (\n    <>\n      {qieZhe[0]&&qieZhe.map(event=><Row justify=\"space-around\" align=\"middle\">\n          <Col>{t('切れ者')}</Col>\n          <EventBox event={event}></EventBox>\n        </Row>\n      )}\n      <Tabs defaultActiveKey=\"1\">\n        <Tabs.TabPane tab={t('有选项')} key=\"1\">\n          {eventList.filter(event=>event.choiceList.length > 1).map(event=><EventBox key={event.id} event={event} ></EventBox>)}\n        </Tabs.TabPane>\n        <Tabs.TabPane tab={t('无选项')} key=\"2\">\n          {eventList.filter(event=>event.choiceList.length <= 1).map(event=><EventBox key={event.id} event={event}></EventBox>)}\n        </Tabs.TabPane>\n      </Tabs>\n    </>\n  )\n}\nconst EventBox = (props)=>{\n  const ChoiceItem = props.event.choiceList.map((choice,index)=>{\n    const ResultItem = choice[1].map((result,index)=>\n      <p key={index}>{result}</p>\n    )\n    return(\n      <Row key={index} gutter={[8,8]} className=\"list-row\">\n        <Col span={12}>\n          <p>{choice[0]}</p>\n          <p>{t(choice[0])}</p>\n        </Col>\n        <Col span={12}>{ResultItem}</Col>\n      </Row>\n    )\n  })\n\n  return(\n    <Popover\n      trigger={ua==='mo'?'click':'hover'}\n      content={<>\n      <p>{t(props.event.name)}</p>\n      {ChoiceItem}\n    </>} title={props.event.name} placement={'bottom'}>\n      <Button className='event-button'>{props.event.name}</Button>\n    </Popover>\n  )\n}\n\nexport {EventList}\n","import low from 'lowdb';\nimport LocalStorage from 'lowdb/adapters/LocalStorage'\nimport Memory from 'lowdb/adapters/Memory'\nimport axios from 'axios'\nimport jsonDB from './assert/db.json'\n\nconst adapterL = new LocalStorage('db')\n// const adapterM = new Memory()\nconst db = low(adapterL)\n\n\nconst d = async ()=>{\n  // let res = await axios.get('https://urarawin.com/d')\n  let res = await axios.get('https://urarawin.com/api/d')\n  console.log(res.data)\n  db.set('userId',res.data).write()\n}\ndb.get('userId').value()||d()\ndb.get('lan').value()||db.set('lan','cn').write()\ndb.get('selected').value()||db.set('selected',{\n  supports:{0:{},1:{},2:{},3:{},4:{},5:{}},\n  player:{},\n  races:[]\n}).write()\ndb.get('myDecks').value()||db.set('myDecks',[]).write()\ndb.get('mySupports').value()||db.set('mySupports',[]).write()\nexport  default db\n","import React from 'react';\n// import {useState} from 'react';\nimport { Table, Popover, Slider, Row ,Col} from \"antd\";\n\nimport db from '../db.js'\nimport t from './t.js'\n\n\nconst ua = db.get('ua').value();\n// \"limit_lv5\": -1,\n// \"limit_lv10\": 5,\n// \"limit_lv15\": -1,\n// \"limit_lv20\": -1,\n// \"limit_lv25\": 35,\n// \"limit_lv30\": 35,\n// \"limit_lv35\": -1,\n// \"limit_lv40\": -1,\n// \"limit_lv45\": 50,\n// \"limit_lv50\": -1\nconst effects = db.get('effects').value()\nconst limits = [\n  \"init\",\n  \"limit_lv5\",\n  \"limit_lv10\",\n  \"limit_lv15\",\n  \"limit_lv20\",\n  \"limit_lv25\",\n  \"limit_lv30\",\n  \"limit_lv35\",\n  \"limit_lv40\",\n  \"limit_lv45\",\n  \"limit_lv50\"]\nconst getValue = (effect,cur) =>{\n  if(effect[cur]!==-1){\n    return effect[cur]\n  }else{\n    let index = limits.indexOf(cur)\n    let min = 0\n    let min_limit = \"init\"\n    let max = 0\n    let max_limit = \"limit_lv50\"\n    for(let limit of limits.slice(0,index)){\n      if(effect[limit]>min){\n        min = effect[limit]\n        min_limit = limit\n      }\n    }\n    for(let limit of limits.slice(index,limits.length)){\n      if(effect[limit]!==-1){\n        max = effect[limit]\n        max_limit = limit\n        break\n      }\n    }\n    // cur=40 lv35=40 lv40=-1 lv50=-1\n    if(max<=min || max - min === 1 || min === 0){\n      return min\n    }else{\n      // console.table({\n      //   name:effects[effect.type].name,\n      //   cname:t(effects[effect.type].name),\n      //   cur,min_limit,min,max_limit,max,\n      //   'max-min':max-min,\n      //   'max_limit - min_limit':limits.indexOf(max_limit)-limits.indexOf(min_limit),\n      //   'cur - min_limit':limits.indexOf(cur)-limits.indexOf(min_limit),\n      //   cur_value:min+(max-min)*(limits.indexOf(cur)-limits.indexOf(min_limit))/(limits.indexOf(max_limit)-limits.indexOf(min_limit))\n      // })\n      return Math.floor(min+(max-min)*(limits.indexOf(cur)-limits.indexOf(min_limit))/(limits.indexOf(max_limit)-limits.indexOf(min_limit)))+`(${t('插值')})`\n    }\n  }\n}\nconst EffectTable = (props)=>{\n\n  const effects = db.get('effects').value()\n  let columns = [\n    {title:t('效果'),dataIndex:'type',key:'type',render:type=><Popover trigger={ua==='mo'?'click':'hover'} content={<>\n      <p>{effects[type].name}</p>\n      <p>{t(effects[type].name)}</p>\n      <p>{effects[type].description}</p>\n      <p>{t(effects[type].description)}</p>\n    </>}>\n      <p>{t(effects[type].name)}</p>\n    </Popover>},\n    {title:t('初始'),dataIndex:'init',key:'init',render:(text,record)=>getValue(record,'init')},\n    // {title:'lv5',dataIndex:'limit_lv5',key:'limit_lv5',render:(text,record)=>getValue(record,'limit_lv5')},\n    // {title:'lv10',dataIndex:'limit_lv10',key:'limit_lv10',render:(text,record)=>getValue(record,'limit_lv10')},\n    // {title:'lv15',dataIndex:'limit_lv15',key:'limit_lv15',render:(text,record)=>getValue(record,'limit_lv15')},\n    // {title:'lv20',dataIndex:'limit_lv20',key:'limit_lv20',render:(text,record)=>getValue(record,'limit_lv20')},\n    {title:'lv25',dataIndex:'limit_lv25',key:'limit_lv25',render:(text,record)=>getValue(record,'limit_lv25')},\n    {title:'lv30',dataIndex:'limit_lv30',key:'limit_lv30',render:(text,record)=>getValue(record,'limit_lv30')},\n    {title:'lv35',dataIndex:'limit_lv35',key:'limit_lv35',render:(text,record)=>getValue(record,'limit_lv35')},\n    {title:'lv40',dataIndex:'limit_lv40',key:'limit_lv40',render:(text,record)=>getValue(record,'limit_lv40')},\n    {title:'lv45',dataIndex:'limit_lv45',key:'limit_lv45',render:(text,record)=>getValue(record,'limit_lv45')},\n    {title:'lv50',dataIndex:'limit_lv50',key:'limit_lv50',render:(text,record)=>getValue(record,'limit_lv50')},\n      ]\n  if(props.rarity ===2 ){\n    columns = columns.slice(0,columns.length-1)\n  }else if(props.rarity === 1){\n    columns = columns.slice(0,columns.length-2)\n  }\n\n  return(<Table columns={columns} dataSource={props.effects} rowKey='type' pagination={false}></Table>)\n}\n\nconst getEffectMark = (maxLevel) =>{\n  let ok = {\n    1:'lv1',5:'lv5',10:'lv10',15:'lv15',20:'lv20',\n    25:'lv25',30:'lv30',35:'lv35',40:'lv40'\n  }\n  if(maxLevel>=45){\n    ok[45] = 'lv45'\n  }\n  if(maxLevel===50){\n    ok[50] = 'lv50'\n  }\n  return ok\n}\n\n\n\n\n\n\nclass TestEffectTable extends React.Component{\n  constructor(props) {\n    super(props);\n    this.effects = db.get('effects').value();\n    let maxLevel = 1;\n    switch (props.rarity) {\n      case 1:\n        maxLevel = 40;\n        break;\n      case 2:\n        maxLevel = 45;\n        break;\n      case 3:\n        maxLevel = 50;\n        break;\n      default:\n        maxLevel = 1;\n    }\n\n    this.maxLevel = maxLevel;\n    this.state={\n      selectingLevel:maxLevel,\n    }\n  }\n\n  calc(data,input){\n    let nodes = [];\n    let output = 0;\n    const maxLevel = this.maxLevel;\n    let prevNode = {level:0,value:0};\n    for (let i = 0; i<data.length;i += 1){\n      if(data[i] !== -1){\n        let level = i*5;\n        if (level === 0){\n          level = 1\n        }\n        nodes.push({level:level,value:data[i]})\n        prevNode = {level:level,value:data[i]};\n      }\n      if(i === data.length-1 && data[i] === -1){\n        nodes.push({level:maxLevel,value:prevNode.value})\n      }\n    }\n    nodes.push({level:999,value:prevNode.value}); // 以后万一出SSSR？确保一定能找到区间。\n\n    const level = Math.floor(input);\n    let upperNode = {level:0,value:0};\n    let lowerNode = {level:0,value:0};\n    if(level < 0 || level > maxLevel){\n        output = 0;\n    }else if(level<nodes[0].level){\n        output = 0;\n    }else {\n      for(let i=0;i<nodes.length;i+=1){\n        if (level>=nodes[i].level && level < nodes[i+1].level){\n          lowerNode = nodes[i];\n          upperNode = nodes[i+1] || nodes[i];\n          break;\n        }\n      }\n      output = Math.floor((upperNode.value-lowerNode.value)/(upperNode.level-lowerNode.level)*(level-lowerNode.level)+lowerNode.value);\n    }\n\n    return output\n  }\n\n\n  effectCapsuleStyle = {\n    display:'flex',\n    alignItems:'center',\n    flexDirection:'row',\n    margin:2,\n    borderRadius:'12px',\n    backgroundColor:'#32cd32C0',\n    borderStyle:'solid',\n    borderWidth:'thin',\n    borderColor:'#32cd32F0'\n}\n\n    effectRightDivStyle={\n    padding:8,\n    display:'flex',\n    height:'100%',\n    width:'60%',\n    backgroundColor:'white',\n    borderRadius:'0 12px 12px 0',\n    }\n\n    effectNameStyle={\n      fontSize:18,\n      fontWeight: 500,\n      color:'#333333',\n      textShadow: \"0 2px #cccccc70\",\n      overflow: 'hidden',\n      whiteSpace: 'nowrap',\n      textOverflow: 'ellipsis',\n    }\n\n    effectValueStyle = {\n      fontSize:18,\n      fontWeight: 600,\n      color:'#333333',\n    }\n    effectBoxStyle = {\n      display:'flex',\n      flexDirection:'row',\n      alignItems:'center',\n      width:'100%',\n      padding:8,\n      justifyContent:'space-between'\n    }\n  render() {\n    return(\n      <div>\n        {this.props.unique_effect&&<>\n        <div style={{...this.effectBoxStyle}}>\n          <text style={{...this.effectValueStyle,fontSize:18,marginRight:16}}>\n            {t('固有效果')}\n          </text>\n          <text style={{...this.effectValueStyle,fontSize:18,marginRight:16}}>\n            {`${t('激活等级')}:${this.props.unique_effect.lv}`}\n          </text>\n        </div>\n        <Row>\n          {['0','1'].map(index=>\n            <Col span={12} key={index}>\n              <div style={{...this.effectCapsuleStyle}}>\n            <Popover trigger={ua==='mo'?'click':'hover'} content={<>\n              <p>{this.effects[this.props.unique_effect[`type_${index}`]].name}</p>\n              <p>{t(this.effects[this.props.unique_effect[`type_${index}`]].name)}</p>\n              <p>{this.effects[this.props.unique_effect[`type_${index}`]].description}</p>\n              <p>{t(this.effects[this.props.unique_effect[`type_${index}`]].description)}</p>\n            </>}>\n              <div style={{display:'flex',padding:8,width:'40%'}}>\n                <text style={{...this.effectNameStyle}}>\n                  {t(this.effects[this.props.unique_effect[`type_${index}`]].name)}\n                </text>\n              </div>\n            </Popover>\n                <div style={{...this.effectRightDivStyle}}>\n                  <text style={{...this.effectValueStyle}}>\n                  {this.props.unique_effect[`value_${index}`]}\n                  </text>\n                </div>\n              </div>\n            </Col>\n          )}\n        </Row>\n        </>}\n\n        <div style={{...this.effectBoxStyle}}>\n          <text style={{...this.effectValueStyle,fontSize:18,marginRight:16}}>\n            {t('设置等级')}\n          </text>\n          <Slider\n            style={{width:'80%',marginRight:16}}\n            min={1}\n            max={this.maxLevel}\n            value={this.state.selectingLevel}\n            onChange={(value)=>{this.setState({selectingLevel:value})}}\n            marks={getEffectMark(this.maxLevel)}\n          />\n        </div>\n        <Row>\n          {this.props.effects?.map(\n            (item,index)=>{\n              const data = [item.init,item.limit_lv5,item.limit_lv10,item.limit_lv15,item.limit_lv20,item.limit_lv25,item.limit_lv30,item.limit_lv35,item.limit_lv40,item.limit_lv45,item.limit_lv50].filter((item)=>(item));\n              return (\n                <Col span={12} key={index}>\n                  <div style={{...this.effectCapsuleStyle}}>\n                <Popover trigger={ua==='mo'?'click':'hover'} content={<>\n                  <p>{this.effects[item.type].name}</p>\n                  <p>{t(this.effects[item.type].name)}</p>\n                  <p>{this.effects[item.type].description}</p>\n                  <p>{t(this.effects[item.type].description)}</p>\n                </>}>\n                  <div style={{display:'flex',padding:8,width:'40%'}}>\n                    <text style={{...this.effectNameStyle}}>{t(this.effects[item.type].name)}</text>\n                  </div>\n                </Popover>\n                    <div style={{...this.effectRightDivStyle}}>\n                      <text style={{...this.effectValueStyle}}>\n                      {this.calc(data,this.state.selectingLevel)}\n                      </text>\n                    </div>\n                  </div>\n                </Col>\n              )\n            }\n          )}\n          </Row>\n      </div>\n    )\n  }\n}\n\n\n\n\n\n\n\nexport {EffectTable,TestEffectTable}\n","import React,{useState} from 'react';\nimport {useHistory} from 'react-router-dom';\n\nimport { Button, Divider, Image, Alert,Tooltip,Modal } from \"antd\";\nimport db from '../db.js'\nimport t from './t.js'\n\nimport {EventList} from './event.js'\nimport {SkillList} from './skill-detail.js'\nimport {EffectTable,TestEffectTable} from './effect.js'\nconst ua = db.get('ua').value();\nconst cdnServer = 'https://cdn.jsdelivr.net/gh/wrrwrr111/pretty-derby/public/'\n\n\nconst SupportDetail = (props) =>{\n  const id = props.supportId || props.match.params.supportId\n  const data = db.get('supports').find({id}).value()\n  return(<>\n    <div style={{display:'flex',alignItems:'center',justifyContent:'flex-start',height:192,padding:16}}>\n      <Image src={cdnServer+data.imgUrl} preview={false} width={128} />\n      <div style={{display:'flex',flexDirection:'column',justifyContent:'space-around',height:'100%',padding:16}}>\n        <div style={{fontSize:20,fontWeight:700}}>{t(data.name)}</div>\n        <div style={{fontSize:20,fontWeight:700,color:'gray'}}>{data.name}</div>\n        <div style={{fontSize:20,fontWeight:700}}>{t(data.charaName)}</div>\n        <div style={{fontSize:20,fontWeight:700,color:'gray'}}>{data.charaName}</div>\n      </div>\n    </div>\n    <EventList eventList={data.eventList} pid={data.id}></EventList>\n    <Divider style={{margin:'4px 0'}}>{t('事件技能')}</Divider>\n    <SkillList skillList={data.trainingEventSkill}></SkillList>\n    <Divider style={{margin:'4px 0'}}>{t('训练技能')}</Divider>\n    <SkillList skillList={data.possessionSkill}></SkillList>\n    <Divider>{t('育成效果')}</Divider>\n    <TestEffectTable effects={data.effects} unique_effect={data.unique_effect} rarity={data.rarity}></TestEffectTable>\n    <Alert message={t('中间数值为插值，存在误差')} type=\"info\" />\n    <EffectTable effects={data.effects} rarity={data.rarity}></EffectTable>\n  </>)\n}\nconst SupportCard = (props)=>{\n  const history = useHistory();\n  const [isModalVisible, setIsModalVisible] = useState(false);\n  const support = props.data\n\n  const showSupportDetail = () => {\n    if(props.onSelect){\n      props.onSelect(props.data)\n    }else{\n      if(ua==='mo'){\n        history.push(`/support-detail/${support.id}`)\n      }else{\n        setIsModalVisible(true);\n      }\n    }\n  };\n\n  const handleOk = () => {\n    setIsModalVisible(false);\n  };\n\n  const handleCancel = () => {\n    setIsModalVisible(false);\n  };\n\n  return (\n    <>\n      <Tooltip title={`${support.name}----${t(support.charaName)}`}>\n        <Image src={cdnServer+support.imgUrl} preview={false}  onClick={showSupportDetail} alt={support.charaName} width={'100%'}></Image>\n      </Tooltip>\n\n      <Modal title={`${support.name}----${t(support.charaName)}`}\n            visible={isModalVisible} onOk={handleOk} onCancel={handleCancel}\n            width={800} destroyOnClose={true}>\n        <SupportDetail supportId={support.id}></SupportDetail>\n      </Modal>\n    </>\n  )\n}\nexport {SupportDetail,SupportCard}\n\n","import React, { useEffect, useState } from 'react';\nimport { withRouter, useHistory, useLocation } from 'react-router-dom';\nimport db from '../db.js'\nimport dbL from '../dbL.js'\nimport { Row, Col, Popover, Button, Image, Checkbox, Divider, Input, Tooltip, Switch } from 'antd';\nimport t from './t.js'\nimport { SupportCard } from './support-detail.js'\nimport { PlayerCard } from './player-detail.js'\nimport ScrollBars from 'react-custom-scrollbars'\n\nconst Search = Input.Search\nconst cdnServer = 'https://cdn.jsdelivr.net/gh/wrrwrr111/pretty-derby/public/'\n\nconst ua = dbL.get('ua').value();\nconst allSkillList = db.get('skills').orderBy('db_id').value()\n\nconst options = {\n  distance_type: [\n    { label: t('短距離'), value: '1' },\n    { label: t('マイル'), value: '2' },\n    { label: t('中距離'), value: '3' },\n    { label: t('長距離'), value: '4' },\n  ],\n  running_style: [\n    { label: t('逃げ'), value: '1' },\n    { label: t('先行'), value: '2' },\n    { label: t('差し'), value: '3' },\n    { label: t('追込'), value: '4' },\n    { label: t('通用'), value: '-1' },\n  ],\n  phase: [\n    { label: t('序盤'), value: '0' },\n    { label: t('中盤'), value: '1' },\n    { label: t('終盤'), value: '2' },\n    { label: t('冲刺'), value: '3' },\n  ],\n  corner_random: [\n    { label: t('コーナー'), value: '1' },\n  ],\n  straight_random: [\n    { label: t('直線'), value: '1' },\n  ],\n  is_finalcorner: [\n    { label: t('最終直線/コーナー'), value: '1' },\n  ]\n  // is_finalcorner==1&corner==0\n}\nconst skillType = {\n  1: '速度属性',\n  2: '耐力属性',\n  3: '力量属性',\n  4: '毅力属性',\n  5: '智力属性',\n  6: '体力',\n  7: '体力消耗',\n  8: '视野',\n  9: '体力恢复',\n  10: '出栏时机',\n  14: '掛かり结束时间',\n  21: '瞬时速度',\n  27: '目标速度',\n  28: '走位速度',\n  31: '加速度',\n}\n\nconst SkillList = (props) => {\n  const skillList = props.skillList\n\n  return (\n    <Row gutter={0}>\n      {skillList.map((skillId, index) =>\n        <Col span={12} key={index}>\n          <SkillButton id={skillId} usedInList={true} isNur={props.isNur || false}>\n          </SkillButton>\n        </Col>)}\n    </Row>\n  )\n}\nconst allSupportList = db.get('supports').value()\nconst allPlayerList = db.get('players').value()\n\nconst SkillDetail = (props) => {\n  const skill = props.skill || db.get('skills').find({ id: props.match?.params?.id }).value()\n  const isNur = props.isNur !== undefined ? props.isNur : parseInt(props.match?.params?.nur)\n  const supportList = allSupportList.filter(support => {\n    let flag = 0;\n    support.skillList.forEach(id => {\n      if (id === skill?.id) {\n        flag = 1\n      }\n    })\n    return flag\n  })\n  const playerList = allPlayerList.filter(player => {\n    let flag = 0;\n    player.skillList.forEach(id => {\n      if (id === skill?.id) {\n        flag = 1\n      }\n    })\n    return flag\n  })\n\n  return <div style={{\n    maxWidth: 600, maxHeight: window.innerHeight - 104,\n    overflow: 'auto', textAlign: 'left',\n    overflowWrap: 'break-word', wordBreak: 'break-all'\n  }}>\n    <Image src={cdnServer + skill?.imgUrl} preview={false} width={52}></Image>\n    <p>{`${t('技能名称')}:\\xa0\\xa0${skill?.name}`}</p>\n    <p>{`${t('技能名称')}:\\xa0\\xa0${t(skill?.name)}`}</p>\n    <p>{`${t('技能描述')}:\\xa0\\xa0${skill?.describe}`}</p>\n    <p>{`${t('技能描述')}:\\xa0\\xa0${t(skill?.describe)}`}</p>\n    <p>{`${t('触发条件')}:\\xa0\\xa0${skill?.condition}`}</p>\n    <p>{`${t('触发条件')}:\\xa0\\xa0${t(skill?.condition)}`}</p>\n    <p>{`${t('技能效果')}:\\xa0\\xa0${skill?.ability?.map(ability => skillType[ability.type] + ' ' + ability.value / 10000)}`}</p>\n    <p>{`${t('持续时间')}:\\xa0\\xa0${skill?.ability_time / 10000}s*${t('赛道长度')}/1000`}</p>\n    <p>{`${t('冷却时间')}:\\xa0\\xa0${skill?.cooldown / 10000}s*${t('赛道长度')}/1000`}</p>\n    <p>{`${t('技能价格')}:\\xa0\\xa0${skill?.need_skill_point}\\xa0Pt`}</p>\n    <p>{`${t('技能评分')}:\\xa0\\xa0${skill?.grade_value}`}</p>\n    {!isNur && <>\n      <Divider>{t('支援卡')}</Divider>\n      <Row>\n        {supportList.sort((a, b) => b.rarity - a.rarity).map(support =>\n          <Col span={4} key={support.id}>\n            <SupportCard data={support} onSelect={() => null}></SupportCard>\n          </Col>)\n        }\n      </Row>\n      <Divider>{t('角色')}</Divider>\n      <Row>\n        {playerList.sort((a, b) => b.rarity - a.rarity).map(player =>\n          <Col span={4} key={player.id}>\n            <PlayerCard data={player} onSelect={() => null}></PlayerCard>\n          </Col>)\n        }\n      </Row>\n    </>}\n  </div>\n}\nconst SkillButton = (props) => {\n  const history = useHistory();\n  const skill = props.skill || db.get('skills').find({ id: props.id }).value()\n\n  const toSkillDetail = (id) => {\n    if (ua === 'mo') {\n      history.push(`/skill-detail/${id}`)\n    }\n  }\n\n  const inListStyleOverride = {\n    borderRadius: '8px',\n    color: '#303030',\n    width: '96%',\n    justifyContent: 'flex-start'\n  }\n  const skillNameStyle = {\n    width: `calc(96% - 34px)`,\n    overflow: 'hidden',\n    whiteSpace: 'nowrap',\n    textOverflow: 'ellipsis',\n    textAlign: 'justify'\n  }\n\n  return <Popover visible={ua === 'mo' ? false : undefined}\n    content={\n      <SkillDetail skill={skill} isNur={props.isNur || false}></SkillDetail>\n    }>\n    <Button type={'primary'} className={'skill-btn skill-btn-' + skill?.rarity}\n      style={props.usedInList ? { ...inListStyleOverride } : {}}\n      onClick={() => toSkillDetail(skill?.id)}>\n      <div style={props.usedInList ?\n        { display: 'flex', position: 'absolute', top: 4, left: 8, width: '100%' } : { width: '100%' }}>\n        <Image src={cdnServer + skill?.imgUrl} preview={false} width={26}></Image>\n        <div style={{ ...skillNameStyle }}>{`\\xa0\\xa0${skill?.name}`}</div>\n      </div>\n    </Button>\n  </Popover>\n}\n\nconst SkillCheckboxGroup = React.memo((props) => {\n  const { options, name, value } = props;\n  const onChange = (checkedValues) => {\n    props.onChange(name, checkedValues);\n  }\n\n  return <Checkbox.Group options={options} value={value} onChange={onChange} />\n});\n\nconst SkillCheckbox = React.memo((props) => {\n  const [skillChecked1, setSkillChecked1] = useState([]);\n  const [skillChecked2, setSkillChecked2] = useState([]);\n  const [checkboxGroupValues, setCheckedboxGroupValues] = useState({});\n  // init isOwn\n  localStorage.getItem('isOwn') === null && localStorage.setItem('isOwn', 0)\n  const [isOwn, setIsOwn] = useState(parseInt(localStorage.getItem('isOwn')))\n  const mySupports = dbL.get('mySupports').value()\n  const mySkillList = new Set(mySupports.reduce((list, supportId) => {\n    let support = db.get('supports').find({ id: supportId }).value()\n    return list.concat(support.skillList)\n  }, []))\n  const checkOptions1 = [\n    { label: '速度被动(绿)', value: '10011' },\n    { label: '耐力被动(绿)', value: '10021' },\n    { label: '力量被动(绿)', value: '10031' },\n    { label: '毅力被动(绿)', value: '10041' },\n    { label: '智力被动(绿)', value: '10051' },\n    { label: '耐力恢复(蓝)', value: '20021' },\n    { label: '速度提高(黄)', value: '20011' },\n    // {label:'20031',value:'20031'},\n    { label: '加速度提高(黄)', value: '20041' },\n    { label: '切换跑道(黄)', value: '20051' },\n    { label: '起步时间(黄)', value: '20061' },\n    // {label:'20071',value:'20071'},\n    // {label:'20081',value:'20081'},\n    { label: '视野提高(黄)', value: '20091' },\n    { label: '速度降低(红)', value: '30011' },\n    { label: '无法冷静(红)', value: '30041' },\n    { label: '耐力降低(红)', value: '30051' },\n    { label: '视野降低(红)', value: '30071' }\n  ]\n  const checkOptions2 = [\n    { label: t('ノーマル'), value: 'ノーマル' },\n    { label: t('レア'), value: 'レア' },\n    { label: t('固有'), value: '固有' }\n  ]\n  const onChange1 = (checkedValues) => {\n    setSkillChecked1(checkedValues)\n    updateSkillList(filteredSkills, checkedValues, skillChecked2, isOwn)\n  }\n  const onChange2 = (checkedValues) => {\n    setSkillChecked2(checkedValues)\n    updateSkillList(filteredSkills, skillChecked1, checkedValues, isOwn)\n  }\n  const filteredSkills = React.useMemo(() => Object.entries(checkboxGroupValues)\n    .reduce((l, [key, values]) =>\n      values.length > 0\n        ? l.filter(skill => {\n          if (!skill?.condition) {\n            return false\n          }\n          switch (key) {\n            case 'phase':\n              return ['phase', 'phase_random'].map(\n                _key => values.map(value => `${_key}==${value}`)\n              ).flat().some(phrase => skill?.condition.includes(phrase));\n            case 'running_style':\n              return (values.map(value => `${key}==${value}`)\n                .some(phrase => skill?.condition.includes(phrase))) || (values.includes('-1') && !skill?.condition.includes(`${key}==`));\n            default:\n              return values.map(value => `${key}==${value}`)\n                .some(phrase => skill?.condition.includes(phrase));\n          }\n        })\n        : l,\n      allSkillList),\n    [checkboxGroupValues, allSkillList])\n  useEffect(() => {\n    updateSkillList(filteredSkills, skillChecked1, skillChecked2, isOwn)\n  }, [filteredSkills]);\n\n  const onCheckboxGroupsChange = React.useCallback((groupName, checkedValues) => {\n    setCheckedboxGroupValues({ ...checkboxGroupValues, ...{ [groupName]: checkedValues } });\n  }, [checkboxGroupValues]);\n\n  const updateSkillList = (tempSkillList, check2, check3, isOwn) => {\n    const check1 = Object.values(checkboxGroupValues).flat();\n    if (check2.length) {\n      tempSkillList = tempSkillList.filter(skill => {\n        let flag = 0;\n        check2.forEach(value => {\n          let str = skill?.icon_id + ''\n          if (str) {\n            if (str[0] === value[0] && str[3] === value[3]) {\n              flag = 1\n            }\n          }\n        })\n        return flag\n      })\n    }\n    if (check3.length) {\n      tempSkillList = tempSkillList.filter(skill => {\n        let flag = 0;\n        check3.forEach(value => {\n          if (skill?.rare === value) {\n            flag = 1\n          }\n        })\n        return flag\n      })\n    }\n    if (isOwn) {\n      tempSkillList = tempSkillList.filter(skill => {\n        return mySkillList.has(skill?.id)\n      })\n    }\n    if (check1.length || check2.length || check3.length || isOwn) {\n      tempSkillList.push({\n        id: 'default'\n      })\n    }\n    if (props.needId) {\n      tempSkillList = tempSkillList.reduce((list, skill) => {\n        list.push(skill?.id)\n        return list\n      }, [])\n    }\n    props.onUpdate(tempSkillList)\n  }\n  const resetCheckbox = () => {\n    setCheckedboxGroupValues({})\n    setSkillChecked1([])\n    setSkillChecked2([])\n    props.onUpdate(allSkillList)\n  }\n  const changeMode = () => {\n    let curValue = 1 - isOwn\n    localStorage.setItem('isOwn', curValue)\n    setIsOwn(curValue)\n    // console.log(curValue)\n    updateSkillList(filteredSkills, skillChecked1, skillChecked2, curValue)\n  }\n  const onSearch = (searchText) => {\n    const fullSkillList = allSkillList;\n    const tempSkillList = fullSkillList.filter(item => (item.name).indexOf(searchText) > -1);\n    setCheckedboxGroupValues({})\n    setSkillChecked1([])\n    setSkillChecked2([])\n    props.onUpdate(tempSkillList)\n  };\n  return (<>{props.checkOnly ?\n    <>\n      {Object.entries(options).map(([gourpName, value]) => <SkillCheckboxGroup name={gourpName} value={checkboxGroupValues[gourpName]} options={value} onChange={onCheckboxGroupsChange} />)}\n      <Divider />\n      <Checkbox.Group options={checkOptions1} value={skillChecked1} onChange={onChange1} />\n      <Divider />\n      <Checkbox.Group options={checkOptions2} value={skillChecked2} onChange={onChange2} />\n    </>\n    :\n    <div>\n      <div style={{ height: 16 }} />\n      <Button type={'danger'} onClick={resetCheckbox} style={{ width: '100%' }}>{t('重置')}\n      </Button>\n      <Divider />\n      <div>\n        <Tooltip title={t(\"可以在支援卡页面配置\")}>\n          <span style={{ margin: '0 10px 0 0', lineHeight: '32px' }}>{t('显示拥有支援卡')}</span>\n          <Switch checked={isOwn} onChange={changeMode} />\n        </Tooltip>\n      </div>\n      <span style={{ margin: '0 10px 0 0', lineHeight: '32px' }}>{t('技能搜索')}</span>\n      <Search placeholder={t(\"输入关键词\")} enterButton={t(\"搜索\")} size=\"middle\"\n        style={{ width: '100%' }} onSearch={onSearch} />\n      <Divider />\n      {Object.entries(options).map(([gourpName, value]) => <SkillCheckboxGroup name={gourpName} value={checkboxGroupValues[gourpName]} options={value} onChange={onCheckboxGroupsChange} />)}\n      <Divider />\n      <Checkbox.Group options={checkOptions1} value={skillChecked1} onChange={onChange1} />\n      <Divider />\n      <Checkbox.Group options={checkOptions2} value={skillChecked2} onChange={onChange2} />\n    </div>}\n  </>\n  )\n})\n\n\nexport { SkillList, SkillButton, SkillCheckbox, SkillDetail }\n","import React from 'react';\nimport {useState} from 'react';\nimport db from '../db.js'\n\nimport { Row,Col,Timeline,Checkbox,Button } from 'antd';\nimport { createFormattedComponent } from 'react-intl/src/components/createFormattedComponent';\nimport { getTimeProps } from 'antd/lib/date-picker/generatePicker';\nimport t from './t.js'\n\nconst ua = db.get('ua').value();\n\nconst RaceSchedule = (props)=>{\n  // const races = db.get('races').value()\n  const str  = []\n  const getDate = (i)=>{\n    let year = Math.floor(i/24)+1\n    let month = Math.floor((i - (year-1)*24) /2)+1\n    let moment = i%2?'后':'前'\n    return `${year}年${month}月${moment}`\n  }\n  for (let i = 13;i<72;i++){\n    let curRace;\n    if(props.raceList&&props.raceList[i]){\n      curRace = db.get('races').find({id:props.raceList[i].id}).value()\n      str.push(<Col span={6} key={i}\n      style={{backgroundColor:'#ff6b81',border:'1px solid #2f3542'}}>\n        {getDate(i)}\n        <br/>\n        {`${curRace.name}/${curRace.distanceType}/${props.raceList[i].goal}`}\n        {/* -{curRace.date} */}\n        </Col>)\n    }else if(props.filterRace&&props.filterRace[i]){\n      str.push(<Col span={6} key={i}\n        style={{\n        backgroundColor:'#7bed9f',\n        border:'1px solid #2f3542',\n        whiteSpace:'pre-line'}}>\n        {getDate(i)}\n        <br/>\n        {props.filterRace[i].map(raceId=>{\n          let curRace = db.get('races').find({id:raceId}).value()\n          return `${curRace.name}/${curRace.grade}/${curRace.distanceType}\\n`\n\n        })}\n        </Col>)\n    }else{\n      str.push(<Col span={6} key={i}\n      style={{backgroundColor:'#a4b0be',border:'1px solid #2f3542'}}>\n        {getDate(i)}\n      </Col>)\n    }\n  }\n  return(<Row style={{color:'black'}}>\n    {str}\n  </Row>)\n}\n\nconst raceGolds=[\n  {name:'传统三冠',raceNames:['皐月賞30', '日本ダービー東京優駿33','菊花賞43']}, \n  {name:'春日三冠',raceNames:['大阪杯53', '天皇賞春55','宝塚記念59']}, \n  {name:'秋日三冠',raceNames:['天皇賞秋67', 'ジャパンカップ69','有馬記念71']}, \n  {name:'天皇春秋',raceNames:['天皇賞春55', '天皇賞秋67']},\n  {name:'纪念春秋Ⅰ',raceNames:['宝塚記念35', '有馬記念47']},\n  {name:'纪念春秋Ⅱ',raceNames:['宝塚記念59', '有馬記念71']},\n  {name:'母马三冠',raceNames:['桜花賞30', 'オークス33','秋華賞43']}, \n  {name:'英里春秋Ⅰ',raceNames:['安田記念34', 'マイルチャンピオンシップ45']},\n  {name:'英里春秋Ⅱ',raceNames:['安田記念58', 'マイルチャンピオンシップ69']},\n  {name:'泥地春秋',raceNames:['フェブラリーステークス51', 'チャンピオンズカップ70']},\n  {name:'短距春秋',raceNames:['高松宮記念53', 'スプリンターズステークス65']}\n]\nconst getGolds = (race)=>{\n  return raceGolds.reduce((golds,raceGold)=>{\n    if(raceGold.raceNames.indexOf(race.uniqueName)!==-1){\n      golds.push(`${raceGold.name} ${raceGold.raceNames.indexOf(race.uniqueName)+1}/${raceGold.raceNames.length}`)\n    }\n    return golds\n  },[]).join(' , ')\n}\n\nconst RaceTimeline = React.memo((props)=>{\n  const [showSpare,setShowSpare] = useState(false)\n  const str  = []\n\n  const getDate = (i)=>{\n    let year = Math.floor(i/24)+1\n    let month = Math.floor((i - (year-1)*24) /2)+1\n    month = month<10?`\\xa0\\xa0${month}`:month\n    let moment = i%2?'后':'前'\n    return `${year}年\\xa0${month}月${moment}`\n  }\n  const getColor = (grade)=>{\n    switch(grade){\n      case 'G1':\n        return 'blue';\n      case 'G2':\n        return 'pink';\n      case 'G3':\n        return 'green';\n      case 'OP':\n        return 'orange';\n      case 'Pre-OP':\n        return 'orange';\n      default:\n        return 'gray'\n    }\n  }\n  for (let i = 13;i<72;i++){\n    let curRace,id,golds;\n    if(props.raceList&&props.raceList[i]){\n      id = props.raceList[i].id\n      curRace = db.get('races').find({id}).value()\n      golds = getGolds(curRace)\n      str.push(<Timeline.Item label={getDate(i)} color=\"red\" style={{fontSize:'16px'}} key={id}>\n        <b>{`${curRace.grade} / ${curRace.distanceType} / ${curRace.distance} / ${curRace.name} / ${props.raceList[i].goal||'参赛'}\n          ${golds?' / '+golds:''}`}</b>\n      </Timeline.Item>)\n    }else if(props.filterRace&&props.filterRace[i]){\n      props.filterRace[i].forEach((id,index)=>{\n        curRace = db.get('races').find({id}).value()\n        golds = getGolds(curRace)\n        str.push(<Timeline.Item label={index===0?getDate(i):null} color={getColor(curRace.grade)}\n        style={{fontSize:'14px'}} key={id}>\n            <p>{`${curRace.grade} / ${curRace.distanceType} / ${curRace.distance} / ${curRace.name}\n            ${golds?' / '+golds:''}`}</p>\n          </Timeline.Item>)\n\n      })\n    }else{\n      //普通\n      showSpare&&str.push(<Timeline.Item label={getDate(i)} color={getColor('normal')}\n        style={{fontSize:'12px'}}>\n            <p></p>\n          </Timeline.Item>)\n    }\n  }\n  return(\n  <>\n  <Button onClick={()=>setShowSpare(!showSpare)}>\n    {showSpare?t('隐藏空闲月份'):t('显示空闲月份')}\n  </Button>\n  <Timeline mode='left' style={{paddingTop:8}}>\n    {str}\n  </Timeline>\n  </>)\n})\nconst RaceCheckbox = (props) =>{\n  const [raceFilterCondition,setRaceFilterCondition] = useState(props.raceFilterCondition)\n\n  const filterList= {\n    distanceType:[\n      { label: '短距離', value: '短距離' },\n      { label: 'マイル', value: 'マイル' },\n      { label: '中距離', value: '中距離' },\n      { label: '長距離', value: '長距離' }\n    ],\n    grade:[\n      { label: 'Pre-OP', value: 'Pre-OP' },\n      { label: 'OP', value: 'OP' },\n      { label: 'G1', value: 'G1' },\n      { label: 'G2', value: 'G2' },\n      { label: 'G3', value: 'G3' }\n    ],\n    ground: [\n      { label: '芝', value: '芝' },\n      { label: 'ダート', value: 'ダート' }\n    ],\n\n  }\n  const onChange=(checkedValues,type)=>{\n    let tmpObj = {}\n    tmpObj[type]=checkedValues\n    console.log({...raceFilterCondition,...tmpObj})\n    props.onChange({...raceFilterCondition,...tmpObj})\n    setRaceFilterCondition({...raceFilterCondition,...tmpObj})\n  }\n  return (<>\n  {Object.keys(filterList)\n    .map(key=>\n      <div key={key}>\n        <Checkbox.Group options={filterList[key]} defaultValue={props.raceFilterCondition[key]} onChange={(checkedValues)=>onChange(checkedValues,key)}/>\n      </div>\n      )}\n  </>)\n}\nexport {RaceSchedule,RaceTimeline,RaceCheckbox}\n","import React,{useState} from 'react';\nimport {useHistory} from 'react-router-dom';\n\nimport { Divider,Image,Card,Modal,Table} from 'antd';\nimport db from '../db.js'\nimport t from './t.js'\n\nimport {EventList} from './event.js'\nimport {SkillList} from './skill-detail.js'\n// import RaceList from './player-race.js'\nimport {RaceSchedule,RaceTimeline} from '../components/race.js'\n// import {EffectTable} from './effect.js'\nconst ua = db.get('ua').value();\nconst cdnServer = 'https://cdn.jsdelivr.net/gh/wrrwrr111/pretty-derby/public/'\n\nconst PlayerDetail = (props) =>{\n  const id = props.playerId!==undefined?props.playerId:props.match.params.id\n  // 是否育成 育成顺序样式不同\n  const isNur = props.isNur!==undefined?props.isNur:parseInt(props.match.params.nur)\n  const data = db.get('players').find({id}).value()\n  const PlayerItem = () => <div style={{height:69,display:'flex'}}>\n    <Image src={cdnServer+data.imgUrl} width={63} height={69} resizemode={'cover'}></Image>\n    <div style={{display:'flex',height:64,flexDirection:'column',justifyContent:'space-between'}}>\n      <div style={{fontSize:20,fontWeight:700}}>{data.name}</div>\n      <div style={{fontSize:20,fontWeight:700,color:'gray'}}>{t(data.name)}</div>\n      <div style={{fontSize:20,fontWeight:700}}>{data.charaName}</div>\n      <div style={{fontSize:20,fontWeight:700,color:'gray'}}>{t(data.charaName)}</div>\n    </div>\n  </div>\n  if(isNur){\n    return <>\n      <PlayerItem></PlayerItem>\n      <Divider>{t(\"事件\")}</Divider>\n      <EventList eventList={data.eventList} pid={data.id} ></EventList>\n      <Divider>{t(\"隐藏事件\")}</Divider>\n      <EventList eventList={data.hideEvent} pid={data.id} type='all'></EventList>\n      <Divider>{t(\"赛程\")}</Divider>\n      {/* <RaceSchedule raceList={data.raceList}></RaceSchedule> */}\n      <RaceTimeline raceList={data.raceList}></RaceTimeline>\n      <Divider>{t(\"技能\")}</Divider>\n      <SkillList skillList={data.skillList}></SkillList>\n    </>\n  }else{\n    return <>\n    <PlayerItem></PlayerItem>\n    <Divider>{t(\"适应\")}</Divider>\n    <AdaptBox player={data}></AdaptBox>\n    <Divider>{t(\"成长\")}</Divider>\n    <GrowBox player={data}></GrowBox>\n    <Divider>{t(\"技能\")}</Divider>\n    <SkillList skillList={data.skillList}></SkillList>\n    <Divider>{t(\"事件\")}</Divider>\n    <EventList eventList={data.eventList} pid={data.id} ></EventList>\n    <Divider>{t(\"隐藏事件\")}</Divider>\n    <EventList eventList={data.hideEvent} pid={data.id} type='all'></EventList>\n    <Divider>{t(\"赛程\")}</Divider>\n    {/* <RaceSchedule raceList={data.raceList}></RaceSchedule> */}\n    <RaceTimeline raceList={data.raceList}></RaceTimeline>\n  </>\n  }\n}\nconst coloredGradeText = (text)=>{\n  let color = 'gray';\n  switch (text) {\n    case 'S':\n      color = '#FFD700';\n      break\n    case 'A':\n      color = '#FFA500';\n      break\n    case 'B':\n      color = '#BA55D3';\n      break\n    case 'C':\n      color = '#90EE90';\n      break\n    case 'D':\n      color = '#87CEEB';\n      break\n    default:\n      color = 'gray'\n  }\n  return <div style={{fontSize:22,fontWeight:700,textShadow: \"0 2px #33333370\",color:color}}>{text}</div>\n}\nconst AdaptBox = (props)=>{\n\n  const tableStyle = {\n    width:\"100%\",\n    cellPadding:4,\n  }\n  const cellStyle = {\n    width:'20%',\n    height:'32px',\n    fontSize: 16,\n    textAlign: 'flex-start',\n    paddingLeft:16,\n    fontWeight: 500,\n    borderWidth:'thin',\n    borderStyle:'none solid solid none',\n    borderColor:'gray',\n  }\n  const headerCellStyle = {\n    width:'20%',\n    fontSize: 18,\n    textAlign: 'center',\n    fontWeight: 600,\n    color:'#f5f5f5',\n    textShadow: \"0 2px #33333370\",\n    backgroundColor:'#32cd32C0',\n    borderWidth:'thin',\n    borderStyle:'none solid solid none',\n    borderColor:'gray',\n  }\n  const adaptTextWrapperStyle = {paddingRight:16,display:'flex',width:'100%',alignItems:'center',justifyContent:'space-between'}\n\n\n  // {[`草地/芝\\xa0`,coloredGradeText(props.player.grass)]}\n  return(\n    <div style={{borderRadius:'8px',borderStyle:'solid',borderWidth:'thin',borderColor:'gray'}}>\n      <table {...tableStyle} >\n        <tbody>\n          <tr>\n            <td style={{ ...headerCellStyle ,borderRadius:\"8px 0 0 0\",fontWeight:700,fontSize:18}}>{t(\"场地适应\")}</td>\n            <td style={{ ...cellStyle }}><div style={adaptTextWrapperStyle}>{[`${t(\"芝\")}`,coloredGradeText(props.player.grass)]}</div></td>\n            <td style={{ ...cellStyle }}><div style={adaptTextWrapperStyle}>{[`${t(\"ダート\")}`,coloredGradeText(props.player.dirt)]}</div></td>\n            <td style={{ ...cellStyle }}>{`\\xa0`}</td>\n            <td style={{ ...cellStyle ,borderRadius:\"0 8px 0 0\",borderStyle:'none none solid none'}}>{`\\xa0`}</td>\n          </tr>\n          <tr>\n            <td style={{ ...headerCellStyle ,fontWeight:700,fontSize:18}}>{t(\"赛程适应\")}</td>\n            <td style={{ ...cellStyle }}><div style={adaptTextWrapperStyle}>{[`${t(\"短距離\")}`,coloredGradeText(props.player.shortDistance)]}</div></td>\n            <td style={{ ...cellStyle }}><div style={adaptTextWrapperStyle}>{[`${t(\"マイル\")}`,coloredGradeText(props.player.mile)]}</div></td>\n            <td style={{ ...cellStyle }}><div style={adaptTextWrapperStyle}>{[`${t(\"中距離\")}`,coloredGradeText(props.player.mediumDistance)]}</div></td>\n            <td style={{ ...cellStyle ,borderRadius:\"0 0 8px 0\",borderStyle:'none none solid none'}}><div style={adaptTextWrapperStyle}>{[`${t(\"長距離\")}`,coloredGradeText(props.player.longDistance)]}</div></td>\n          </tr>\n          <tr>\n            <td style={{ ...headerCellStyle ,borderRadius:\"0 0 0 8px\",borderStyle:'none solid none none',fontWeight:700,fontSize:18}}>{t(\"脚质适应\")}</td>\n            <td style={{ ...cellStyle ,borderStyle:'none solid none none'}}><div style={adaptTextWrapperStyle}>{[`${t(\"逃げ\")}`,coloredGradeText(props.player.escape)]}</div></td>\n            <td style={{ ...cellStyle ,borderStyle:'none solid none none'}}><div style={adaptTextWrapperStyle}>{[`${t(\"先行\")}`,coloredGradeText(props.player.leading)]}</div></td>\n            <td style={{ ...cellStyle ,borderStyle:'none solid none none'}}><div style={adaptTextWrapperStyle}>{[`${t(\"差し\")}`,coloredGradeText(props.player.insert)]}</div></td>\n            <td style={{ ...cellStyle ,borderRadius:\"0 0 8px 0\",borderStyle:'none none none none'}}><div style={adaptTextWrapperStyle}>{[`${t(\"追込\")}`,coloredGradeText(props.player.tracking)]}</div></td>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n  )\n}\n\nconst GrowBox= (props)=>{\n  const tableStyle = {\n    width:\"100%\",\n    cellPadding:4,\n  }\n  const headerCellStyle = {\n    width:'20%',\n    fontSize: 18,\n    textAlign: 'center',\n    fontWeight: 600,\n    color:'#f5f5f5',\n    textShadow: \"0 2px #33333370\",\n    backgroundColor:'#32cd32C0',\n    borderWidth:'thin',\n    borderStyle:'none solid solid none',\n    borderColor:'gray',\n  }\n  const cellStyle = {\n    width:'20%',\n    height:'40px',\n    fontSize: 16,\n    textAlign: 'center',\n    fontWeight: 500,\n    borderWidth:'thin',\n    borderStyle:'none solid none none',\n    borderColor:'gray',\n  }\n\n  return(\n    <div style={{borderRadius:'8px',borderStyle:'solid',borderWidth:'thin',borderColor:'gray'}}>\n      <table {...tableStyle} >\n        <tbody>\n          <tr>\n            <th style={{ ...headerCellStyle ,borderRadius:\"8px 0 0 0\"}}>{t(\"スピード\")}</th>\n            <th style={{ ...headerCellStyle }}>{t(\"スタミナ\")}</th>\n            <th style={{ ...headerCellStyle }}>{t(\"パワー\")}</th>\n            <th style={{ ...headerCellStyle }}>{t(\"根性\")}</th>\n            <th style={{ ...headerCellStyle ,borderRadius:\"0 8px 0 0\",borderStyle:'none none solid none'}}>{t(\"賢さ\")}</th>\n          </tr>\n          <tr>\n            <td style={{ ...cellStyle ,borderRadius:\"0 0 0 8px\"}}>{props.player.speedGrow}</td>\n            <td style={{ ...cellStyle }}>{props.player.staminaGrow}</td>\n            <td style={{ ...cellStyle }}>{props.player.powerGrow}</td>\n            <td style={{ ...cellStyle }}>{props.player.gutsGrow}</td>\n            <td style={{ ...cellStyle ,borderRadius:\"0 0 8px 0\",borderStyle:'none none none none'}}>{props.player.wisdomGrow}</td>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n  )\n}\nconst PlayerCard = (props)=>{\n  const history = useHistory();\n  const [isModalVisible, setIsModalVisible] = useState(false);\n  const player = props.data\n  const showName = props.name!==undefined?props.name:true\n  const showPlayerDetail = () => {\n    if(props.onSelect){\n      props.onSelect(player)\n    }else{\n      if(ua==='mo'){\n        history.push(`/player-detail/${player.id}/0`)\n      }else{\n        setIsModalVisible(true);\n      }\n    }\n  };\n\n  const handleOk = () => {\n    setIsModalVisible(false);\n  };\n\n  const handleCancel = () => {\n    setIsModalVisible(false);\n  };\n\n  return (\n    <>\n\n      {showName?\n      <Card cover={<Image src={cdnServer+player.imgUrl} preview={false} onClick={showPlayerDetail} width={'100%'}></Image>}>\n        <Card.Meta title={t(player.name)} ></Card.Meta>\n        <Card.Meta title={t(player.charaName)} ></Card.Meta>\n      </Card>:\n      <Image src={cdnServer+player.imgUrl} preview={false} onClick={showPlayerDetail} width={'100%'}></Image>\n      }\n      <Modal visible={isModalVisible} onOk={handleOk} onCancel={handleCancel} footer={null} width={800} >\n        <PlayerDetail playerId={player.id} isNur={false}></PlayerDetail>\n      </Modal>\n    </>\n  )\n}\nconst PlayerTable = (props)=>{\n  const adaptFilters = [\n    { text: 'A', value: 'A' },\n    { text: 'B', value: 'B' },\n    { text: 'C', value: 'C' },\n    { text: 'D', value: 'D' },\n    { text: 'E', value: 'E' },\n    { text: 'F', value: 'F' },\n    { text: 'G', value: 'G' },\n    ]\n  const growFilters = [\n    { text: '20%', value: '+20%' },\n    { text: '10%', value: '+10%' },\n    { text: '0%', value: '+0%' },\n    ]\n  const rares = {\n    '1':'R',\n    '2':'SR',\n    '3':'SSR'\n  }\n  const titles={\n    \"芝\":\"grass\",\n    \"ダート\":\"dirt\",\n    \"短距離\":\"shortDistance\",\n    \"マイル\":\"mile\",\n    \"中距離\":\"mediumDistance\",\n    \"長距離\":\"longDistance\",\n    \"逃げ\":\"escape\",\n    \"先行\":\"leading\",\n    \"差し\":\"insert\",\n    \"追込\":\"tracking\",\n    \"スピード\":\"speedGrow\",\n    \"スタミナ\":\"staminaGrow\",\n    \"パワー\":\"powerGrow\",\n    \"根性\":\"gutsGrow\",\n    \"賢さ\":\"wisdomGrow\"\n  }\n  const getColumn = (text,type)=>{\n    if (type==='adapt'){\n      return { title: t(text), dataIndex: titles[text], key: titles[text], width:80,\n        render: (value) => coloredGradeText(value),\n        filters:adaptFilters,onFilter: (value, record) => record[titles[text]] === value, }\n    }else if(type==='grow'){\n      return { title: t(text), dataIndex: titles[text], key: titles[text], width:100,\n        render: (value) => coloredGradeText(value),\n        filters:growFilters,onFilter: (value, record) => record[titles[text]] === value, }\n    }\n  }\n  const columns = [{\n    title: \"角色\",\n    dataIndex: \"imgUrl\",\n    key: \"imgUrl\",\n    width:100,\n    render: (text,record) => <PlayerCard data={record} onSelect={props.onSelect} name={false}></PlayerCard>,\n  },\n  { title: \"称号\", dataIndex: \"name\", key: \"name\", render: (value) => t(value) },\n  { title: \"角色名\", dataIndex: \"charaName\", key: \"charaName\", render: (value) => t(value) },\n  { title: \"稀有度\", dataIndex: \"rare\", key: \"rare\", render: (value) => rares[value] },\n  getColumn(\"芝\",'adapt'),\n  getColumn(\"ダート\",'adapt'),\n  getColumn(\"短距離\",'adapt'),\n  getColumn(\"マイル\",'adapt'),\n  getColumn(\"中距離\",'adapt'),\n  getColumn(\"長距離\",'adapt'),\n  getColumn(\"逃げ\",'adapt'),\n  getColumn(\"先行\",'adapt'),\n  getColumn(\"差し\",'adapt'),\n  getColumn(\"追込\",'adapt'),\n  getColumn(\"スピード\",'grow'),\n  getColumn(\"スタミナ\",'grow'),\n  getColumn(\"パワー\",'grow'),\n  getColumn(\"根性\",'grow'),\n  getColumn(\"賢さ\",'grow'),\n]\n\nreturn <Table columns={columns} dataSource={props.list.sort((a,b)=>b.rare-a.rare)} pagination={false} rowKey={\"id\"} scroll={{ y: window.innerHeight-200 }} />\n}\nexport {PlayerDetail,PlayerCard,PlayerTable}\n\n","import React,{useState} from 'react';\nimport db from '../db.js'\nimport t from '../components/t.js'\nimport { Divider,Row,Col,Button,Table,Image,Card} from 'antd';\n\n\nimport {PlayerCard,PlayerTable} from '../components/player-detail.js'\n// const CheckboxGroup = Checkbox.Group\n\n// todo 提取出来\nconst cdnServer = 'https://cdn.jsdelivr.net/gh/wrrwrr111/pretty-derby@master/public/'\n\n\n//todo filter\nclass Player extends React.Component{\n  constructor(props){\n    super(props)\n    this.state = {\n      list:props.playerList,\n      isTable:false,\n    }\n  }\n  componentDidUpdate(prevProps){\n    if(this.props.playerList !== prevProps.playerList){\n      this.setState({list:this.props.playerList})\n    }\n  }\n  render(){\n    return(\n      <Row justify=\"space-around\">\n        <Button onClick={()=>this.setState({isTable:!this.state.isTable})}>\n          {this.state.isTable?\"列表\":\"表格\"}</Button>\n        <Col span={22}>\n          {\n            this.state.isTable?\n            <PlayerTable list={this.state.list} onSelect={this.props.onSelect}></PlayerTable>\n            :['3','2','1'].map(rare=>{\n              let list = this.state.list.filter(item=>item.rare===rare)\n              return list.length?<Row gutter={[16,16]} key={rare}>\n              <Divider>{rare} {t('星')}</Divider>\n              {this.state.list.filter(item=>item.rare===rare).map(player=>\n                <Col xxl={2} lg={3} sm={6} xs={6} key={player.id}>\n                  <PlayerCard data={player} onSelect={this.props.onSelect}></PlayerCard>\n                </Col>)\n              }\n            </Row>:null\n            })\n          }\n        </Col>\n      </Row>\n    )\n  }\n}\nPlayer.defaultProps={\n  playerList:db.get('players').value()\n}\n\nexport default Player\n","import React,{useState} from 'react';\nimport { Divider,Row,Col,Image,Modal,Button,Checkbox,Tooltip,Input} from 'antd';\n\nimport db from '../db.js'\nimport t from '../components/t.js'\n\n\nimport {SupportCard} from '../components/support-detail.js'\nimport {SkillCheckbox, SkillList} from '../components/skill-detail.js'\nconst CheckboxGroup = Checkbox.Group\nconst Search = Input.Search\n\nconst cdnServer = 'https://cdn.jsdelivr.net/gh/wrrwrr111/pretty-derby/public/'\n\n\nclass Support extends React.Component{\n  constructor(props){\n    super(props)\n    this.state = {\n      list:props.supportList,\n      chooseMode:false,\n      showMode:false,\n      chosenList:db.get('mySupports').value()||[],\n      checkedList:[],\n      skillList:[]}\n    this.effects = db.get('effects').value()\n    this.checkOptions = Object.keys(this.effects)\n      .map(key=>{return {label:t(this.effects[key].name),value:key}})\n  }\n  componentDidUpdate(prevProps){\n    if(this.props.supportList !== prevProps.supportList){\n      this.setState({list:this.props.supportList})\n    }\n  }\n  changeChooseMode=()=>{\n    this.setState({chooseMode:!this.state.chooseMode})\n    this.setState({showMode:!this.state.chooseMode})\n  }\n  changeShowMode=()=>{\n    this.setState({showMode:!this.state.showMode})\n  }\n  onSelect=(item)=>{\n    let index = this.state.chosenList.indexOf(item.id)\n    if (index === -1){\n      this.state.chosenList.push(item.id)\n    }else{\n      this.state.chosenList.splice(index,1)\n    }\n    db.update('mySupports',this.state.chosenList).write()\n    this.setState({})\n  }\n  onSupportCheckboxChange = (checkedValues)=>{\n    this.updateSupport(checkedValues,this.state.skillList)\n    this.setState({checkedList:checkedValues})\n  }\n\n  onSkillCheckboxUpdate=(skillList)=>{\n    this.updateSupport(this.state.checkedList,skillList)\n    // console.log(skillList)\n    this.setState({skillList:skillList})\n  }\n  updateSupport = (checkedValues,skillList,eventIdList=[])=>{\n    let tempList = this.props.supportList\n    if(checkedValues.length){\n      tempList = tempList.filter(support=>{\n        let flag = 0;\n        checkedValues.forEach(value=>{\n          support.effects && support.effects.forEach(effect=>{\n            if(effect.type == value){\n              flag += 1\n            }\n          })\n        })\n        return flag == checkedValues.length\n      })\n    }\n    if(skillList.length){\n      tempList = tempList.filter(support=>{\n        let flag = 0;\n        support.skillList.forEach(skillId=>{\n          if(skillList.indexOf(skillId)!==-1){\n            return flag = 1;\n          }\n        })\n        return flag\n      })\n    }\n    if(eventIdList.length){\n      tempList = tempList.filter(support=>{\n        let flag = 0;\n        support.eventList.forEach(eventId=>{\n          if(eventIdList.indexOf(eventId)!==-1){\n            return flag = 1;\n          }\n        })\n        return flag\n      })\n    }\n    this.setState({list:tempList})\n  }\n\n  onSearch = (searchText) => {\n    const allEventList = db.get('events').value();\n    const eventIdList = allEventList.filter(event=>{\n      let jsonEvent = JSON.stringify(event)\n      if(jsonEvent.indexOf(searchText)!==-1){\n        return true\n      }else{\n        return false\n      }\n    }).reduce((list,event)=>{\n      list.push(event.id)\n      return list\n    },[])\n    this.updateSupport(this.state.checkedList,this.state.skillList,eventIdList)\n  };\n\n  render(){\n    const headerStyle = {\n      backgroundColor:'#1e90ffA0',\n      height:48,\n      borderRadius:5,\n      margin:1,\n      display:'flex',\n      alignItems:'center',\n      justifyContent:'center'\n    }\n    const headerTextStyle = {\n      fontSize: 18,\n      textAlign: 'center',\n      fontWeight: 600,\n      color:'#f5f5f5',\n      textShadow: \"0 2px #33333370\",\n    }\n    return (\n      <div style={{display:'flex',justifyContent:'center',paddingTop:4}}>\n        <div style={{maxWidth:1200,maxHeight:window.innerHeight-104}}>\n          <Row justify=\"space-around\">\n            {this.props.filter&&\n            <Col span={6}><div style={{...headerStyle}}>\n              <text style={{...headerTextStyle}}>{t('筛选')}</text></div>\n            </Col>}\n            <Col span={18}>\n              <div style={{...headerStyle}}>\n                <text style={{...headerTextStyle}}>{t('支援卡列表')}</text>\n              </div>\n            </Col>\n            {this.props.filter&&\n            <Col span={6}>\n              <div style={{overflowY:'scroll',display:'flex',\n                flexDirection:'column',overflowX:'hidden',\n                maxHeight:window.innerHeight-104-78,padding:4}}>\n                  <Button onClick={this.changeShowMode}>{t('高亮我的卡组')}</Button>\n                  <Button onClick={this.changeChooseMode}>{t('配置卡组')}</Button>\n                  {this.state.chooseMode && <Button onClick={this.changeChooseMode} type='primary'>{t('配置完成')}</Button>}\n                  <Search placeholder={t(\"输入关键词\")} enterButton={t(\"搜索\")} size=\"middle\"\n                    style={{ width: '100%' }} onSearch={this.onSearch}/>\n                  <Divider style={{margin:4}}>{t('技能')}</Divider>\n                  <SkillCheckbox onUpdate={this.onSkillCheckboxUpdate}\n                  checkOnly={true} needId={true}></SkillCheckbox>\n                  <Divider style={{margin:4}}>{t('育成效果')}</Divider>\n                  <CheckboxGroup options={this.checkOptions} value={this.state.checkedList}\n                    onChange={this.onSupportCheckboxChange} />\n              </div>\n            </Col>}\n\n\n            <Col span={18}>\n              <div style={{overflowY:'scroll',overflowX:'hidden',\n                maxHeight:window.innerHeight-104-78,paddingRight:16}}>\n                {\n                  ['SSR','SR','R'].map(rare=>{\n                    let list = this.state.list.filter(item=>item.rare===rare)\n                    return list.length?<Row gutter={[16,16]} key={rare}>\n                    <Divider>{rare}</Divider>\n                    {list.map(support=>\n                      <Col lg={4} xs={6} key={support.id}\n                          className={this.state.showMode&&this.state.chosenList.indexOf(support.id)===-1?'un-chosen-card':'chosen-card'}>\n                        <SupportCard data={support} onSelect={this.state.chooseMode?this.onSelect:this.props.onSelect}\n                                    chooseMode={this.props.chooseMode}></SupportCard>\n                      </Col>)}\n                    </Row>:null\n                  })\n                }\n              </div>\n            </Col>\n          </Row>\n        </div>\n      </div>\n    )\n  }\n}\n\nSupport.defaultProps={\n  supportList:db.get('supports').value(),\n  filter:true\n}\n\nexport default Support\n","import React from 'react';\n// import {useState} from 'react';\nimport db from '../db.js'\nimport t from '../components/t.js'\n\nimport { List,Popover,Button } from 'antd';\n\nconst ua = db.get('ua').value();\n\nconst BuffButton = (props)=>{\n  return(\n    <Popover\n    trigger={ua==='mo'?'click':'hover'}\n    content={<BuffList></BuffList>}>\n      <Button>Buff</Button>\n    </Popover>\n  )\n}\nconst BuffList = (props)=>{\n  const buffs = db.get('buffs').value()\n  const cellStyle = {\n    // width:'20%',\n    height:'32px',\n    fontSize: 16,\n    textAlign: 'flex-start',\n    paddingLeft:16,\n    fontWeight: 500,\n    borderWidth:'thin',\n    borderStyle:'solid solid solid solid',\n    borderColor:'gray',\n  }\n  return(\n    <table>\n      <tbody>\n      {buffs.map(buff=><tr key={buff.name}>\n        <td style={{...cellStyle}}>{t(buff.name)}</td>\n        <td style={{...cellStyle}}>{t(buff.describe)}</td>\n      </tr>)}\n      </tbody>\n    </table>\n    )\n}\nexport {BuffButton,BuffList}\n","import React,{useEffect, useState} from 'react';\nimport shortid from 'shortid'\nimport db from '../db.js'\nimport dbL from '../dbL.js'\nimport t from '../components/t.js'\nimport axios from \"axios\";\n\nimport { Divider,Row,Col,Modal,Button,Tag,message, Popover,Popconfirm,Checkbox} from 'antd';\nconst cdnServer = 'https://cdn.jsdelivr.net/gh/wrrwrr111/pretty-derby@master/public/'\n\nconst MyDecks = (props)=>{\n  const [decks,setDecks] = useState(dbL.get('myDecks').value())\n  // 卡组相关操作\n  const saveDeck = (deck)=>{\n    let tmpDeck = {\n      imgUrls:[],\n      supportsId:[],\n      tags:[],\n    }\n    if(props.player.id){\n      tmpDeck.playerId = props.player.id\n      tmpDeck.imgUrls.push(props.player.imgUrl)\n    }\n    [0,1,2,3,4,5].forEach(index=>{\n      if(props.supports[index]&&props.supports[index].id){\n        tmpDeck.imgUrls.push(props.supports[index].imgUrl)\n        tmpDeck.supportsId.push(props.supports[index].id)\n      }else{\n        tmpDeck.supportsId.push(null)\n      }\n    })\n    if(deck){\n      //update\n      dbL.get('myDecks').find({id:deck.id}).assign(tmpDeck).write()\n    }else{\n      //\n      tmpDeck.id = shortid.generate()\n      dbL.get('myDecks').push(tmpDeck).write()\n    }\n    setDecks([...dbL.get('myDecks').value()])\n  }\n\n  const deleteDeck = (deck)=>{\n    dbL.get('myDecks').remove({id:deck.id}).write()\n    setDecks([...dbL.get('myDecks').value()])\n  }\n  const shareDeck = async (deck) =>{\n    //判断表格\n    // if(deck.playerId)\n    const formData = {\n      ...deck,\n      id:deck.playerId+deck.supportsId.sort((a,b)=>a.localeCompare(b)).join(\"\")\n    }\n    console.log(formData)\n    const res = await axios.post(\"https://urarawin.com/api/addDeck\", formData);\n    const data = res.data\n    data&&message.info(data.msg);\n\n  }\n\n  const labels = ['短距離','マイル','中距離','長距離','ダート','逃げ','先行','差し','追込',\n                  '高速度','高耐力','高力量','高根性 ','高智力','竞技场前排','萌新之友']\n  const onChangeTag =  (values,deck)=>{\n    dbL.get('myDecks').find({id:deck.id}).assign({tags:values}).write()\n    setDecks([...dbL.get('myDecks').value()])\n  }\n\n  return <Popover width={'100%'}  overlayStyle={{maxHeight:800,overflow:'auto'}}\n  content={\n    <>\n          <Button onClick={()=>saveDeck()}>{t('保存为新卡组')}</Button>\n          {decks.map(deck=>\n            <>\n            <Row>\n              <Checkbox.Group options={labels} defaultValue={deck.tags||[]}\n                    onChange={(values)=>onChangeTag(values,deck)}/>\n            </Row>\n            <Row key={deck.id}>\n              {deck.imgUrls.map(imgUrl=>\n                <Col span={3} key={imgUrl}>\n                  <img src={cdnServer+imgUrl} alt={imgUrl} width={'100'}></img>\n                </Col>\n              )}\n              <Col span={3}>\n                <Button type=\"primary\" onClick={()=>props.loadDeck(deck)}>{t('读取卡组')}</Button>\n                <Popconfirm title={t(\"确认覆盖？\")} onConfirm={()=>saveDeck(deck)}>\n                  <Button danger type=\"dashed\">{t('覆盖卡组')}</Button>\n                </Popconfirm>\n                <Popconfirm title={t(\"确认删除？\")} onConfirm={()=>deleteDeck(deck)}>\n                  <Button danger type=\"dashed\">{t('删除卡组')}</Button>\n                </Popconfirm>\n                <Popconfirm title={t(\"确认分享？\")} onConfirm={()=>shareDeck(deck)}>\n                  <Button>分享卡组</Button>\n                </Popconfirm>\n              </Col>\n            </Row>\n          </>)}\n        </>\n      }><Button>{t('我的卡组')}</Button>\n  </Popover>\n}\n\nconst RecommendDecks = (props)=>{\n  // const [recommendDecks,setRecommendDecks] = useState(res.data||[])\n  const [recommendDecks,setRecommendDecks] = useState([])\n  const [playerId,setPlayerId] = useState('')\n  const searchDeck = async () =>{\n    if(playerId!==props.player.id){\n      const formData = props.player? {playerId:props.player.id}:{}\n      const res = await axios.post(\"https://urarawin.com/api/searchDeck\",formData)\n      setRecommendDecks(res.data||[])\n      setPlayerId(props.player.id)\n    }\n  }\n  const deleteDeck = async (deck)=>{\n    const res = await axios.post(\"https://urarawin.com/api/deleteDeck\",deck)\n    searchDeck()\n  }\n  return <Popover width={'100%'} onVisibleChange = {searchDeck} overlayStyle={{maxHeight:800,overflow:'auto'}}\n  content={\n    recommendDecks.map(deck=>\n      <>\n        <Row>\n          {deck.tags&&deck.tags.map(tag=><Tag>{tag}</Tag>)}\n        </Row>\n        <Row key={deck.id}>\n          {deck.imgUrls.map(imgUrl=>\n            <Col span={3} key={imgUrl}>\n              <img src={cdnServer+imgUrl} alt={imgUrl} width={'100'}></img>\n            </Col>\n          )}\n          <Col span={3}>\n            <Button type=\"primary\" onClick={()=>props.loadDeck(deck)}>{t('读取卡组')}</Button>\n            {/* <Button type=\"primary\" onClick={()=>deleteDeck(deck)}>{t('删除卡组')}</Button> */}\n          </Col>\n        </Row>\n      </>\n        )\n    }>\n      <Button>{t('推荐卡组')}</Button>\n  </Popover>\n}\n\nexport{MyDecks,RecommendDecks}\n","import React,{useState} from 'react';\nimport shortid from 'shortid'\nimport db from '../db.js'\nimport dbL from '../dbL.js'\nimport t from '../components/t.js'\nimport axios from \"axios\";\n\nimport { Divider,Row,Col,Modal,Button,Drawer,message, Popover,Popconfirm,Tooltip} from 'antd';\nimport {EditOutlined} from '@ant-design/icons'\n\nimport ScrollBars from 'react-custom-scrollbars'\n\nimport {EventList} from '../components/event.js'\nimport {SkillList} from '../components/skill-detail.js'\nimport {BuffButton} from '../components/buff.js'\nimport {RaceSchedule,RaceTimeline,RaceCheckbox} from '../components/race.js'\nimport {MyDecks,RecommendDecks} from '../components/deck.js'\n\nimport GridLayout from 'react-grid-layout';\nimport 'react-grid-layout/css/styles.css'\nimport Race from './race.js'\nimport Player from './player.js'\nimport Support from './support.js'\nimport Checkbox from 'antd/lib/checkbox/Checkbox';\n\n\nconst cdnServer = 'https://cdn.jsdelivr.net/gh/wrrwrr111/pretty-derby@master/public/'\n\n\nconst Nurturing = () =>{\n  const [needSelect,setNeedSelect] = useState(false)\n  const [isPlayerVisible, setIsPlayerVisible] = useState(false);\n\n  const [isSupportVisible, setIsSupportVisible] = useState(false);\n  const [supportIndex, setSupportIndex] = useState(1);\n\n\n  const selected = dbL.get('selected').value()\n  const [supports, setSupports] = useState(selected.supports);\n  const [player, setPlayer] = useState(selected.player);\n\n  const races = db.get('races').value()\n  const [raceFilterCondition,setRaceFilterCondition] = useState(selected.raceFilterCondition||{\n    distanceType:[],\n    grade:[],\n    ground:[]})\n  const [filterRace,setFilterRace] = useState(selected.filterRace||{})\n\n  const showPlayer = () => {\n    setIsPlayerVisible(true);\n  };\n  const closePlayer = () => {\n    setIsPlayerVisible(false);\n  };\n  const handleSelectPlayer = (data)=>{\n    setIsPlayerVisible(false);\n    setPlayer(data)\n    // save player\n    selected.player = data\n    dbL.get('selected').assign(selected).write()\n  }\n\n  const showSupport = (index) => {\n    setNeedSelect(true)\n    setIsSupportVisible(true);\n    setSupportIndex(index)\n  };\n  const showSupport2 = (index) => {\n    setNeedSelect(false)\n    setIsSupportVisible(true);\n    setSupportIndex(index)\n  };\n\n  const closeSupport = () => {\n    setIsSupportVisible(false);\n  };\n  const handleSelectSupport = (data)=>{\n    let newData= {}\n    newData[supportIndex] = data\n    setSupports(Object.assign({},supports,newData))\n    setIsSupportVisible(false);\n\n    // save\n    selected.supports[supportIndex] = data\n    dbL.get('selected').assign(selected).write()\n  }\n\n  const loadDeck = (deck)=>{\n    selected.supports={0:{},1:{},2:{},3:{},4:{},5:{}}\n    selected.player={}\n    if(deck.playerId){\n      selected.player = db.get('players').find({id:deck.playerId}).value()\n    }\n    setPlayer(selected.player)\n    deck.supportsId.forEach((id,index)=>{\n      if(id){\n        selected.supports[index]=db.get('supports').find({id:id}).value()\n      }\n    })\n    setSupports({...selected.supports})\n    dbL.get('selected').assign(selected).write()\n  }\n\n\n\n\n\n  // race checkbox发生变化\n  const onChangeRace = (filterCondition)=>{\n    setRaceFilterCondition(filterCondition)\n    //根据条件过滤\n    let tmpRaceList = Object.values(filterCondition).some(f => f.length > 0)\n      ? Object.entries(filterCondition)\n        .filter(([key, filters]) => filters.length > 0)\n        .reduce((result, [key, filters]) => result.filter(race => filters.includes(race[key])), races)\n      : [];\n    //过滤后整理成 dataNum:[raceId]\n    let tmpFilterRace = {}\n      for(let race of tmpRaceList){\n        if(tmpFilterRace[race.dateNum]){\n          tmpFilterRace[race.dateNum].push(race.id)\n        }else{\n          tmpFilterRace[race.dateNum]=[race.id]\n        }\n      }\n    //更新state\n    setFilterRace(tmpFilterRace)\n    selected.raceFilterCondition = filterCondition\n    selected.filterRace = tmpFilterRace\n    dbL.get('selected').assign({...selected}).write()\n  }\n\n  const useViewport = () => {\n    const [width, setWidth] = React.useState(window.innerWidth);\n    const [height,setHeight] = React.useState(window.innerHeight);\n    React.useEffect(() => {\n      const handleWindowResize = () => {\n        setHeight(window.innerHeight)\n        setWidth(window.innerWidth)\n      };\n      window.addEventListener(\"resize\", handleWindowResize);\n      return () => window.removeEventListener(\"resize\", handleWindowResize);\n    }, []);\n    // console.log('currentWidth::',height);\n    return {height,width};\n  };\n\n  const dynamicContentHeight = useViewport().height -128\n  // 宽度0.3 高度0.5 取较小值\n  const dynamicCardHeight = Math.min(Math.floor(dynamicContentHeight / 2),Math.floor(useViewport().width * 0.3))\n  const dynamicCardWidth = Math.floor(dynamicCardHeight * 3 / 4)\n  const dynamicCardBoxWidth = dynamicCardWidth * 3\n\n  const dynamicRowHeight = Math.floor((useViewport().height -128-40)/18)\n\n  const layoutWithBlank=[\n    {i: 'a', x: 0, y: 0, w: 2, h: 2},\n    {i: 'b', x: 2, y: 0, w: 7, h: 2},\n    {i: 'c', x: 0, y: 2, w: 9, h: 7},\n    {i: 'd', x: 0, y: 10, w: 4, h: 4},\n    {i: 'e', x: 4, y: 10, w: 5, h: 7},\n    {i: 'f', x: 0, y: 14, w: 4, h: 3},\n    // {i: 'w', x: 5, y: 10, w: 6, h: 7},\n    {i: 's0', x: 17, y: 0, w: 5, h: 8},\n    {i: 's1', x: 22, y: 0, w: 5, h: 8},\n    {i: 's2', x: 27, y: 0, w: 5, h: 8},\n    {i: 's3', x: 17, y: 9, w: 5, h: 8},\n    {i: 's4', x: 22, y: 9, w: 5, h: 8},\n    {i: 's5', x: 27, y: 9, w: 5, h: 8},\n  ]\n  const layoutWithoutBlank=[\n    {i: 'a', x: 0, y: 0, w: 2, h: 2},\n    {i: 'b', x: 2, y: 0, w: 9, h: 2},\n    {i: 'c', x: 0, y: 2, w: 11, h: 7},\n    {i: 'd', x: 0, y: 10, w: 5, h: 4},\n    {i: 'e', x: 5, y: 10, w: 6, h: 7},\n    {i: 'f', x: 0, y: 14, w: 5, h: 3},\n    // {i: 'w', x: 5, y: 10, w: 6, h: 7},\n    {i: 's0', x: 11 , y: 0, w: 7, h: 8},\n    {i: 's1', x: 18, y: 0, w: 7, h: 8},\n    {i: 's2', x: 25, y: 0, w: 7, h: 8},\n    {i: 's3', x: 11, y: 9, w: 7, h: 8},\n    {i: 's4', x: 18, y: 9, w: 7, h: 8},\n    {i: 's5', x: 25, y: 9, w: 7, h: 8},\n  ]\n  const originalLayout = dbL.get('layout').value()||layoutWithoutBlank\n  const [layout,setLayout]=useState(originalLayout)\n  const onLayoutChange=(layout)=> {\n    /*eslint no-console: 0*/\n    dbL.set('layout',layout).write()\n    setLayout(layout)\n    // onLayoutChange(layout); // updates status display\n  }\n  const panelStyle = {\n    borderRadius:16,\n    backgroundColor:'white',\n  }\n  const headStyle = {\n    width:'100%',\n    textAlign:'center',\n    backgroundColor:'#ccc',\n    cursor:'move'\n  }\n  const pBodyStyle={\n    height:'calc(100% - 22px)'\n  }\n  return(<>\n    <GridLayout cols={32} layout={layout}\n    draggableCancel='.panel-title' draggableHandle='.panel-heading'\n      rowHeight={dynamicRowHeight} width={useViewport().width-10}\n      onLayoutChange={onLayoutChange}>\n\n      <div key='a' style={{...panelStyle}}>\n        <div className='panel-heading' style={{...headStyle}}>{t('角色')}</div>\n          {player.id&&\n            <img src={cdnServer+player.imgUrl} alt={player.imgUrl}\n            style={{...pBodyStyle}}  onClick={showPlayer}>\n          </img>}\n      </div>\n      <div key='b' style={{...panelStyle}}>\n        <div className='panel-heading' style={{...headStyle}}>{t('操作')}</div>\n        <Button className='add-player' type={'primary'} onClick={showPlayer}>{t('选择马娘')}</Button>\n        <Button onClick={showSupport2}>{t('支援卡查询')}</Button>\n        <BuffButton/>\n        <Popover content={<RaceCheckbox onChange={onChangeRace} raceFilterCondition={raceFilterCondition}></RaceCheckbox>}>\n          <Button>{t('比赛')}</Button>\n        </Popover>\n        <MyDecks player={player} supports={supports} loadDeck={loadDeck}></MyDecks>\n        <RecommendDecks player={player} loadDeck={loadDeck}></RecommendDecks>\n\n\n        <Button onClick={()=>setLayout(layoutWithBlank)}>{t('初始化布局(有留白)')}</Button>\n        <Button onClick={()=>setLayout(layoutWithoutBlank)}>{t('初始化布局(无留白)')}</Button>\n      </div>\n      <div key='c'  style={{...panelStyle}}>\n        <div className='panel-heading' style={{...headStyle}}>{t('事件')}</div>\n        <ScrollBars autoHide={true} style={{...pBodyStyle}}>\n          {/* <p>{player.id}</p> */}\n          <EventList eventList={player.eventList||[]} pid={player.id}></EventList>\n        </ScrollBars>\n      </div>\n      <div key='d' style={{...panelStyle}}>\n        <div className='panel-heading' style={{...headStyle}}>{t('技能')}</div>\n        <ScrollBars autoHide={true} style={{...pBodyStyle}}>\n          <SkillList skillList={player.skillList||[]} isNur={true}></SkillList>\n        </ScrollBars>\n      </div>\n      <div key='e' style={{...panelStyle}}>\n        <div className='panel-heading' style={{...headStyle}}>{t('比赛')}</div>\n        <ScrollBars autoHide={true} style={{...pBodyStyle}}>\n          <RaceTimeline raceList={player.raceList||[]} filterRace={filterRace}></RaceTimeline>\n        </ScrollBars>\n      </div>\n      <div key='f' style={{...panelStyle}}>\n        <div className='panel-heading' style={{...headStyle}}>{t('隐藏事件')}</div>\n        <ScrollBars autoHide={true} style={{...pBodyStyle}}>\n          <EventList eventList={player.hideEvent||[]} pid={player.id} type='all'></EventList>\n        </ScrollBars>\n      </div>\n        {[0,1,2,3,4,5].map(index=>{\n          let support = supports[index];\n          if(support.id){\n            return (\n            <div key={`s${index}`} style={{...panelStyle}}>\n              <div className='panel-heading' style={{...headStyle}}>\n                <span className='panel-title' onClick={()=>showSupport(index)} style={{cursor:'pointer'}}>{t('选择支援卡')}</span>\n              </div>\n              <ScrollBars  autoHide={true} style={{...pBodyStyle}}>\n                <div style={{display:'flex'}}>\n                  <img style={{width:'26%',height:'39%'}} src={cdnServer+support.imgUrl} alt={support.imgUrl}></img>\n                  <div style={{flex:'1 1 auto'}}>\n                    <EventList eventList={supports[index].eventList} pid={supports[index].id} ></EventList>\n                  </div>\n                </div>\n                <Divider style={{margin:'4px 0',background:'rgba(255,255,255,0.6)'}}>{t(\"培训技能\")}</Divider>\n                <SkillList skillList={supports[index].possessionSkill} isNur={true}></SkillList>\n                <Divider style={{margin:'4px 0',background:'rgba(255,255,255,0.6)'}}>{t(\"事件技能\")}</Divider>\n                <SkillList skillList={supports[index].trainingEventSkill} isNur={true}></SkillList>\n              </ScrollBars>\n            </div>)\n          }else{\n            return (\n              <div key={`s${index}`} style={{...panelStyle}}>\n                <Button onClick={()=>showSupport(index)}>{t('选择支援卡')}</Button>\n              </div>\n            )\n          }\n        })}\n\n    </GridLayout>\n      <Modal visible={isPlayerVisible} onOk={closePlayer} onCancel={closePlayer} width={'80%'}>\n        <Player onSelect={handleSelectPlayer}></Player>\n      </Modal>\n      <Modal visible={isSupportVisible} onOk={closeSupport} onCancel={closeSupport} width={'80%'}>\n        <Support onSelect={needSelect?handleSelectSupport:null}></Support>\n      </Modal>\n    </>\n  )\n}\n\nexport default Nurturing\n\n\n","import React,{useState} from 'react';\nimport { Divider,Row,Col} from 'antd';\n\nimport db from '../db.js'\nimport t from '../components/t.js'\n\nimport {SkillButton,SkillCheckbox} from '../components/skill-detail.js'\n// const { Search } = Input\n// const cdnServer = 'https://cdn.jsdelivr.net/gh/wrrwrr111/pretty-derby/public/'\nconst ua = db.get('ua').value();\n\nconst Skill = (props) =>{\n  // 所有技能列表\n  const allSkillList = db.get('skills').orderBy('db_id').value()\n\n  const [skillList,setSkillList] = useState(allSkillList)\n\n  // init supportMode\n  localStorage.getItem('supportMode')===null&&localStorage.setItem('supportMode',0)\n\n  const rareLabel={'ノーマル':'普通','レア':'金色 稀有','固有':'独特'}\n\n  const headerStyle = {\n    backgroundColor:'#1e90ffA0',\n    height:48,\n    borderRadius:5,\n    margin:1,\n    display:'flex',\n    alignItems:'center',\n    justifyContent:'center'\n  }\n  const headerTextStyle = {\n    fontSize: 18,\n    textAlign: 'center',\n    fontWeight: 600,\n    color:'#f5f5f5',\n    textShadow: \"0 2px #33333370\",\n  }\n\n  const onSkillCheckboxUpdate = (skillList)=>{\n    setSkillList(skillList)\n  }\n\n  const useViewport = () => {\n    const [width, setWidth] = React.useState(window.innerWidth);\n    const [height,setHeight] = React.useState(window.innerHeight);\n    React.useEffect(() => {\n      const handleWindowResize = () => setHeight(window.innerHeight);\n      window.addEventListener(\"resize\", handleWindowResize);\n      return () => window.removeEventListener(\"resize\", handleWindowResize);\n    }, []);\n    return {height};\n  };\n\n  const dynamicListHeight = useViewport().height - 104 - 78;\n\n  return(<>\n    <div style={{display:'flex',justifyContent:'center',paddingTop:4}}>\n      <div style={{maxWidth:1200}}>\n        <Row>\n          <Col span={6}><div style={{...headerStyle}}><text style={{...headerTextStyle}}>{t('筛选')}</text></div></Col>\n          <Col span={18}><div style={{...headerStyle}}><text style={{...headerTextStyle}}>{t('技能列表')}</text></div></Col>\n          <Col span={6}>\n            <div style={{height:dynamicListHeight,overflowY:'scroll',\n            display:'flex',flexDirection:'column'}}>\n              <SkillCheckbox onUpdate={onSkillCheckboxUpdate}></SkillCheckbox>\n            </div>\n          </Col>\n          <Col span={18}>\n            <div style={{height:dynamicListHeight,overflowY:'scroll',overflowX:'hidden'}}>\n              {['ノーマル','レア','固有'].map(rare=>\n                <Row gutter={[8,8]} key={rare}>\n                  <Divider>{rareLabel[rare]}</Divider>\n                  { skillList.filter(item=>item.rare === rare).map(skill=>\n                    <Col  xxl={6} lg={6} sm={12} xs={12}>\n                      <SkillButton usedInList={true} skill={skill} key={skill.id}></SkillButton>\n                    </Col>\n                  )}\n                </Row>\n              )}\n            </div>\n          </Col>\n        </Row>\n      </div>\n    </div>\n  </>)\n}\n\nexport default Skill\n\n","import React, { useState } from \"react\";\nimport {\n  Row,\n  Alert,\n  Image,\n  Button,\n  Divider,\n  Table,\n  Modal,\n  Col,\n  Radio,\n  Rate,\n  Form,\n  Slider,\n  PageHeader,\n  Input,\n  Space,\n  Card,\n} from \"antd\";\nimport { message } from \"antd\";\n//test\nimport { PlusOutlined, SmileOutlined, FrownOutlined, CopyOutlined, DeleteOutlined } from \"@ant-design/icons\";\nimport { CopyToClipboard } from \"react-copy-to-clipboard\";\n\nimport axios from \"axios\";\nimport db from \"../db.js\";\nimport dbL from \"../dbL.js\";\nimport t from \"../components/t.js\";\nimport \"./seed.css\";\n\nimport Player from \"./player.js\";\nimport Support from \"./support.js\";\nconst cdnServer = \"https://cdn.jsdelivr.net/gh/wrrwrr111/pretty-derby/public/\";\n// db.set('userId',null).write()\nlet userId = dbL.get(\"userId\").value();\n// console.log(userId)\n\n/*\nuserId 随机生成\n种马玩家id\n种马id\n蓝色因子 - speed stamina power guts wisdom\n红色因子 - grass dirt shortDistance mile mediumDistance longDistance\n        - escape leading insert tracking\n绿色因子\n种马父id\n种马母id\n\ntotal blue\ntotal red\nwhite num\n*/\n// 生成一个userId\n\nconst blueLabels = {\n  speed: \"速度\",\n  stamina: \"耐力\",\n  power: \"力量\",\n  guts: \"根性\",\n  wisdom: \"智力\",\n};\nconst redLabels = {\n  grass: \"草地\",\n  dirt: \"泥地\",\n  shortDistance: \"短距离\",\n  mile: \"英里\",\n  mediumDistance: \"中距离\",\n  longDistance: \"长距离\",\n  escape: \"逃\",\n  leading: \"先\",\n  insert: \"差\",\n  tracking: \"追\",\n};\n\nconst PlayerInput = ({ value = {}, onChange }) => {\n  const [isPlayerVisible, setIsPlayerVisible] = useState(false);\n  const [data, setData] = useState({});\n  const showPlayer = (index) => {\n    setIsPlayerVisible(true);\n  };\n  const closePlayer = () => {\n    setIsPlayerVisible(false);\n  };\n  const triggerChange = (changedValue) => {\n    setIsPlayerVisible(false);\n    onChange?.({\n      ...data,\n      ...value,\n      ...changedValue,\n    });\n  };\n  const handleSelectPlayer = (data) => {\n    setData(data);\n    triggerChange(data);\n  };\n  return (\n    <>\n      <Image\n        src={data.imgUrl ? cdnServer + data.imgUrl : \"\"}\n        preview={false}\n        fallback=\"data:image/png;base64,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\"\n        width={80}\n        onClick={showPlayer}\n      ></Image>\n      <Modal visible={isPlayerVisible} onOk={closePlayer} onCancel={closePlayer} width={\"80%\"}>\n        <Player onSelect={handleSelectPlayer}></Player>\n      </Modal>\n    </>\n  );\n};\nconst SupportInput = ({ value = {}, onChange }) => {\n  const [isSupportVisible, setIsSupportVisible] = useState(false);\n  const [data, setData] = useState({});\n  const showSupport = (index) => {\n    setIsSupportVisible(true);\n  };\n  const closeSupport = () => {\n    setIsSupportVisible(false);\n  };\n  const triggerChange = (changedValue) => {\n    setIsSupportVisible(false);\n    onChange?.({\n      ...data,\n      ...value,\n      ...changedValue,\n    });\n  };\n  const handleSelectSupport = (data) => {\n    setData(data);\n    triggerChange(data);\n  };\n  return (\n    <>\n      <Image\n        src={data.imgUrl ? cdnServer + data.imgUrl : \"\"}\n        preview={false}\n        fallback=\"data:image/png;base64,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\"\n        width={80}\n        onClick={showSupport}\n      ></Image>\n      <Modal visible={isSupportVisible} onOk={closeSupport} onCancel={closeSupport} width={\"80%\"}>\n        <Support onSelect={handleSelectSupport}></Support>\n      </Modal>\n    </>\n  );\n};\nconst SeedInput = (props) => {\n  const [form] = Form.useForm();\n  const [seed, setSeed] = useState({});\n\n  const onFinish = async (value) => {\n    let tmpSeed = seed;\n    tmpSeed = Object.assign({}, seed, value);\n    setSeed(tmpSeed);\n    // db.set('form',form).write()\n    // 修整成需要的数据\n    const formData = { ...tmpSeed };\n    formData.userId = userId || dbL.get(\"userId\").value();\n    let updateTime = new Date().getTime();\n    formData.updateTime = updateTime;\n    formData[\"playerId-0\"] = value[\"player-0\"].id;\n    formData[\"playerId-1\"] = value[\"player-1\"].id;\n    formData[\"playerId-2\"] = value[\"player-2\"].id;\n    formData[\"supportId\"] = value[\"support\"].id;\n    delete formData[\"support\"];\n    delete formData[\"player-0\"];\n    delete formData[\"player-1\"];\n    delete formData[\"player-2\"];\n    // formData[formData['blue-0']]=formData['blueLevel-0']\n    // formData[formData['red-0']]=formData['redLevel-0']\n    let list = [\"0\", \"1\", \"2\"];\n    list.forEach((i) => {\n      //统计蓝色因子\n      if (formData[formData[`blue-${i}`]] !== undefined) {\n        formData[formData[`blue-${i}`]] += formData[`blueLevel-${i}`];\n      } else {\n        formData[formData[`blue-${i}`]] = formData[`blueLevel-${i}`];\n      }\n      //统计红色因子\n      if (formData[formData[`red-${i}`]] !== undefined) {\n        formData[formData[`red-${i}`]] += formData[`redLevel-${i}`];\n      } else {\n        formData[formData[`red-${i}`]] = formData[`redLevel-${i}`];\n      }\n      //统计红色因子\n      if (formData[\"white\"] !== undefined) {\n        formData[\"white\"] += formData[`whiteNum-${i}`];\n      } else {\n        formData[\"white\"] = formData[`whiteNum-${i}`];\n      }\n      //统计ura\n      if (formData[\"uraLevel\"] !== undefined) {\n        formData['uraLevel'] += formData[`uraLevel-${i}`]\n      } else {\n        formData['uraLevel'] = formData[`uraLevel-${i}`]\n      }\n\n    });\n    const res = await axios.post(\"https://urarawin.com/api/add\", formData);\n    if (res.data && res.data.success) {\n      message.info(\"成功添加\");\n      props.onFinish();\n    } else {\n      message.info(\"有地方出错了\");\n    }\n  };\n  const list = [\"主要\", \"父辈1\", \"父辈2\"];\n\n  const getFields = () => {\n    const children = [];\n    for (let i = 0; i < 3; i++) {\n      children.push(\n        <Col span={8} key={i}>\n          <PageHeader title={`${list[i]}`}></PageHeader>\n          <Row>\n            <Col span={6} offset={4}>\n              <Form.Item label=\"角色\" name={`player-${i}`} rules={[{ required: true }]}>\n                <PlayerInput></PlayerInput>\n              </Form.Item>\n            </Col>\n          </Row>\n          <Form.Item label=\"蓝色因子\" name={`blue-${i}`} rules={[{ required: true }]}>\n            <Radio.Group>\n              <Radio.Button value={\"speed\"}>{\"速度\"}</Radio.Button>\n              <Radio.Button value={\"stamina\"}>{\"耐力\"}</Radio.Button>\n              <Radio.Button value={\"power\"}>{\"力量\"}</Radio.Button>\n              <Radio.Button value={\"guts\"}>{\"根性\"}</Radio.Button>\n              <Radio.Button value={\"wisdom\"}>{\"智力\"}</Radio.Button>\n            </Radio.Group>\n          </Form.Item>\n          <Form.Item label=\"蓝色因子星数\" name={`blueLevel-${i}`} rules={[{ required: true }]}>\n            <Rate count={3} />\n          </Form.Item>\n          <Form.Item label=\"红色因子\" name={`red-${i}`} rules={[{ required: true }]}>\n            <Radio.Group>\n              <Radio.Button value={\"grass\"}>{\"草地/芝\"}</Radio.Button>\n              <Radio.Button value={\"dirt\"}>{\"泥地/ダート\"}</Radio.Button>\n              <hr />\n              <Radio.Button value={\"shortDistance\"}>{\"短距离\"}</Radio.Button>\n              <Radio.Button value={\"mile\"}>{\"英里\"}</Radio.Button>\n              <Radio.Button value={\"mediumDistance\"}>{\"中距离\"}</Radio.Button>\n              <Radio.Button value={\"longDistance\"}>{\"长距离\"}</Radio.Button>\n              <hr />\n              <Radio.Button value={\"escape\"}>{\"逃\"}</Radio.Button>\n              <Radio.Button value={\"leading\"}>{\"先\"}</Radio.Button>\n              <Radio.Button value={\"insert\"}>{\"差\"}</Radio.Button>\n              <Radio.Button value={\"tracking\"}>{\"追\"}</Radio.Button>\n            </Radio.Group>\n          </Form.Item>\n          <Form.Item label=\"红色因子星数\" name={`redLevel-${i}`} rules={[{ required: true }]}>\n            <Rate count={3} />\n          </Form.Item>\n          <Form.Item label=\"绿色因子星数\" name={`greenLevel-${i}`} initialValue={0}>\n            <Rate count={3} />\n          </Form.Item>\n          <Form.Item label=\"URA因子星数\" name={`uraLevel-${i}`} initialValue={0}>\n            <Rate count={3} />\n          </Form.Item>\n          <Form.Item label=\"白色因子个数\" name={`whiteNum-${i}`} initialValue={0}>\n            <Slider min={0} max={10} dots={true} tooltipPlacement={\"left\"}></Slider>\n          </Form.Item>\n        </Col>\n      );\n    }\n    return children;\n  };\n  return (\n    <Form name={\"因子信息\"} form={form} onFinish={onFinish}>\n      <Alert\n        message=\"目前每人只能配置一个种子 自觉维护自己的信息；第一次添加前先刷新 否则可能失败\"\n        type=\"info\"\n      ></Alert>\n      <Row gutter={24}>{getFields()}</Row>\n      <Row justify=\"end\">\n        <Col span={3}>\n          <Form.Item label=\"辅助卡\" name={\"support\"} rules={[{ required: true }]}>\n            <SupportInput></SupportInput>\n          </Form.Item>\n        </Col>\n        <Col span={4} offset={1}>\n          <Form.Item label=\"辅助卡突破\" name={\"supportLevel\"} initialValue={0}>\n            <Rate count={4} />\n          </Form.Item>\n        </Col>\n        <Col span={4} offset={1}>\n          <Form.Item\n            label=\"玩家id\"\n            name=\"gameId\"\n            rules={[\n              { required: true },\n              ({ getFieldValue }) => ({\n                validator(_, value) {\n                  console.log(\"!!!!\", value);\n                  if (value.match(/^[0-9]\\d*$/g) && value.length === 9) {\n                    return Promise.resolve();\n                  }\n                  return Promise.reject(new Error(\"输入正确的9位数id\"));\n                },\n              }),\n            ]}\n          >\n            <Input placeholder=\"id\" style={{ width: \"100%\" }}></Input>\n          </Form.Item>\n        </Col>\n        <Col span={2} offset={2}>\n          <Form.Item>\n            <Button type=\"primary\" htmlType=\"submit\">\n              提交\n            </Button>\n          </Form.Item>\n        </Col>\n      </Row>\n    </Form>\n  );\n};\n\nconst SearchOne = (props) => {\n  return (\n    <Form.List name={props.name}>\n      {(fields, { add, remove }, { errors }) => (\n        <>\n          <Row>\n            {fields.map((field, index) => (\n              <Col key={field.key} lg={8} md={12} xs={24}>\n                  <Row>\n                    <Form.Item\n                      {...field}\n                      name={[field.name, \"attr\"]}\n                      fieldKey={[field.fieldKey, \"attr\"]}\n                      rules={[{ required: true }]}\n                      validateTrigger={[\"onChange\", \"onBlur\"]}\n                      noStyle\n                    >\n                      <Radio.Group>\n                        <Radio.Button value={\"speed\"}>{\"速度\"}</Radio.Button>\n                        <Radio.Button value={\"stamina\"}>{\"耐力\"}</Radio.Button>\n                        <Radio.Button value={\"power\"}>{\"力量\"}</Radio.Button>\n                        <Radio.Button value={\"guts\"}>{\"根性\"}</Radio.Button>\n                        <Radio.Button value={\"wisdom\"}>{\"智力\"}</Radio.Button>\n                        <br />\n                        <Radio.Button value={\"grass\"}>{\"草地/芝\"}</Radio.Button>\n                        <Radio.Button value={\"dirt\"}>{\"泥地/ダート\"}</Radio.Button>\n                        <br />\n                        <Radio.Button value={\"shortDistance\"}>{\"短距离\"}</Radio.Button>\n                        <Radio.Button value={\"mile\"}>{\"英里\"}</Radio.Button>\n                        <Radio.Button value={\"mediumDistance\"}>{\"中距离\"}</Radio.Button>\n                        <Radio.Button value={\"longDistance\"}>{\"长距离\"}</Radio.Button>\n                        <br />\n                        <Radio.Button value={\"escape\"}>{\"逃\"}</Radio.Button>\n                        <Radio.Button value={\"leading\"}>{\"先\"}</Radio.Button>\n                        <Radio.Button value={\"insert\"}>{\"差\"}</Radio.Button>\n                        <Radio.Button value={\"tracking\"}>{\"追\"}</Radio.Button>\n                        <br />\n                        <Radio.Button value={\"uraLevel\"}>{\"URA\"}</Radio.Button>\n                      </Radio.Group>\n                    </Form.Item>\n                  </Row>\n                  <Row>\n                    <Form.Item\n                      {...field}\n                      name={[field.name, \"level\"]}\n                      fieldKey={[field.fieldKey, \"level\"]}\n                      rules={[{ required: true }]}\n                    >\n                      <Rate count={props.max} />\n                    </Form.Item>\n                  </Row>\n                  <Col span={5}>\n                    <Button type=\"dashed\" onClick={() => remove(field.name)}>\n                      移除\n                    </Button>\n                  </Col>\n              </Col>\n            ))}\n          </Row>\n          <Row justify=\"start\">\n            <Form.Item>\n              <Button\n                type=\"dashed\"\n                onClick={() => add()}\n                // style={{ width: '60%' }}\n                icon={<PlusOutlined />}\n              >\n                添加过滤条件\n              </Button>\n\n              <Form.ErrorList errors={errors} />\n            </Form.Item>\n          </Row>\n        </>\n      )}\n    </Form.List>\n  );\n};\n\nconst SearchForm = (props) => {\n  const [form] = Form.useForm();\n  const onFinish = async (value) => {\n    let formData = { attrs: [], levels: [] };\n    if (value[\"player0\"]) {\n      formData.attrs.push(\"playerId-0\");\n      formData.levels.push(value[\"player0\"].id);\n    }\n    if (value[\"supportLevel\"]) {\n      formData.attrs.push(\"supportLevel\");\n      formData.levels.push(value[\"supportLevel\"]);\n    }\n    if (value[\"support\"]) {\n      formData.attrs.push(\"supportId\");\n      formData.levels.push(value[\"support\"].id);\n    }\n    value.p0?.forEach((item) => {\n      if (blueLabels[item.attr]) {\n        formData[\"blue-0\"] = item.attr;\n        formData.attrs.push(\"blueLevel-0\");\n        formData.levels.push(item.level);\n      } else if(redLabels[item.attr]){\n        formData[\"red-0\"] = item.attr;\n        formData.attrs.push(\"redLevel-0\");\n        formData.levels.push(item.level);\n      } else if(item.attr==='uraLevel'){\n        formData.attrs.push(\"uraLevel-0\");\n        formData.levels.push(item.level);\n      }\n    });\n    value.p1?.forEach((item) => {\n      formData.attrs.push(item.attr);\n      formData.levels.push(item.level);\n    });\n\n    props.search(formData);\n  };\n  const onReset = () => {\n    form.resetFields();\n  };\n  return (\n    <Form name=\"搜索\" form={form} onFinish={onFinish} className=\"seed-form\">\n      <Row>\n        <Form.Item label=\"角色\" name={`player0`}>\n          <PlayerInput></PlayerInput>\n        </Form.Item>\n      </Row>\n      <SearchOne name=\"p0\" max=\"3\"></SearchOne>\n      <div>总计:</div>\n      <SearchOne name=\"p1\" max=\"9\"></SearchOne>\n      <Row>\n        <Form.Item label=\"支援卡\" name={\"support\"}>\n          <SupportInput></SupportInput>\n        </Form.Item>\n        <Form.Item label=\"突破等级\" name={\"supportLevel\"} initialValue={0}>\n          <Rate count={4} />\n        </Form.Item>\n      </Row>\n      <Row justify=\"end\">\n        <Form.Item>\n          <Button htmlType=\"button\" onClick={() => onReset()}>\n            重置\n          </Button>\n        </Form.Item>\n        <Form.Item>\n          <Button type=\"primary\" htmlType=\"submit\">\n            搜索\n          </Button>\n        </Form.Item>\n      </Row>\n    </Form>\n  );\n};\n\nconst PlayerImage = (props) => {\n  let imgUrl = db.get(\"players\").find({ id: props.id }).value().imgUrl;\n  return (\n    <Image\n      src={cdnServer + imgUrl}\n      fallback=\"data:image/png;base64,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\"\n      width={80}\n      preview={false}\n    ></Image>\n  );\n};\n\nconst SupportImage = (props) => {\n  let support = db.get(\"supports\").find({ id: props.id }).value();\n  let imgUrl = \"\";\n  if (support) {\n    imgUrl = support.imgUrl;\n  }\n  return (\n    <Image\n      src={cdnServer + imgUrl}\n      fallback=\"data:image/png;base64,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\"\n      width={80}\n      preview={false}\n    ></Image>\n  );\n};\n\nconst Seed = () => {\n  const [isSeedInputVisible, setIsSeedInputVisible] = useState(false);\n  const [seedList, setSeedList] = useState([]);\n\n  const columns = [\n    {\n      title: \"玩家id\",\n      dataIndex: \"gameId\",\n      key: \"gameId\",\n      render: (text, seed) => (\n        <>\n          <Row>\n            <p>{text}</p>\n            <CopyToClipboard text={text} onCopy={() => message.info(\"成功\")}>\n              <Button shape=\"circle\" icon={<CopyOutlined />} />\n            </CopyToClipboard>\n          </Row>\n          <Row align=\"middle\">\n            <Button shape=\"circle\" icon={<SmileOutlined />} onClick={() => like(seed)} />\n            <p>{seed.likes ? seed.likes.length : 0}</p>\n          </Row>\n          <Row align=\"middle\">\n            <Button shape=\"circle\" icon={<FrownOutlined />} onClick={() => dislike(seed)} />\n            <p>{seed.dislikes ? seed.dislikes.length : 0}</p>\n          </Row>\n          {seed.userId===userId&&<Row align=\"middle\">\n            <Button shape=\"circle\" icon={<DeleteOutlined />}\n            style = {{color:'red'}} onClick={() => deleteSeed(seed)} />\n          </Row>}\n        </>\n      ),\n    },\n    {\n      title: \"主要\",\n      dataIndex: \"playerId-0\",\n      key: \"playerId-0\",\n      render: (text) => <PlayerImage id={text}></PlayerImage>,\n    },\n    {\n      title: \"蓝色因子\",\n      dataIndex: \"blue-0\",\n      key: \"blue-0\",\n      render: (text, record) =>\n          <span className=\"rate-label\">\n          {`${blueLabels[text]}\\xa0\\xa0${record[\"blueLevel-0\"]}`}\n          </span>\n      ,\n    },\n    {\n      title: \"红色因子\",\n      dataIndex: \"red-0\",\n      key: \"red-0\",\n      render: (text, record) =>\n          <span className=\"rate-label\">\n            {`${redLabels[text]}\\xa0\\xa0${record[\"redLevel-0\"]}`}\n          </span>\n      ,\n    },\n    {\n      title: \"绿色因子\",\n      dataIndex: \"greenLevel-0\",\n      key: \"greenLevel-0\",\n      render: (text, record) =>\n          <span className=\"rate-label\">\n          {`固有\\xa0\\xa0${record[\"greenLevel-0\"]}`}\n          </span>\n      ,\n    },{\n      title: \"URA\",\n      dataIndex: \"uraLevel-0\",\n      key: \"uraLevel-0\",\n      render: (text, record) =>\n          <span className=\"rate-label\">\n            {`URA\\xa0\\xa0${record[\"uraLevel-0\"]}`}\n          </span>\n      ,\n    },\n    {\n      title: \"父辈1\",\n      dataIndex: \"playerId-1\",\n      key: \"playerId-1\",\n      render: (text) => <PlayerImage id={text}></PlayerImage>,\n    },\n    {\n      title: \"父辈2\",\n      dataIndex: \"playerId-2\",\n      key: \"playerId-2\",\n      render: (text) => <PlayerImage id={text}></PlayerImage>,\n    },\n    {\n      title: \"总计蓝色\",\n      key: \"allBlue\",\n      render: (text, record) =>\n        Object.keys(blueLabels).map((key) => {\n          if (record[key]) {\n            // console.log(key,record[key])\n            return (\n                  <span className=\"rate-label\">\n                    {`${blueLabels[key]}\\xa0\\xa0${record[key]}`}\n                  </span>\n            );\n          } else {\n            return null;\n          }\n        }),\n    },\n    {\n      title: \"总计红色\",\n      key: \"allRed\",\n      render: (text, record) =>\n        Object.keys(redLabels).map((key) => {\n          if (record[key]) {\n            return (\n                  <span className=\"rate-label\">\n                    {`${redLabels[key]}\\xa0\\xa0${record[key]}`}\n                  </span>\n            );\n          } else {\n            return null;\n          }\n        }),\n    },\n    { title: \"总计URA\", dataIndex: \"uraLevel\", key: \"uraLevel\", render: (text) => text },\n    { title: \"总计白色\", dataIndex: \"white\", key: \"white\", render: (text) => text },\n    {\n      title: \"支援卡\",\n      dataIndex: \"supportId\",\n      key: \"supportId\",\n      render: (text) => <SupportImage id={text}></SupportImage>,\n    },\n    {\n      title: \"突破等级\",\n      dataIndex: \"supportLevel\",\n      key: \"supportLevel\",\n      render: (text, record) => (\n        <Row>\n          <Rate count={4} value={record[\"supportLevel\"]} disabled></Rate>\n        </Row>\n      ),\n    },\n  ];\n\n  const showSeedInput = (index) => {\n    setIsSeedInputVisible(true);\n  };\n  const closeSeedInput = () => {\n    setIsSeedInputVisible(false);\n  };\n  const showMySeed = ()=>{\n    search({attrs:['userId'],levels:[userId]})\n  }\n  const deleteSeed = async (value)=>{\n    const res = await axios.post(\"https://urarawin.com/api/delete\", value);\n    if (res.data) {\n      message.info(\"成功删除\");\n    } else {\n      message.info(\"出错了\");\n    }\n  }\n  const search = async (value) => {\n    const res = await axios.post(\"https://urarawin.com/api/search\", value);\n    if (res.data) {\n      if (res.data.length) {\n        setSeedList([...res.data]);\n      } else {\n        setSeedList([]);\n        message.info(\"暂无数据\");\n      }\n    } else {\n      message.info(\"出错了\");\n    }\n  };\n  const like = async (seed) => {\n    if (!userId) {\n      message.info(\"刷新后重试\");\n      return;\n    } else if (seed.likes && seed.likes.indexOf(userId) !== -1) {\n      return;\n    }\n    let id = seed.id;\n    const res = await axios.post(\"https://urarawin.com/api/like\", { id, userId });\n    if (res.data) {\n      message.info(\"成功\");\n      seed.likes ? seed.likes.push(userId) : (seed.likes = [userId]);\n      seed.dislikes && seed.dislikes.splice(seed.dislikes.indexOf(userId), 1);\n    }\n    setSeedList([...seedList]);\n  };\n  const dislike = async (seed) => {\n    if (!userId) {\n      message.info(\"刷新后重试\");\n      return;\n    } else if (seed.dislikes && seed.dislikes.indexOf(userId) !== -1) {\n      return;\n    }\n    let id = seed.id;\n    const res = await axios.post(\"https://urarawin.com/api/dislike\", { id, userId });\n    if (res.data) {\n      message.info(\"成功\");\n      seed.likes && seed.likes.splice(seed.likes.indexOf(userId), 1);\n      seed.dislikes ? seed.dislikes.push(userId) : (seed.dislikes = [userId]);\n    }\n    setSeedList([...seedList]);\n  };\n\n  return (\n    <>\n      <div className=\"seed-container\">\n        <Card className=\"card\" title=\"过滤条件\">\n          <SearchForm search={search}></SearchForm>\n          <Button onClick={() => showSeedInput()}>配置我的种子</Button>\n          <Button onClick={() => showMySeed()}>查看我的种子</Button>\n        </Card>\n        <Card className=\"card\" title=\"结果\">\n          <Table columns={columns} dataSource={seedList} pagination={false} rowKey={\"id\"} />\n        </Card>\n      </div>\n      <Modal\n        visible={isSeedInputVisible}\n        onOk={closeSeedInput}\n        onCancel={closeSeedInput}\n        footer={null}\n        width={\"80%\"}\n      >\n        <SeedInput onFinish={closeSeedInput}></SeedInput>\n      </Modal>\n    </>\n  );\n};\nexport default Seed;\n","import React,{useState} from 'react';\nimport {withRouter} from 'react-router-dom';\n\nimport db from '../db.js'\nimport {Button,Popover } from 'antd';\nimport t from './t.js';\nimport Flag from 'rc-national-flag'\n// import t from './t.js'\n\nconst ua = db.get('ua').value();\n\nconst LanButton = (props)=>{\n  let lan = db.get('lan').value()\n  const [code,setCode]= useState(lan||'cn')\n  console.log(code)\n  const changeToCn=()=>{\n    lan = 'cn'\n    db.set('lan','cn').write()\n    setCode('cn')\n    t('','cn')\n    window.location.reload(true)\n  }\n  const changeToUs=()=>{\n    lan = 'us'\n    db.set('lan','us').write()\n    setCode('us')\n    t('','us')\n    window.location.reload(true)\n  }\n  const changeToJp=()=>{\n    lan = 'jp'\n    db.set('lan','jp').write()\n    setCode('jp')\n    t('','jp')\n    window.location.reload(true)\n  }\n  const flagStyle={\n    width:40,\n    height:30,\n    margin:4\n  }\n  return(\n  <Popover content={<div style={{display:'flex'}}>\n  <Flag onClick={changeToCn} code={'cn'} style={{...flagStyle}}></Flag>\n  <Flag onClick={changeToUs} code={'us'} style={{...flagStyle}}></Flag>\n  <Flag onClick={changeToJp} code={'jp'} style={{...flagStyle}}></Flag>\n  </div>}>\n      <Flag code={code} style={{...flagStyle}}></Flag>\n  </Popover>\n  )\n}\n\nexport default withRouter(LanButton)\n","import React,{useState} from 'react';\nimport {withRouter} from 'react-router-dom';\nimport { Steps, Hints } from 'intro.js-react';\nimport 'intro.js/introjs.css';\nconst IntroIndex = (props)=>{\n  const introV = '0.0.1'\n  console.log(localStorage.getItem('introV'))\n  console.log(introV)\n  const [stepsEnabled,setStepsEnabled] = useState(localStorage.getItem('introV')!==introV);\n  const initialStep = 0;\n  const steps=[\n    {\n      title:'角色信息',\n      element:'.menu-player',\n      intro:<>\n        <p>点击查看详情</p>\n      </>,\n      href:'/'\n    },{\n      title:'支援卡信息',\n      element:'.menu-support',\n      intro:<>\n          <p>点击查看详情</p>\n          <p>通过育成效果筛选</p>\n          <p>【切换显示模式】切换全部、已拥有</p>\n          <p>【配置卡组】选择拥有的辅助卡，技能页面筛选拥有的技能</p>\n        </>,\n      href:'/support'\n    },{\n      title:'技能信息',\n      element:'.menu-skill',\n      intro:<>\n        <p>鼠标悬浮查看详情</p>\n        <p>通过条件和类型进行筛选</p>\n        <p>【显示拥有支援卡】切换是否显示全部、已拥有</p>\n        <p>点击技能可以查看拥有该技能的角色和支援卡</p>\n      </>,\n      href:'/skill'\n    },{\n      title:'比赛信息',\n      element:'.menu-race',\n      intro:<>\n        <p>通过条件筛选</p>\n      </>,\n      href:'/race'\n    },{\n      title:'育成辅助页面',\n      element:'.menu-nurturing2',\n      intro:<>\n        <p>【选择马娘】选择培训的马娘</p>\n        <p>【选择支援卡】选择使用的支援卡</p>\n        <p>【卡组】卡组保存、读取、删除</p>\n      </>,\n        href:'/nurturing2'\n    },{\n      title:'种马和支援卡分享',\n      element:'.menu-seed',\n      intro:<>\n        <p>通过条件搜索种马和支援卡信息</p>\n        <p>【配置种子】添加自己的种马和支援卡信息分享</p>\n      </>,\n      href:'/seed'\n    },{\n      title:'初始化育成',\n      element:'.reset-nur',\n      intro:<>\n      <p>育成页面出现问题时点击修复</p>\n      <p>会清空卡组！！！</p>\n    </>,\n    },{\n      title:'重置引导',\n      element:'.reset-intro',\n      intro:<>\n      <p>点击后刷新重新观看引导</p>\n    </>,\n  }]\n\n  const onExit = ()=>{\n    localStorage.setItem('introV',introV)\n    setStepsEnabled(false)\n  }\n  const onBeforeChange = (nextStepIndex)=>{\n    steps[nextStepIndex].href&&props.history.push(steps[nextStepIndex].href)\n  }\n  const onComplete = ()=>{\n    localStorage.setItem('introV',introV)\n    setStepsEnabled(false)\n  }\n  return (\n    <Steps\n          enabled={stepsEnabled}\n          steps={steps}\n          initialStep={initialStep}\n          onExit={onExit}\n          onBeforeChange={onBeforeChange}\n          onComplete={onComplete}\n          options={{\n            doneLabel:'Done'\n          }}\n        />\n  )\n}\nexport default withRouter(IntroIndex)\n","import React,{useState} from 'react';\nimport { HashRouter as Router, Route ,Link } from 'react-router-dom';\nimport CacheRoute, { CacheSwitch } from 'react-router-cache-route'\nimport {Row,Col,Image,Layout,Menu,Button,Popover,Popconfirm} from 'antd'\nimport {message} from 'antd'\nimport 'antd/dist/antd.css';\nimport './index.css'\n\n\nimport db from './db.js'\nimport t from './components/t.js'\n\nimport Race from './pages/race.js'\nimport Player from './pages/player.js'\nimport Support from './pages/support.js'\n// import Nurturing from './pages/nurturing.js'\nimport Nurturing2 from './pages/nurturing2.js'\nimport Skill from './pages/skill.js'\nimport Seed from './pages/seed.js'\n\nimport LanButton from './components/lan-button'\nimport IntroIndex from './components/intro.js'\n\nconst { Header, Content, Footer } = Layout;\nconst cdnServer = 'https://cdn.jsdelivr.net/gh/wrrwrr111/pretty-derby@master/public/'\n\nconst AppPc = ()=>{\n\n  const resetNur =()=>{\n    db.set('selected',{\n      supports:{0:{},1:{},2:{},3:{},4:{},5:{}},\n      player:{},\n      races:[]\n    }).write()\n    // db.set('myDecks',[]).write()\n  }\n  const resetIntro = ()=>{\n    localStorage.setItem('introV',null)\n  }\n  db.set('ua','pc').write();\n  //隐藏主要的overflow\n  const dom = document.getElementsByTagName(\"body\");\n  dom[0].style.overflowY = \"scroll\";\n\n  return (\n      // <UserAgentProvider ua={window.navigator.userAgent}>\n<Router>\n    <IntroIndex></IntroIndex>\n    <Layout className=\"layout\">\n    <Header style={{ position: 'fixed', zIndex: 1, width: '100%' }}>\n      <Menu theme=\"dark\" mode=\"horizontal\">\n        <Menu.Item key=\"1\" className='menu-player'><Link to='/'>{t('角色')}</Link></Menu.Item>\n        <Menu.Item key=\"2\" className='menu-support'><Link to='/support'>{t('支援卡')}</Link></Menu.Item>\n        <Menu.Item key=\"3\" className='menu-skill'><Link to='/skill'>{t('技能')}</Link></Menu.Item>\n        <Menu.Item key=\"4\" className='menu-race'><Link to='/race'>{t('比赛')}</Link></Menu.Item>\n        {/* <Menu.Item key=\"5\" className='menu-nurturing'><Link to='/nurturing'>{t('育成')}</Link></Menu.Item> */}\n        <Menu.Item key=\"7\" className='menu-nurturing2'><Link to='/nurturing2'>{t('育成')}</Link></Menu.Item>\n        <Menu.Item key=\"6\" className='menu-seed'><Link to='/seed'>{t('种马分享')}</Link></Menu.Item>\n        <LanButton style={{float:'right'}}></LanButton>\n      </Menu>\n    </Header>\n    <Content style={{ paddingTop:'64px'}} >\n      <CacheSwitch>\n        <CacheRoute exact path=\"/\" component={Player}/>\n        <CacheRoute path=\"/support\" component={Support}/>\n        <CacheRoute path=\"/skill\" component={Skill}/>\n        <CacheRoute path=\"/nurturing\" component={Nurturing2}/>\n        <CacheRoute path=\"/nurturing2\" component={Nurturing2}/>\n        <CacheRoute path=\"/seed\" component={Seed}/>\n        <CacheRoute path=\"/race\" component={Race}/>\n      </CacheSwitch>\n    </Content>\n  <Footer style={{padding:'12px'}}>\n    <Row gutter={[16,16]}>\n      <Col span={2}>\n        <Button className='reset-intro' placement=\"bottom\" onClick={resetIntro}>{t('重置引导')}</Button>\n      </Col>\n      <Col span={3}>\n        <Popconfirm title={t('确认初始化？')} onConfirm={resetNur}>\n          <Popover content={<p>{t('初始化育成页面')}</p>}>\n            <Button className='reset-nur' placement=\"bottom\">{t('初始化育成')}</Button>\n          </Popover>\n        </Popconfirm>\n      </Col>\n      <Col span={13}></Col>\n      <Col span={2}>\n        <iframe title=\"GitHub\" src=\"https://ghbtns.com/github-btn.html?user=wrrwrr111&repo=pretty-derby&type=star&count=true&size=large&v=2\" frameBorder=\"0\" scrolling=\"0\" width=\"160px\" height=\"30px\"></iframe>\n      </Col>\n      <Col span={2}>\n      <Popover content={<><Image src={cdnServer+'img/q.jpg'} width={300}></Image><p>{t('闲聊为主')}</p></>}>\n        <a target=\"_blank\" rel=\"noreferrer\" href=\"https://qm.qq.com/cgi-bin/qm/qr?k=f2Q2MIqkkxiiYq-sfRYmI7E4v17-r3V2&jump_from=webapi\">\n          <img border=\"0\" src=\"//pub.idqqimg.com/wpa/images/group.png\" alt=\"轻 松 赛 马\" title=\"轻 松 赛 马\" />\n        </a>\n      </Popover>\n      </Col>\n      <Col span={2}>\n      <Popover content={<div style={{display:'flex'}}>\n        <div style={{margin:20}}>\n          <Image src={cdnServer+'img/z.jpg'} width={200}></Image><p>{t('支付宝')}</p>\n        </div>\n        <div style={{margin:20}}>\n          <Image src={cdnServer+'img/w.jpg'} width={200}></Image><p>{t('微信')}</p>\n        </div>\n      </div>}>\n          <Button placement=\"bottom\" style={{display:'flex'}}>\n            <Image src={cdnServer+'reimu.gif'} preview={false} width={24}></Image>\n            <div>{t('塞钱箱')}</div>\n          </Button>\n        </Popover>\n      </Col>\n    </Row>\n  </Footer>\n  </Layout>\n</Router>\n      // </UserAgentProvider>\n  )\n}\n\nexport default AppPc\n","import React,{useState} from 'react';\nimport {withRouter} from 'react-router-dom';\nimport shortid from 'shortid'\nimport db from '../db.js'\nimport dbL from '../dbL.js'\nimport t from '../components/t.js'\nimport { Divider,Row,Col,Modal,Button, Popconfirm,Popover,Tooltip} from 'antd';\nimport {EditOutlined} from '@ant-design/icons'\n\n\n// import Race from './race.js'\nimport Player from '../pages/player.js'\nimport Support from '../pages/support.js'\nimport {RaceSchedule,RaceTimeline,RaceCheckbox} from '../components/race.js'\n\nconst cdnServer = 'https://cdn.jsdelivr.net/gh/wrrwrr111/pretty-derby/public/'\n\n\n\nconst Nurturing = (props) =>{\n  const [needSelect,setNeedSelect] = useState(false)\n  const [isPlayerVisible, setIsPlayerVisible] = useState(false);\n\n  const [isSupportVisible, setIsSupportVisible] = useState(false);\n  const [supportIndex, setSupportIndex] = useState(1);\n\n  // const [isRaceVisible, setIsRaceVisible] = useState(false);\n\n  const selected = dbL.get('selected').value()\n  const [supports, setSupports] = useState(selected.supports);\n  const [player, setPlayer] = useState(selected.player);\n  const races = db.get('races').value()\n  const [raceFilterCondition,setRaceFilterCondition] = useState(selected.raceFilterCondition||{\n    distanceType:[],\n    grade:[],\n    ground:[]})\n  const [filterRace,setFilterRace] = useState(selected.filterRace||{})\n  const [decks,setDecks] = useState(dbL.get('myDecks').value())\n\n\n\n  const showPlayer = () => {\n    setIsPlayerVisible(true);\n  };\n  const closePlayer = () => {\n    setIsPlayerVisible(false);\n  };\n  const handleSelectPlayer = (data)=>{\n    setIsPlayerVisible(false);\n    setPlayer(data)\n\n    // save\n    selected.player = data\n    dbL.get('selected').assign(selected).write()\n  }\n\n  const showSupport = (index) => {\n    setNeedSelect(true)\n    setIsSupportVisible(true);\n    setSupportIndex(index)\n  };\n  const showSupport2 = (index) => {\n    setNeedSelect(false)\n    setIsSupportVisible(true);\n    setSupportIndex(index)\n  };\n\n  const closeSupport = () => {\n    setIsSupportVisible(false);\n  };\n  const handleSelectSupport = (data)=>{\n    let newData= {}\n    newData[supportIndex] = data\n    setSupports(Object.assign({},supports,newData))\n    setIsSupportVisible(false);\n\n    // save\n    selected.supports[supportIndex] = data\n    dbL.get('selected').assign(selected).write()\n  }\n\n\n  // 卡组相关操作\n  const saveDeck = (deck)=>{\n    let tmpDeck = {\n      imgUrls:[],\n      supportsId:[],\n    }\n    if(player.id){\n      tmpDeck.playerId = player.id\n      tmpDeck.imgUrls.push(player.imgUrl)\n    }\n    [0,1,2,3,4,5].forEach(index=>{\n      if(supports[index]&&supports[index].id){\n        tmpDeck.imgUrls.push(supports[index].imgUrl)\n        tmpDeck.supportsId.push(supports[index].id)\n      }else{\n        tmpDeck.supportsId.push(null)\n      }\n    })\n    if(deck){\n      //update\n      dbL.get('myDecks').find({id:deck.id}).assign(tmpDeck).write()\n    }else{\n      //\n      tmpDeck.id = shortid.generate()\n      dbL.get('myDecks').push(tmpDeck).write()\n    }\n    setDecks([...dbL.get('myDecks').value()])\n  }\n  const loadDeck = (deck)=>{\n    selected.supports={0:{},1:{},2:{},3:{},4:{},5:{}}\n    selected.player={}\n    if(deck.playerId){\n      selected.player = db.get('players').find({id:deck.playerId}).value()\n    }\n    setPlayer(selected.player)\n    deck.supportsId.forEach((id,index)=>{\n      if(id){\n        selected.supports[index]=db.get('supports').find({id:id}).value()\n      }\n    })\n    setSupports({...selected.supports})\n    db.get('selected').assign(selected).write()\n  }\n  const deleteDeck = (deck)=>{\n    dbL.get('myDecks').remove({id:deck.id}).write()\n    setDecks([...dbL.get('myDecks').value()])\n  }\n// race checkbox发生变化\nconst onChangeRace = (filterCondition)=>{\n  setRaceFilterCondition(filterCondition)\n  //根据条件过滤\n  let tmpRaceList = Object.values(filterCondition).some(f => f.length > 0)\n      ? Object.entries(filterCondition)\n        .filter(([key, filters]) => filters.length > 0)\n        .reduce((result, [key, filters]) => result.filter(race => filters.includes(race[key])), races)\n      : [];\n  //过滤后整理成 dataNum:[raceId]\n  let tmpFilterRace = {}\n    for(let race of tmpRaceList){\n      if(tmpFilterRace[race.dateNum]){\n        tmpFilterRace[race.dateNum].push(race.id)\n      }else{\n        tmpFilterRace[race.dateNum]=[race.id]\n      }\n    }\n  //更新state\n  setFilterRace(tmpFilterRace)\n  selected.raceFilterCondition = filterCondition\n  selected.filterRace = tmpFilterRace\n  dbL.get('selected').assign({...selected}).write()\n}\n\n  const toSupportDetail = (id)=>{\n    props.history.push(`/support-detail/${id}`)\n  }\n  const toPlayerDetail = (id)=>{\n    props.history.push(`/player-detail/${id}/1`)\n  }\n  const toBuffList = (id)=>{\n    props.history.push(`/buff`)\n  }\n\n  return(<>\n    <div style={{display:'flex',justifyContent:'center'}}>\n      {player.imgUrl&&\n        <img src={cdnServer+player.imgUrl} alt={player.imgUrl} width='128'\n          onClick={()=>toPlayerDetail(player.id)}></img>\n      }\n      <div style={{flex:'1 1 auto',flexWrap:'wrap',display:'flex',justifyContent:'center'}} >\n        <Button type={'primary'} onClick={showPlayer}>{t('选择马娘')}</Button>\n        <Button onClick={showSupport2}>{t('支援卡查询')}</Button>\n        <Button onClick={toBuffList}>{t('BUFF')}</Button>\n        <Popover trigger='click' content={\n          <RaceCheckbox onChange={onChangeRace} raceFilterCondition={raceFilterCondition}></RaceCheckbox>\n        }>\n          <Button>{t('比赛')}</Button>\n        </Popover>\n        <Popover trigger='click' width={'80%'} content={\n          <>\n            <Button onClick={()=>saveDeck()}>{t('保存为新卡组')}</Button>\n            {decks.map(deck=>\n              <Row key={deck.id}>\n                {deck.imgUrls.map(imgUrl=>\n                  <Col span={3} key={imgUrl}>\n                    <img src={cdnServer+imgUrl} alt={imgUrl}  width={'100'}></img>\n                  </Col>\n                )}\n                <Col span={3}>\n                  <Button type=\"primary\" onClick={()=>loadDeck(deck)}>{t('读取卡组')}</Button>\n                  <Popconfirm title=\"确认覆盖？\" onConfirm={()=>saveDeck(deck)}>\n                    <Button danger type=\"dashed\">{t('覆盖卡组')}</Button>\n                  </Popconfirm>\n                  <Popconfirm title=\"确认删除？\" onConfirm={()=>deleteDeck(deck)}>\n                    <Button danger type=\"dashed\">{t('删除卡组')}</Button>\n                  </Popconfirm>\n                </Col>\n              </Row>\n            )}\n          </>\n          }><Button>{t('我的卡组')}</Button>\n        </Popover>\n      </div>\n    </div>\n\n\n        <Row justify=\"space-around\">\n        {[0,1,2,3,4,5].map(index=>\n          <Col span={7} key={index} style={{}}>\n            <Button icon={<EditOutlined />} onClick={()=>showSupport(index)}>{t('选择支援卡')}</Button>\n            {supports[index]&&supports[index].id&&\n              <img src={cdnServer+supports[index].imgUrl} alt={supports[index].name} width={'100%'}\n              onClick={()=>toSupportDetail(supports[index].id)}></img>\n            }\n          </Col>\n        )}\n        </Row>\n\n      <Divider>比赛</Divider>\n      <div style={{overflow:'auto',paddingTop:'10px',width:'100%',height:'400px'}}>\n        <RaceTimeline raceList={player.raceList} filterRace={filterRace}></RaceTimeline>\n      </div>\n\n      <Modal visible={isPlayerVisible} onOk={closePlayer} onCancel={closePlayer} footer={null} width={'80%'}>\n        <Player onSelect={handleSelectPlayer}></Player>\n      </Modal>\n      <Modal visible={isSupportVisible} onOk={closeSupport} onCancel={closeSupport} footer={null} width={'80%'}>\n        <Support onSelect={needSelect?handleSelectSupport:null} ></Support>\n      </Modal>\n  </>\n  )\n}\n\nexport default withRouter(Nurturing)\n\n\n","import React,{useState} from 'react';\n\nimport { Picker, List,Flex,Card } from 'antd-mobile';\n\nimport { Image,Button,Divider,Modal,Rate,Form} from 'antd';\nimport {message} from 'antd'\n//test\nimport {PlusOutlined,SmileOutlined,FrownOutlined,CopyOutlined } from '@ant-design/icons';\nimport {CopyToClipboard} from 'react-copy-to-clipboard';\n\nimport axios from 'axios'\nimport db from '../db.js'\nimport t from '../components/t.js'\nimport Player from '../pages/player.js'\nimport Support from '../pages/support.js'\nconst cdnServer = 'https://cdn.jsdelivr.net/gh/wrrwrr111/pretty-derby/public/'\nlet userId = db.get('userId').value()\n\nconst blueLabels={\n  'speed':'速度',\n  'stamina':'耐力',\n  'power':'力量',\n  'guts':'根性',\n  'wisdom':'智力'\n}\nconst redLabels = {\n  'grass':'草地',\n  'dirt':'泥地',\n  'shortDistance':'短距离',\n  'mile':'英里',\n  'mediumDistance':'中距离',\n  'longDistance':'长距离',\n  'escape':'逃',\n  'leading':'先',\n  'insert':'差',\n  'tracking':'追'}\n\nconst lists = [\n  [\n    {value:'speed',label:t('速度')},\n    {value:'stamina',label:t('耐力')},\n    {value:'power',label:t('力量')},\n    {value:'guts',label:t('根性')},\n    {value:'wisdom',label:t('智力')},\n    {value:'grass',label:t('草地')},\n    {value:'dirt',label:t('泥地')},\n    {value:'shortDistance',label:t('短距离')},\n    {value:'mile',label:t('英里')},\n    {value:'mediumDistance',label:t('中距离')},\n    {value:'longDistance',label:t('长距离')},\n    {value:'escape',label:t('逃')},\n    {value:'leading',label:t('先')},\n    {value:'insert',label:t('差')},\n    {value:'tracking',label:t('追')}\n  ],[\n    {value:1,label:`1${t('星')}`},\n    {value:2,label:`2${t('星')}`},\n    {value:3,label:`3${t('星')}`},\n    {value:4,label:`4${t('星')}`},\n    {value:5,label:`5${t('星')}`},\n    {value:6,label:`6${t('星')}`},\n    {value:7,label:`7${t('星')}`},\n    {value:8,label:`8${t('星')}`},\n    {value:9,label:`9${t('星')}`},\n  ]\n]\n\n\n\nconst PlayerInput = ({ value = {}, onChange }) => {\n  const [isPlayerVisible, setIsPlayerVisible] = useState(false);\n  const [data, setData] = useState({});\n  const showPlayer = (index) => {\n    setIsPlayerVisible(true);\n  };\n  const closePlayer = () => {\n    setIsPlayerVisible(false);\n  };\n  const triggerChange = (changedValue)=>{\n    setIsPlayerVisible(false);\n    onChange?.({\n      ...data,\n      ...value,\n      ...changedValue,\n    })\n  }\n  const handleSelectPlayer = (data)=>{\n    setData(data)\n    triggerChange(data)\n  }\n  return (\n    <>\n      <Image src={data.imgUrl?cdnServer+data.imgUrl:''}\n        preview={false} fallback=\"data:image/png;base64,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\"\n        width={'100%'} style={{minWidth:'100px'}} onClick={showPlayer}>\n      </Image>\n        <Modal visible={isPlayerVisible} onOk={closePlayer} onCancel={closePlayer} width={'80%'}>\n          <Player onSelect={handleSelectPlayer}></Player>\n        </Modal>\n    </>\n  );\n};\nconst SupportInput = ({ value = {}, onChange }) => {\n  const [isSupportVisible, setIsSupportVisible] = useState(false);\n  const [data, setData] = useState({});\n  const showSupport = (index) => {\n    setIsSupportVisible(true);\n  };\n  const closeSupport = () => {\n    setIsSupportVisible(false);\n  };\n  const triggerChange = (changedValue)=>{\n    setIsSupportVisible(false);\n    onChange?.({\n      ...data,\n      ...value,\n      ...changedValue,\n    })\n  }\n  const handleSelectSupport = (data)=>{\n    setData(data)\n    triggerChange(data)\n  }\n  return (\n    <>\n      <Image src={data.imgUrl?cdnServer+data.imgUrl:''}\n        preview={false} fallback=\"data:image/png;base64,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\"\n        width={'100%'} style={{minWidth:'100px'}}  onClick={showSupport}>\n      </Image>\n        <Modal visible={isSupportVisible} onOk={closeSupport} onCancel={closeSupport} width={'80%'}>\n          <Support onSelect={handleSelectSupport}></Support>\n        </Modal>\n    </>\n  );\n};\n\nconst SearchOne = (props)=>{\n  return(\n    <Form.List name={props.name}>\n      {(fields, { add, remove }, { errors }) => (\n          <List>\n            {fields.map((field, index) => (\n                <Form.Item {...field} key={field.key}\n                  name={[field.name,'attr']}\n                  fieldKey={[field.fieldKey,'attr']}\n                  rules={[{required: true}]} validateTrigger={['onChange', 'onBlur']} noStyle>\n                      <Picker\n                        data={lists}\n                        cascade={false}\n                        extra={t('请选择')}\n                        ><List.Item arrow=\"horizontal\">{t('过滤条件(总计)')}</List.Item>\n                      </Picker>\n                </Form.Item>\n            ))}\n            <List.Item>\n                <Button\n                  type=\"dashed\"\n                  onClick={() => add()}\n                  icon={<PlusOutlined />}\n                  >\n                  {t('添加过滤条件')}\n                </Button>\n            </List.Item>\n          </List>\n        )}\n      </Form.List>\n  )\n}\nconst SearchForm = (props)=>{\n  const [form] = Form.useForm()\n\n  const onFinish = async (value)=>{\n    let formData = {attrs:[],levels:[]}\n    if(value['player0']){\n      formData.attrs.push('playerId-0')\n      formData.levels.push(value['player0'].id)\n    }\n    if(value['support']){\n      formData.attrs.push('supportId')\n      formData.levels.push(value['support'].id)\n    }\n    value.p1?.forEach(item=>{\n      formData.attrs.push(item.attr[0])\n      formData.levels.push(item.attr[1])\n    })\n\n    props.search(formData)\n  }\n  const onReset = ()=>{\n    form.resetFields();\n  }\n  return(\n    <Form name='搜索' form={form} onFinish={onFinish} className=\"seed-form\">\n      <SearchOne name='p1'></SearchOne>\n      <Flex align='start'>\n        <Flex.Item>\n          <p>{t('角色')}</p>\n          <Form.Item name={`player0`}>\n              <PlayerInput></PlayerInput>\n          </Form.Item>\n        </Flex.Item>\n        <Flex.Item>\n          <p>{t('支援卡')}</p>\n          <Form.Item name={'support'}>\n            <SupportInput></SupportInput>\n          </Form.Item>\n        </Flex.Item>\n        <Flex.Item>\n          <p>{t('突破等级')}</p>\n          <Form.Item name={'supportLevel'} initialValue={0}>\n            <Rate count={4} />\n          </Form.Item>\n        </Flex.Item>\n      </Flex>\n      <Flex justify='end'>\n        <Form.Item>\n          <Button htmlType=\"button\" onClick={()=>onReset()}>\n            {t('重置')}\n          </Button>\n        </Form.Item>\n        <Form.Item>\n          <Button type=\"primary\" htmlType=\"submit\">\n            {t('搜索')}\n          </Button>\n        </Form.Item>\n      </Flex>\n    </Form>\n  )\n}\nconst PlayerImage = (props)=>{\n  let imgUrl =  db.get('players').find({id:props.id}).value().imgUrl\n  return <Image src={cdnServer+imgUrl} fallback=\"data:image/png;base64,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\"\n        width={80}  preview={false}></Image>\n}\nconst SupportImage = (props)=>{\n  let support = db.get('supports').find({id:props.id}).value()\n  let imgUrl = ''\n  if(support){\n    imgUrl =  support.imgUrl\n  }\n  return <Image src={cdnServer+imgUrl} fallback=\"data:image/png;base64,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\"\n        width={80} preview={false}></Image>\n}\n\nconst Seed = ()=>{\n  const SeedCard = (props) =>{\n    const data = props.data\n    return (\n      <Card>\n        <Flex>\n            <p style={{fontSize:'1.5em'}}>{data.gameId}</p>\n            <CopyToClipboard text={data.gameId} onCopy={()=>message.info('成功')}>\n              <Button shape=\"circle\" icon={<CopyOutlined />}/>\n            </CopyToClipboard>\n        </Flex>\n        <Flex>\n          <Flex.Item>\n            <PlayerImage id={data['playerId-0']}></PlayerImage>\n            <SupportImage id={data['supportId']}></SupportImage>\n            <Flex align='middle'>\n              <Button shape=\"circle\" icon={<SmileOutlined />} onClick={()=>like(data)}/>\n              <p>{data.likes?data.likes.length:0}</p>\n            </Flex>\n            <Flex align='middle'>\n              <Button shape=\"circle\" icon={<FrownOutlined />} onClick={()=>dislike(data)}/>\n              <p>{data.dislikes?data.dislikes.length:0}</p>\n            </Flex>\n          </Flex.Item>\n          <Flex.Item>\n            <p>{`${t(blueLabels[data['blue-0']])}: ${data['blueLevel-0']}`}</p>\n            <p>{`${t(redLabels[data['red-0']])}: ${data['redLevel-0']}`}</p>\n            {Object.keys(blueLabels).map(key=>\n            data[key]?<p key={key}>{`${t('总计')} ${t(blueLabels[key])}: ${data[key]}`}</p>:null\n            )}\n            {Object.keys(redLabels).map(key=>\n            data[key]?<p key={key}>{`${t('总计')} ${t(redLabels[key])}: ${data[key]}`}</p>:null\n            )}\n            <p>{`${t('突破等级')}: ${data['supportLevel']||0}`}</p>\n          </Flex.Item>\n        </Flex>\n      </Card>\n    )\n  }\n\n  const [seedList,setSeedList] = useState([])\n  const search = async (value)=>{\n    const res = await axios.post('https://urarawin.com/api/search',value)\n    if(res.data){\n      if(res.data.length){\n        setSeedList([...res.data])\n      }else{\n        message.info(t('暂无数据'))\n      }\n    }else{\n      message.info(t('出错了'))\n    }\n  }\n  const like = async (seed) =>{\n    if(!userId){\n      message.info(t('刷新后重试'))\n      return\n    }else if(seed.likes&&seed.likes.indexOf(userId)!==-1 ){\n      return\n    }\n    let id = seed.id\n    const res = await axios.post('https://urarawin.com/api/like',{id,userId})\n    if(res.data){\n      message.info(t('成功'))\n      seed.likes?seed.likes.push(userId):seed.likes=[userId]\n      seed.dislikes&&seed.dislikes.splice(seed.dislikes.indexOf(userId),1)\n    }\n    setSeedList([...seedList])\n  }\n  const dislike = async (seed)=>{\n    if(!userId){\n      message.info(t('刷新后重试'))\n      return\n    }else if(seed.dislikes&&seed.dislikes.indexOf(userId)!==-1 ){\n      return\n    }\n    let id = seed.id\n    const res = await axios.post('https://urarawin.com/api/dislike',{id,userId})\n    if(res.data){\n      message.info(t('成功'))\n      seed.likes&&seed.likes.splice(seed.likes.indexOf(userId),1)\n      seed.dislikes?seed.dislikes.push(userId):seed.dislikes=[userId]\n    }\n    setSeedList([...seedList])\n  }\n  return(\n  <>\n    <SearchForm search={search}></SearchForm>\n    <Divider>{t('结果')}</Divider>\n    <Flex wrap='wrap'>\n      {seedList.map(seed=>\n      <Flex.Item  key={seed.gameId}\n        style={{width:'48%',flex:'0 0 auto',margin:0}}\n      >\n        <SeedCard data={seed}></SeedCard>\n      </Flex.Item>)}\n    </Flex>\n    {/* <Table columns={columns} dataSource={seedList} pagination={false} rowKey={'id'}/> */}\n  </>\n  )\n}\nexport default Seed\n","import React from 'react';\nimport { HashRouter as Router, Route ,Link} from 'react-router-dom';\nimport CacheRoute, { CacheSwitch } from 'react-router-cache-route'\nimport {Image,Button,Popover} from 'antd'\nimport { Drawer, List, NavBar, Icon } from 'antd-mobile';\nimport 'antd-mobile/dist/antd-mobile.min.css';\n\nimport db from './db.js'\nimport t from './components/t.js'\n\nimport Race from './pages/race.js'\nimport Player from './pages/player.js'\nimport Support from './pages/support.js'\nimport NurturingMO2 from './pages-mo/nurturing.js'\nimport Skill from './pages/skill.js'\nimport SeedMo from './pages-mo/seed.js'\n\nimport {SupportDetail} from './components/support-detail.js'\nimport {PlayerDetail} from './components/player-detail.js'\nimport {SkillDetail} from './components/skill-detail.js'\nimport {BuffList} from './components/buff.js'\nimport LanButton from './components/lan-button'\nconst cdnServer = 'https://cdn.jsdelivr.net/gh/wrrwrr111/pretty-derby/public/'\nclass App1 extends React.Component {\n  state = {\n    open: false,\n    title:'urara win'\n  }\n\n  onOpenChange=()=>{\n    this.setState({open: !this.state.open})\n  }\n  onSelect = (label) => {\n    this.setState({title:label});\n    this.onOpenChange()\n  }\n  reload =()=>{\n    db.set('selected',{\n      supports:{1:{},2:{},3:{},4:{},5:{},6:{}},\n      player:{},\n      races:[]\n    }).write()\n    // db.set('myDecks',[]).write()\n  }\n  render() {\n    db.set('ua','mo').write();\n    const routers = [{path:'/',label:'角色'},\n    {path:'/support',label:'支援卡'},\n    {path:'/skill',label:'技能'},\n    {path:'/race',label:'比赛'},\n    {path:'/nurturing2',label:'育成'},\n    {path:'/seed',label:'种马分享'}]\n    const linkList=(<List>\n      {routers.map(item=>\n        <Link to={item.path} key={item.path}  onClick={()=>this.onSelect(item.label)}>\n          <List.Item >{t(item.label)}</List.Item>\n        </Link>\n      )}\n\n      <List.Item style={{marginTop:200}}>\n      <iframe title=\"GitHub\" src=\"https://ghbtns.com/github-btn.html?user=wrrwrr111&repo=pretty-derby&type=star&count=true&size=large&v=2\" frameBorder=\"0\" scrolling=\"0\" width=\"160px\" height=\"30px\"></iframe>\n      </List.Item>\n      <List.Item>\n      <Popover content={<><Image src={cdnServer+'img/q.jpg'} width={300}></Image><p>{t('闲聊为主')}</p></>}>\n        <a target=\"_blank\" rel=\"noreferrer\" href=\"https://qm.qq.com/cgi-bin/qm/qr?k=f2Q2MIqkkxiiYq-sfRYmI7E4v17-r3V2&jump_from=webapi\">\n          <Button placement=\"bottom\">{t('加入QQ群')}</Button>\n        </a>\n      </Popover>\n      </List.Item>\n      <List.Item>\n      <Popover content={<div style={{display:'flex'}}>\n        <div style={{margin:20}}>\n          <Image src={cdnServer+'img/z.jpg'} width={200}></Image><p>{t('支付宝')}</p>\n        </div>\n        <div style={{margin:20}}>\n          <Image src={cdnServer+'img/w.jpg'} width={200}></Image><p>{t('微信')}</p>\n        </div>\n      </div>}>\n        <Button placement=\"bottom\">{t('捐助')}</Button>\n      </Popover>\n      </List.Item>\n      <List.Item>\n        <Button placement=\"bottom\" onClick={this.reload}>{t('初始化育成')}</Button>\n      </List.Item>\n      <List.Item>\n        <LanButton></LanButton>\n      </List.Item>\n    </List>)\n\n    return (\n    <Router>\n      <NavBar icon={<Icon type=\"ellipsis\" />} onLeftClick={this.onOpenChange}>{this.state.title}</NavBar>\n      <Drawer\n        className=\"my-drawer\"\n        style={{\n          minHeight: document.documentElement.clientHeight,\n          position: 'relative',\n          overflow: 'auto',\n          WebkitOverflowScrolling: 'touch'}}\n        enableDragHandle={true}\n        contentStyle={{ color: '#A6A6A6', textAlign: 'center',paddingTop:20}}\n        // dragHandleStyle={{width:0}}\n        sidebar={linkList}\n        open={this.state.open}\n        onOpenChange={this.onOpenChange}\n      >\n        <CacheSwitch>\n          <CacheRoute exact path=\"/\" component={Player}/>\n          <CacheRoute path=\"/support\" component={Support}/>\n          <CacheRoute path=\"/skill\" component={Skill}/>\n          <CacheRoute path=\"/nurturing2\" component={NurturingMO2}/>\n          <CacheRoute path=\"/seed\" component={SeedMo}/>\n          <CacheRoute path=\"/race\" component={Race}/>\n          <CacheRoute path=\"/support-detail/:supportId\" component={SupportDetail}/>\n          <CacheRoute path=\"/player-detail/:id/:nur\" component={PlayerDetail}/>\n          <CacheRoute path=\"/skill-detail/:id\" component={SkillDetail}/>\n          <CacheRoute path=\"/buff\" component={BuffList}/>\n        </CacheSwitch>\n      </Drawer>\n    </Router>);\n  }\n}\nexport default App1\n\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n// import { UserAgentProvider, UserAgent, withUserAgent } from 'react-ua';\n\n// import './index.css'\n\n// import db from './db.js'\n// import EventList from './components/event-list.js'\n// import SkillList from './components/skill-list.js'\n\nimport AppPc from './app-pc'\nimport AppMo from './app-mo'\n// 取得ua\nlet ua = {}\nconst ie_upto10 = /MSIE \\d/.test(navigator.userAgent)\nconst ie_11up = /Trident\\/(?:[7-9]|\\d{2,})\\..*rv:(\\d+)/.exec(navigator.userAgent)\nconst ie_edge = /Edge\\/(\\d+)/.exec(navigator.userAgent)\nua.mac = /Mac/.test(navigator.platform)\nlet ie = ua.ie = !!(ie_upto10 || ie_11up || ie_edge)\nua.ie_version = ie_upto10 ? document.documentMode || 6 : ie_11up ? +ie_11up[1] : ie_edge ? +ie_edge[1] : null\nua.gecko = !ie && /gecko\\/(\\d+)/i.test(navigator.userAgent)\nua.gecko_version = ua.gecko && +(/Firefox\\/(\\d+)/.exec(navigator.userAgent) || [0, 0])[1]\nlet chrome = !ie && /Chrome\\/(\\d+)/.exec(navigator.userAgent)\nua.chrome = !!chrome\nua.chrome_version = chrome && +chrome[1]\n// Is true for both iOS and iPadOS for convenience\nua.safari = !ie && /Apple Computer/.test(navigator.vendor)\nua.ios = ua.safari && (/Mobile\\/\\w+/.test(navigator.userAgent) || navigator.maxTouchPoints > 2)\nua.android = /Android \\d/.test(navigator.userAgent)\nua.webkit = \"webkitFontSmoothing\" in document.documentElement.style\nua.webkit_version = ua.webkit && +(/\\bAppleWebKit\\/(\\d+)/.exec(navigator.userAgent) || [0, 0])[1]\nconsole.log(ua)\n\n// const cdnServer = 'https://cdn.jsdelivr.net/gh/wrrwrr111/pretty-derby/public/'\n// https://purge.jsdelivr.net/gh/wrrwrr111/pretty-derby/public/dbd.json\n// https://purge.jsdelivr.net/gh/wrrwrr111/pretty-derby/public/db.json\n\n// https://cdn.jsdelivr.net/gh/wrrwrr111/pretty-derby/raw/master/public/img/players/0uJ0iropRbr.png\n\nconst App = ()=>{\n  return(\n    <>\n    {ua.android||ua.ios?<AppMo></AppMo>:<AppPc></AppPc>}\n    </>\n  )\n}\n\nReactDOM.render((<App></App>),document.getElementById('root'),);\n"],"sourceRoot":""}