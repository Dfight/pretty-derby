{"version":3,"sources":["dbL.js","components/t.js","db.js","pages/race.js","config/index.js","components/player/PlayerCard.js","components/event/EventDetail.js","components/event/EventCard.js","components/common/List.js","components/event/EventList.js","components/skill/SkillCard.js","components/support/SupportCard.js","components/effect/index.js","components/support/SupportDetail.js","utils/ua.js","components/support/SupportList.js","components/skill/SkillDetail.js","components/skill/SkillList.js","components/race/index.js","components/player/PlayerDetail.js","components/player/PlayerList.js","pages/player.js","components/skill/SkillCheckbox.js","pages/support.js","components/buff.js","components/deck.js","pages/nurturing2.js","pages/skill.js","pages/seed.js","pages-mo/nurturing.js","pages-mo/seed.js","app.js","components/lan-button.js","index.js"],"names":["adapterL","LocalStorage","db","low","d","a","axios","get","res","set","data","write","value","supports","0","1","2","3","4","5","player","races","adapter","lan","lanData","ZH","EN","JP","t","text","adapterM","Memory","jsonDB","players","skills","events","updateTime","buffs","effects","TITLE","filterList","class","grade","place","ground","distanceType","direction","side","labels","labelTextDict","name","date","distance","getCorrespondingLabelText","label","mediumLabels","getColumns","map","title","dataIndex","filters","onFilter","record","Race","props","document","useDidRecover","dynamicTableHeight","React","useState","window","innerHeight","height","setHeight","useEffect","handleWindowResize","addEventListener","removeEventListener","useViewport","allRaceList","race","index","key","selectedRowKeys","setSelectedRowKeys","columns","type","rowSelection","onChange","selectedRows","selected","dateNum","push","id","onSelect","className","dataSource","pagination","sorter","extra","scroll","y","cdnServer","PlayerCard","onClick","alt","src","imgUrl","preview","width","EventDetail","choiceList","choice","result","EventCard","data-tip","List","listKey","sort","filterFunc","idList","dataList","itemRender","detailRender","list","reduce","cur","find","setCur","ReactTooltip","rebuild","sortItem","sortList","filter","item","flag","func","length","visible","onOk","onCancel","footer","bodyStyle","display","flexDirection","EventList","sortFlag","JSON","stringify","indexOf","isNur","SkillCard","rarity","describe","condition","SupportCard","limits","dbL","getValue","effect","min","min_limit","max","max_limit","slice","limit","Math","floor","EffectTable","render","description","div","divKey","getEffectMark","maxLevel","ok","10","15","20","25","30","35","40","TestEffectTable","state","selectingLevel","input","nodes","output","this","prevNode","level","i","upperNode","lowerNode","unique_effect","lv","setState","marks","init","limit_lv5","limit_lv10","limit_lv15","limit_lv20","limit_lv25","limit_lv30","limit_lv35","limit_lv40","limit_lv45","limit_lv50","calc","Component","SupportDetail","console","log","match","params","charaName","eventList","pid","trainingEventSkill","possessionSkill","useUa","ua","ios","test","navigator","userAgent","maxTouchPoints","android","isPhone","PlayerList","listClass","ownList","history","useHistory","includes","allSupportList","allPlayerList","skillType","6","7","8","9","13","14","21","27","28","31","SkillDetail","skill","undefined","parseInt","nur","supportList","support","skillList","forEach","b","playerList","ability","ability_time","cooldown","need_skill_point","grade_value","SupportList","SkillList","size","raceGolds","raceNames","getGolds","golds","raceGold","uniqueName","join","RaceTimeline","memo","showButton","showSpare","setShowSpare","str","getDate","year","month","moment","getColor","curRace","raceList","Item","color","goal","filterRace","style","fontSize","mode","RaceCheckbox","raceFilterCondition","setRaceFilterCondition","Object","keys","Group","options","defaultValue","checkedValues","tmpObj","coloredGradeText","fontWeight","textShadow","AdaptBox","cellStyle","textAlign","paddingLeft","borderWidth","borderStyle","borderColor","headerCellStyle","backgroundColor","adaptTextWrapperStyle","paddingRight","alignItems","justifyContent","borderRadius","grass","dirt","shortDistance","mile","mediumDistance","longDistance","escape","leading","insert","tracking","GrowBox","speedGrow","staminaGrow","powerGrow","gutsGrow","wisdomGrow","PlayerDetail","PlayerItem","eventList0","eventList2","eventList3","hideEvent","eventList1","eventList4","Player","Search","allSkillList","orderBy","distance_type","running_style","phase","corner_random","straight_random","is_finalcorner","SkillCheckboxGroup","SkillCheckbox","skillChecked1","setSkillChecked1","skillChecked2","setSkillChecked2","checkboxGroupValues","setCheckedboxGroupValues","localStorage","getItem","setItem","isOwn","setIsOwn","mySupports","mySkillList","Set","supportId","concat","checkOptions1","checkOptions2","onChange1","updateSkillList","filteredSkills","onChange2","useMemo","entries","l","values","_key","flat","some","phrase","onCheckboxGroupsChange","useCallback","groupName","tempSkillList","check2","check3","icon_id","rare","has","needId","onUpdate","checkOnly","gourpName","checkItem","span","flex","overflow","whiteSpace","margin","lineHeight","checked","curValue","placeholder","enterButton","onSearch","searchText","CheckboxGroup","allSupports","Support","setList","chooseMode","setChooseMode","showMode","setShowMode","chosenList","setChosenList","effectList","setEffectList","typeList","setTypeList","eventIdList","setEventIdList","setSkillList","effectOptions","typeOptions","changeChooseMode","updateSupport","tempList","skillId","eventId","event","tmpList","splice","update","BuffButton","trigger","content","BuffList","buff","MyDecks","decks","setDecks","saveDeck","deck","tmpDeck","imgUrls","supportsId","tags","playerId","assign","shortid","generate","shareDeck","formData","localeCompare","post","message","info","msg","overlayStyle","maxHeight","onChangeTag","loadDeck","onConfirm","danger","remove","deleteDeck","RecommendDecks","recommendDecks","setRecommendDecks","setPlayerId","searchDeck","onVisibleChange","tag","Nurturing","needSelect","setNeedSelect","isPlayerVisible","setIsPlayerVisible","isSupportVisible","setIsSupportVisible","supportIndex","setSupportIndex","setSupports","setPlayer","setFilterRace","showPlayer","closePlayer","showSupport","closeSupport","innerWidth","setWidth","dynamicRowHeight","layoutWithBlank","x","w","h","layoutWithoutBlank","originalLayout","layout","setLayout","panelStyle","headStyle","cursor","pBodyStyle","cols","draggableCancel","draggableHandle","rowHeight","onLayoutChange","filterCondition","tmpRaceList","f","tmpFilterRace","autoHide","background","newData","Skill","userId","blueLabels","speed","stamina","power","guts","wisdom","redLabels","escapeR","leadingR","insertR","trackingR","PlayerInput","setData","triggerChange","changedValue","fallback","SupportInput","SeedInput","useForm","form","seed","setSeed","onFinish","tmpSeed","Date","getTime","success","gutter","children","offset","rules","required","Button","count","initialValue","dots","tooltipPlacement","getFields","justify","getFieldValue","validator","_","Promise","resolve","reject","Error","htmlType","SearchOne","fields","add","errors","field","lg","md","xs","fieldKey","validateTrigger","noStyle","icon","PlusOutlined","ErrorList","SearchForm","attrs","levels","p0","attr","p1","search","resetFields","PlayerImage","SupportImage","Seed","isSeedInputVisible","setIsSeedInputVisible","seedList","setSeedList","total","setTotal","setValue","onCopy","shape","CopyOutlined","align","SmileOutlined","like","likes","FrownOutlined","dislike","dislikes","DeleteOutlined","deleteSeed","disabled","closeSeedInput","e","current","pageSize","simple","showQuickJumper","position","rowKey","withRouter","flexWrap","EditOutlined","paddingTop","lists","minWidth","cascade","arrow","SeedCard","gameId","wrap","code","setCode","flagStyle","location","reload","AppPc","useLocation","path","to","pathname","exact","component","Nurturing2","NurturingMO","SeedMo","data-for","frameBorder","scrolling","target","rel","href","border","html","Index","ReactDOM","getElementById"],"mappings":"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","file":"static/js/main.52aa9562.chunk.js","sourcesContent":["import low from 'lowdb';\r\nimport LocalStorage from 'lowdb/adapters/LocalStorage'\r\n// import Memory from 'lowdb/adapters/Memory'\r\nimport axios from 'axios'\r\n// import jsonDB from './assert/db.json'\r\n\r\nconst adapterL = new LocalStorage('db')\r\n// const adapterM = new Memory()\r\nconst db = low(adapterL)\r\n\r\n\r\nconst d = async ()=>{\r\n  // let res = await axios.get('https://urarawin.com/d')\r\n  let res = await axios.get('https://urarawin.com/api/sqlite/d')\r\n  db.set('userId',res.data).write()\r\n}\r\ndb.get('userId').value()||d()\r\ndb.get('lan').value()||db.set('lan','cn').write()\r\ndb.get('selected').value()||db.set('selected',{\r\n  supports:{0:{},1:{},2:{},3:{},4:{},5:{}},\r\n  player:{},\r\n  races:[]\r\n}).write()\r\ndb.get('myDecks').value()||db.set('myDecks',[]).write()\r\ndb.get('mySupports').value()||db.set('mySupports',[]).write()\r\nexport  default db\r\n","import low from 'lowdb';\r\nimport LocalStorage from 'lowdb/adapters/LocalStorage'\r\n\r\nimport ZH from '../assert/cn.json'\r\nimport EN from '../assert/us.json'\r\nimport JP from '../assert/jp.json'\r\nconst adapter = new LocalStorage('db')\r\nconst db = low(adapter)\r\n\r\nconst lan = db.get('lan').value()||'cn'\r\nlet lanData = {}\r\nif(lan==='cn'){\r\n  lanData = ZH\r\n}else if(lan==='us'){\r\n  lanData = EN\r\n}else if(lan==='jp'){\r\n  lanData = JP\r\n}\r\nconst t = (text,lan)=>{\r\n  if(lan==='cn'){\r\n    lanData = ZH\r\n  }else if(lan==='us'){\r\n    lanData = EN\r\n  }else if(lan==='jp'){\r\n    lanData = JP\r\n  }\r\n  let result = lanData[text]\r\n\r\n  // if(!result&&result!==\"\"){\r\n  //   noTrans[text]=\"\"\r\n  // }\r\n  // console.log(JSON.stringify(noTrans))\r\n\r\n  return result||text\r\n}\r\nexport  default t\r\n","import low from 'lowdb';\r\n// import LocalStorage from 'lowdb/adapters/LocalStorage'\r\nimport Memory from 'lowdb/adapters/Memory'\r\n// import axios from 'axios'\r\nimport jsonDB from './assert/db.json'\r\n\r\n// const adapter = new LocalStorage('db')\r\nconst adapterM = new Memory()\r\nconst db = low(adapterM)\r\n\r\n\r\n// const d = async ()=>{\r\n//   // let res = await axios.get('https://urarawin.com/d')\r\n//   let res = await axios.get('https://urarawin.com/api/sqlite/d')\r\n//   console.log(res.data)\r\n//   db.set('userId',res.data).write()\r\n// }\r\n// db.get('userId').value()||d()\r\n\r\ndb.set('players',jsonDB.players).write()\r\ndb.set('supports',jsonDB.supports).write()\r\ndb.set('skills',jsonDB.skills).write()\r\ndb.set('events',jsonDB.events).write()\r\ndb.set('updateTime',jsonDB.updateTime).write()\r\ndb.set('races',jsonDB.races).write()\r\ndb.set('buffs',jsonDB.buffs).write()\r\ndb.set('effects',jsonDB.effects).write()\r\n\r\n// db.get('lan').value()==='zh'&&db.set('lan','cn').write()\r\n// db.get('lan').value()==='en'&&db.set('lan','us').write()\r\n//重新加载\r\n\r\n// db.get('lan').value()||db.set('lan','cn').write()\r\n// db.get('selected').value()||db.set('selected',{\r\n//   supports:{0:{},1:{},2:{},3:{},4:{},5:{}},\r\n//   player:{},\r\n//   races:[]\r\n// }).write()\r\n// db.get('myDecks').value()||db.set('myDecks',[]).write()\r\n// db.get('mySupports').value()||db.set('mySupports',[]).write()\r\nexport  default db\r\n","import React, { useState } from \"react\";\nimport { Table } from \"antd\";\nimport { useDidRecover } from \"react-router-cache-route\";\nimport db from \"../db.js\";\nimport t from \"../components/t.js\";\nconst TITLE = \"比赛 - 乌拉拉大胜利 - 赛马娘资料站\";\n\nconst filterList = {\n  class: [\n    { text: \"初等/ジュニア\", value: \"ジュニア\" },\n    { text: \"经典/クラシック\", value: \"クラシック\" },\n    { text: \"经典&高级/クラシックシニア\", value: \"クラシックシニア\" },\n    { text: \"高级/シニア\", value: \"シニア\" },\n  ],\n  grade: [\n    { text: \"Pre-OP\", value: \"Pre-OP\" },\n    { text: \"OP\", value: \"OP\" },\n    { text: \"G1\", value: \"G1\" },\n    { text: \"G2\", value: \"G2\" },\n    { text: \"G3\", value: \"G3\" },\n  ],\n  place: [\n    { text: \"中京\", value: \"中京\" },\n    { text: \"函館\", value: \"函館\" },\n    { text: \"札幌\", value: \"札幌\" },\n    { text: \"小倉\", value: \"小倉\" },\n    { text: \"新潟\", value: \"新潟\" },\n    { text: \"阪神\", value: \"阪神\" },\n    { text: \"中山\", value: \"中山\" },\n    { text: \"京都\", value: \"京都\" },\n    { text: \"東京\", value: \"東京\" },\n    { text: \"福島\", value: \"福島\" },\n    { text: \"大井\", value: \"大井\" },\n  ],\n  ground: [\n    { text: \"芝\", value: \"芝\" },\n    { text: \"ダート\", value: \"ダート\" },\n  ],\n  distanceType: [\n    { text: \"短距離\", value: \"短距離\" },\n    { text: \"マイル\", value: \"マイル\" },\n    { text: \"中距離\", value: \"中距離\" },\n    { text: \"長距離\", value: \"長距離\" },\n  ],\n  direction: [\n    { text: \"左\", value: \"左\" },\n    { text: \"右\", value: \"右\" },\n    { text: \"直\", value: \"直\" },\n  ],\n  side: [\n    { text: \"空\", value: null },\n    { text: \"内\", value: \"内\" },\n    { text: \"外\", value: \"外\" },\n    { text: \"線\", value: \"線\" },\n  ],\n};\nconst labels = [\n  \"name\",\n  \"date\",\n  \"class\",\n  \"grade\",\n  \"place\",\n  \"ground\",\n  \"distance\",\n  \"distanceType\",\n  \"direction\",\n  \"side\",\n];\nconst labelTextDict = {\n  name: t(\"名称\"),\n  date: t(\"时间\"),\n  class: t(\"年级\"),\n  grade: t(\"赛事等级\"),\n  place: t(\"地点\"),\n  ground: t(\"场地\"),\n  distance: t(\"长度\"),\n  distanceType: t(\"赛程\"),\n  direction: t(\"方向\"),\n  side: t(\"赛道\"),\n};\nconst getCorrespondingLabelText = (label) => {\n  return labelTextDict[label];\n};\nconst mediumLabels = [\"name\", \"date\", \"class\", \"grade\", \"ground\", \"distanceType\"];\nconst getColumns = (labels) => {\n  return labels.map((label) => {\n    if (filterList[\"class\"]) {\n      return {\n        title: getCorrespondingLabelText(label),\n        dataIndex: label,\n        filters: filterList[label],\n        onFilter: (value, record) => record[label] === value,\n      };\n    } else {\n      return {\n        title: getCorrespondingLabelText(label),\n        dataIndex: label,\n      };\n    }\n  });\n};\n\nconst Race = (props) => {\n  document.title = TITLE;\n  useDidRecover(() => {\n    document.title = TITLE;\n  });\n  const useViewport = () => {\n    // const [width, setWidth] = React.useState(window.innerWidth);\n    const [height, setHeight] = React.useState(window.innerHeight);\n    React.useEffect(() => {\n      const handleWindowResize = () => setHeight(window.innerHeight);\n      window.addEventListener(\"resize\", handleWindowResize);\n      return () => window.removeEventListener(\"resize\", handleWindowResize);\n    }, []);\n    return { height };\n  };\n\n  const dynamicTableHeight = useViewport().height - 168;\n\n  const allRaceList = db\n    .get(\"races\")\n    .value()\n    .map((race, index) => {\n      race.key = index;\n      return race;\n    });\n  const [selectedRowKeys, setSelectedRowKeys] = useState([]);\n  let columns = getColumns(labels);\n  if (props.type === \"medium\") {\n    columns = getColumns(mediumLabels);\n  }\n  const onSelectChange = (selectedRowKeys, selectedRows) => {\n    let selected = {};\n    for (let race of selectedRows) {\n      if (selected[race.dateNum]) {\n        selected[race.dateNum].push(race.id);\n      } else {\n        selected[race.dateNum] = [race.id];\n      }\n    }\n    props.onSelect(selected);\n    setSelectedRowKeys(selectedRowKeys);\n  };\n  const rowSelection = {\n    selectedRowKeys,\n    onChange: onSelectChange,\n  };\n  // 筛选发生变化时清空已经选择的内容\n  const onChange = (pagination, filters, sorter, extra) => {\n    props.onSelect([]);\n    setSelectedRowKeys([]);\n  };\n  return (\n    <Table\n      className='px-3'\n      rowSelection={props.onSelect ? rowSelection : null}\n      columns={columns}\n      dataSource={allRaceList}\n      onChange={onChange}\n      pagination={false}\n      scroll={{ y: dynamicTableHeight }}\n    />\n  );\n};\n\nexport default Race;\n","const cdnServer = \"https://cdn.jsdelivr.net/gh/wrrwrr111/pretty-derby/public/\";\nexport { cdnServer };\n","import { Image } from \"antd\";\nimport { cdnServer } from \"../../config\";\nconst PlayerCard = (props) => {\n  const { data, onClick, className } = props;\n  if (!data) {\n    return <></>;\n  }\n  return (\n    <div className={`cursor-pointer ${className}`} onClick={onClick}>\n      <Image\n        alt={data.name}\n        src={cdnServer + data.imgUrl}\n        preview={false}\n        width={\"100%\"}\n      ></Image>\n    </div>\n  );\n};\n\nexport default PlayerCard;\n","import t from \"../t.js\";\nconst EventDetail = ({ data }) => {\n  // const ChoiceItem = props.event?.choiceList.map((choice,index)=>{\n  //   const ResultItem = choice[1].map((result,index)=>\n  //     <p key={index}>{result}</p>\n  //   )\n  //   return(\n  //     <Row key={index} gutter={[8,8]} className=\"list-row\">\n  //       <Col span={12}>\n  //         <p>{choice[0]}</p>\n  //         <p>{t(choice[0])}</p>\n  //       </Col>\n  //       <Col span={12}>{ResultItem}</Col>\n  //     </Row>\n  //   )\n  // })\n  return (\n    <div className=\"\">\n      <div className=\"text-lg font-semibold\">{data.name}</div>\n      {data.choiceList.map((choice, index) => (\n        <div className={`w-full flex ${index % 2 === 0 ? \"bg-white\" : \"bg-gray-100\"}`}>\n          <div className=\"w-1/3 mr-4\">\n            <p>{choice[0]}</p>\n            <p>{t(choice[0])}</p>\n          </div>\n          <div className=\"flex-auto\">\n            {choice[1].map((result) => (\n              <p>{result}</p>\n            ))}\n          </div>\n        </div>\n      ))}\n    </div>\n  );\n};\nexport default EventDetail;\n","import EventDetail from \"./EventDetail\";\nconst EventCard = (props) => {\n  const { data, onClick, className } = props;\n  if (!data) {\n    return <></>;\n  }\n  return (\n    <div\n      className={`border border-solid border-gray-700 px-2 rounded truncate cursor-pointer ${className}`}\n      onClick={onClick}\n      data-tip={``}\n    >\n      {data.name}\n    </div>\n  );\n};\n\nexport default EventCard;\n","import React, { useState, useEffect } from \"react\";\nimport ReactTooltip from \"react-tooltip\";\nimport { Modal } from \"antd\";\nimport db from \"../../db.js\";\nimport t from \"../t.js\";\n\nconst List = ({\n  className,\n  listKey,\n  sort,\n  filterFunc,\n  idList,\n  dataList,\n  itemRender,\n  detailRender,\n}) => {\n  const list = dataList\n    ? dataList\n    : idList\n    ? idList.reduce((list, cur) => {\n        return [...list, db.get(listKey).find({ id: cur }).value()];\n      }, [])\n    : db.get(listKey).value();\n  const [cur, setCur] = useState(null);\n  useEffect(() => {\n    ReactTooltip.rebuild();\n  });\n  if (!list) {\n    return <></>;\n  }\n  if (sort) {\n    return (\n      <div className={` flex flex-wrap ${className}`}>\n        {sort.data.map((sortItem) => {\n          let sortList = list.filter((item) => {\n            let flag = false;\n            if (sort.key && sortItem.value) {\n              flag = item[sort.key] == sortItem.value;\n            }\n            if (sortItem.func) {\n              flag = sortItem.func(item);\n            }\n            return flag;\n          });\n          if (!sortList.length) {\n            return <></>;\n          }\n          return (\n            <>\n              <div className=\"w-full text-lg font-semibold text-center\">{t(sortItem.title)}</div>\n              {sortList.map((data) => itemRender(data, setCur))}\n            </>\n          );\n        })}\n        <Modal\n          visible={cur}\n          onOk={() => setCur(null)}\n          onCancel={() => setCur(null)}\n          footer={null}\n          width={768}\n          bodyStyle={{ display: \"flex\", flexDirection: \"column\" }}\n        >\n          {detailRender(cur)}\n        </Modal>\n      </div>\n    );\n  } else {\n    return (\n      <div className={` flex flex-wrap ${className}`}>\n        {list\n          .filter((data) => (filterFunc ? filterFunc(data) : true))\n          .map((data) => itemRender(data, setCur))}\n        <Modal\n          visible={cur}\n          onOk={() => setCur(null)}\n          onCancel={() => setCur(null)}\n          footer={null}\n          width={768}\n          bodyStyle={{ display: \"flex\", flexDirection: \"column\" }}\n        >\n          {detailRender(cur)}\n        </Modal>\n      </div>\n    );\n  }\n};\n\nexport default List;\n","import React from \"react\";\nimport db from \"../../db.js\";\nimport dbL from \"../../dbL.js\";\nimport t from \"../t.js\";\nimport { Row, Col, Popover, Button, Tabs } from \"antd\";\n\nimport EventCard from \"./EventCard\";\nimport EventDetail from \"./EventDetail\";\nimport List from \"../common/List\";\n\nconst EventList = ({ dataList, idList, onClick, sortFlag = false, type = \"all\" }) => {\n  const sort = sortFlag\n    ? {\n        data: [\n          { title: \"切れ者\", func: (data) => JSON.stringify(data)?.indexOf(\"切れ者\") !== -1 },\n          { title: \"有选项\", func: (data) => data?.choiceList.length > 1 },\n          { title: \"无选项\", func: (data) => data?.choiceList.length <= 1 },\n        ],\n      }\n    : null;\n  const filterFunc =\n    type === \"multi\"\n      ? (data) => {\n          return data?.choiceList.length > 1;\n        }\n      : null;\n  return (\n    <List\n      listKey=\"events\"\n      dataList={dataList}\n      idList={idList}\n      sort={sort}\n      filterFunc={filterFunc}\n      onClick={onClick}\n      className=''\n      itemRender={(item, setCur) => (\n        <EventCard\n          className=\"mr-1 mb-1\"\n          data={item}\n          onClick={() => (onClick ? onClick(item) : setCur(item))}\n        />\n      )}\n      detailRender={(item) => <EventDetail data={item} isNur={false} />}\n    ></List>\n  );\n};\n\nexport default EventList;\n","import { cdnServer } from \"../../config\";\nimport t from \"../t.js\";\nconst SkillCard = (props) => {\n  const { data, onClick, className } = props;\n  // const skill = props.skill || db.get('skills').find({ id: props.id }).value()\n  if (!data) {\n    return <></>;\n  }\n  return (\n    <div\n      className={` rounded border-solid border-2  flex items-center cursor-pointer ${data.rarity === 1 && \"bg-white\"} ${data.rarity === 2 && \"bg-yellow-300\"} ${data.rarity === 3 && \" bg-purple-400\"} ${data.rarity === 4 && \" bg-purple-400\"} ${data.rarity === 5 && \" bg-purple-400\"} ${className}`}\n      onClick={onClick}\n      data-tip={`<p>${t(data.describe)}</p><p>${t(data.condition)}</p>`}\n    >\n      <img className='w-5' alt={data.name} src={cdnServer + data.imgUrl} preview={false}></img>\n      <div className=\"flex-auto truncate\">{data.name}</div>\n    </div>\n  );\n};\n\nexport default SkillCard;\n","import { Image } from \"antd\";\nimport { cdnServer } from \"../../config\";\nconst SupportCard = (props) => {\n  const { data, onClick, className } = props;\n  if (!data) {\n    return <></>;\n  }\n  return (\n    <div className={`cursor-pointer ${className}`} onClick={onClick}>\n      <Image\n        alt={data.name}\n        src={cdnServer + data.imgUrl}\n        preview={false}\n        width={\"100%\"}\n      ></Image>\n    </div>\n  );\n};\n\nexport default SupportCard;\n","import React from \"react\";\n// import {useState} from 'react';\nimport { Table, Popover, Slider, div, Col } from \"antd\";\n\nimport db from \"../../db.js\";\nimport dbL from \"../../dbL.js\";\nimport t from \"../t.js\";\n\nconst ua = dbL.get(\"ua\").value();\nconst limits = [\n  \"init\",\n  \"limit_lv5\",\n  \"limit_lv10\",\n  \"limit_lv15\",\n  \"limit_lv20\",\n  \"limit_lv25\",\n  \"limit_lv30\",\n  \"limit_lv35\",\n  \"limit_lv40\",\n  \"limit_lv45\",\n  \"limit_lv50\",\n];\nconst getValue = (effect, cur) => {\n  if (effect[cur] !== -1) {\n    return effect[cur];\n  } else {\n    let index = limits.indexOf(cur);\n    let min = 0;\n    let min_limit = \"init\";\n    let max = 0;\n    let max_limit = \"limit_lv50\";\n    for (let limit of limits.slice(0, index)) {\n      if (effect[limit] > min) {\n        min = effect[limit];\n        min_limit = limit;\n      }\n    }\n    for (let limit of limits.slice(index, limits.length)) {\n      if (effect[limit] !== -1) {\n        max = effect[limit];\n        max_limit = limit;\n        break;\n      }\n    }\n    // cur=40 lv35=40 lv40=-1 lv50=-1\n    if (max <= min || max - min === 1 || min === 0) {\n      return min;\n    } else {\n      return (\n        <div data-tip=\"插值\">\n          {Math.floor(\n            min +\n              ((max - min) * (limits.indexOf(cur) - limits.indexOf(min_limit))) /\n                (limits.indexOf(max_limit) - limits.indexOf(min_limit))\n          )}\n        </div>\n      );\n    }\n  }\n};\nconst EffectTable = (props) => {\n  const effects = db.get(\"effects\").value();\n  let columns = [\n    {\n      title: t(\"效果\"),\n      dataIndex: \"type\",\n      key: \"type\",\n      render: (type) => (\n        <p\n          data-tip={`<div><p>${effects[type].name}</p><p>${t(effects[type].name)}</p><p>${\n            effects[type].description\n          }</p><p>${t(effects[type].description)}</p></div>`}\n        >\n          {t(effects[type].name)}\n        </p>\n      ),\n    },\n    {\n      title: t(\"初始\"),\n      dataIndex: \"init\",\n      key: \"init\",\n      render: (div, record) => getValue(record, \"init\"),\n    },\n    {\n      title: \"lv25\",\n      dataIndex: \"limit_lv25\",\n      key: \"limit_lv25\",\n      render: (div, record) => getValue(record, \"limit_lv25\"),\n    },\n    {\n      title: \"lv30\",\n      dataIndex: \"limit_lv30\",\n      key: \"limit_lv30\",\n      render: (div, record) => getValue(record, \"limit_lv30\"),\n    },\n    {\n      title: \"lv35\",\n      dataIndex: \"limit_lv35\",\n      key: \"limit_lv35\",\n      render: (div, record) => getValue(record, \"limit_lv35\"),\n    },\n    {\n      title: \"lv40\",\n      dataIndex: \"limit_lv40\",\n      key: \"limit_lv40\",\n      render: (div, record) => getValue(record, \"limit_lv40\"),\n    },\n    {\n      title: \"lv45\",\n      dataIndex: \"limit_lv45\",\n      key: \"limit_lv45\",\n      render: (div, record) => getValue(record, \"limit_lv45\"),\n    },\n    {\n      title: \"lv50\",\n      dataIndex: \"limit_lv50\",\n      key: \"limit_lv50\",\n      render: (div, record) => getValue(record, \"limit_lv50\"),\n    },\n  ];\n  if (props.rarity === 2) {\n    columns = columns.slice(0, columns.length - 1);\n  } else if (props.rarity === 1) {\n    columns = columns.slice(0, columns.length - 2);\n  }\n\n  return (\n    <Table columns={columns} dataSource={props.effects} divKey=\"type\" pagination={false}></Table>\n  );\n};\n\nconst getEffectMark = (maxLevel) => {\n  let ok = {\n    1: \"lv1\",\n    5: \"lv5\",\n    10: \"lv10\",\n    15: \"lv15\",\n    20: \"lv20\",\n    25: \"lv25\",\n    30: \"lv30\",\n    35: \"lv35\",\n    40: \"lv40\",\n  };\n  if (maxLevel >= 45) {\n    ok[45] = \"lv45\";\n  }\n  if (maxLevel === 50) {\n    ok[50] = \"lv50\";\n  }\n  return ok;\n};\n\nclass TestEffectTable extends React.Component {\n  constructor(props) {\n    super(props);\n    this.effects = db.get(\"effects\").value();\n    let maxLevel = 1;\n    switch (props.rarity) {\n      case 1:\n        maxLevel = 40;\n        break;\n      case 2:\n        maxLevel = 45;\n        break;\n      case 3:\n        maxLevel = 50;\n        break;\n      default:\n        maxLevel = 1;\n    }\n\n    this.maxLevel = maxLevel;\n    this.state = {\n      selectingLevel: maxLevel,\n    };\n  }\n\n  calc(data, input) {\n    let nodes = [];\n    let output = 0;\n    const maxLevel = this.maxLevel;\n    let prevNode = { level: 0, value: 0 };\n    for (let i = 0; i < data.length; i += 1) {\n      if (data[i] !== -1) {\n        let level = i * 5;\n        if (level === 0) {\n          level = 1;\n        }\n        nodes.push({ level: level, value: data[i] });\n        prevNode = { level: level, value: data[i] };\n      }\n      if (i === data.length - 1 && data[i] === -1) {\n        nodes.push({ level: maxLevel, value: prevNode.value });\n      }\n    }\n    nodes.push({ level: 999, value: prevNode.value }); // 以后万一出SSSR？确保一定能找到区间。\n\n    const level = Math.floor(input);\n    let upperNode = { level: 0, value: 0 };\n    let lowerNode = { level: 0, value: 0 };\n    if (level < 0 || level > maxLevel) {\n      output = 0;\n    } else if (level < nodes[0].level) {\n      output = 0;\n    } else {\n      for (let i = 0; i < nodes.length; i += 1) {\n        if (level >= nodes[i].level && level < nodes[i + 1].level) {\n          lowerNode = nodes[i];\n          upperNode = nodes[i + 1] || nodes[i];\n          break;\n        }\n      }\n      output = Math.floor(\n        ((upperNode.value - lowerNode.value) / (upperNode.level - lowerNode.level)) *\n          (level - lowerNode.level) +\n          lowerNode.value\n      );\n    }\n\n    return output;\n  }\n\n  render() {\n    return (\n      <div>\n        {this.props.unique_effect && (\n          <>\n            <div className=\"flex w-full items-center justify-between p-2\">\n              <div>{t(\"固有效果\")}</div>\n              <div>{`${t(\"激活等级\")}:${this.props.unique_effect.lv}`}</div>\n            </div>\n            <div className=\"w-full grid grid-cols-2 gap-2\">\n              {[\"0\", \"1\"].map((index) => (\n                <div\n                  key={index}\n                  className=\"col-span-1 flex items-center rounded-xl border border-solid bg-green-300 border-green-500\"\n                >\n                  <div\n                    className=\"flex-auto truncate pl-2\"\n                    data-tip={`<div><p>${\n                      this.effects[this.props.unique_effect[`type_${index}`]].name\n                    }</p><p>${t(\n                      this.effects[this.props.unique_effect[`type_${index}`]].name\n                    )}</p><p>${\n                      this.effects[this.props.unique_effect[`type_${index}`]].description\n                    }</p><p>${t(\n                      this.effects[this.props.unique_effect[`type_${index}`]].description\n                    )}</p></div>`}\n                  >\n                    {t(this.effects[this.props.unique_effect[`type_${index}`]].name)}\n                  </div>\n                  <div className=\"bg-white h-full w-10 md:w-24 rounded-r-xl pl-2 flex items-center flex-shrink-0\">\n                    {this.props.unique_effect[`value_${index}`]}\n                  </div>\n                </div>\n              ))}\n            </div>\n          </>\n        )}\n        <div className=\"w-full flex items-center\">\n          <div className=\"mr-2\">{t(\"设置等级\")}</div>\n          <Slider\n            className=\"flex-auto\"\n            min={1}\n            max={this.maxLevel}\n            value={this.state.selectingLevel}\n            onChange={(value) => {\n              this.setState({ selectingLevel: value });\n            }}\n            marks={getEffectMark(this.maxLevel)}\n          />\n        </div>\n        <div className=\"w-full grid grid-cols-2 gap-2\">\n          {this.props.effects?.map((item, index) => {\n            const data = [\n              item.init,\n              item.limit_lv5,\n              item.limit_lv10,\n              item.limit_lv15,\n              item.limit_lv20,\n              item.limit_lv25,\n              item.limit_lv30,\n              item.limit_lv35,\n              item.limit_lv40,\n              item.limit_lv45,\n              item.limit_lv50,\n            ].filter((item) => item);\n            return (\n              <div className=\"col-span-1 flex items-center rounded-xl border border-solid bg-green-300 border-green-500\">\n                <div\n                  className=\"flex-auto truncate pl-2\"\n                  data-tip={`<div><p>${this.effects[item.type].name}</p><p>${t(\n                    this.effects[item.type].name\n                  )}</p><p>${this.effects[item.type].description}</p><p>${t(\n                    this.effects[item.type].description\n                  )}</p></div>`}\n                >\n                  {t(this.effects[item.type].name)}\n                </div>\n                <div className=\"bg-white h-full w-10 md:w-24 rounded-r-xl pl-2 flex items-center flex-shrink-0\">\n                  {this.calc(data, this.state.selectingLevel)}\n                </div>\n              </div>\n            );\n          })}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport { EffectTable, TestEffectTable };\n","import React, { useState } from \"react\";\n\nimport db from \"../../db.js\";\nimport dbL from \"../../dbL.js\";\nimport t from \"../t.js\";\n\nimport EventList from \"../event/EventList\";\nimport SkillList from \"../skill/SkillList\";\nimport { EffectTable, TestEffectTable } from \"../effect\";\nconst cdnServer = \"https://cdn.jsdelivr.net/gh/wrrwrr111/pretty-derby/public/\";\n\nconst SupportDetail = (props) => {\n  console.log(props.match);\n  const id = props.id || props?.match?.params?.id;\n  const data = props.data || db.get(\"supports\").find({ id }).value();\n  return (\n    <>\n      <div className=\"h-16 w-full flex flex-shrink-0\">\n        <img alt={data.name} src={cdnServer + data.imgUrl} height={64} width={48}/>\n        <div className=\"flex-auto flex flex-wrap h-full items-center\">\n          <div className=\"w-1/2 text-xl font-semibold truncate\">{data.name}</div>\n          <div className=\"w-1/2 text-gray-700 truncate\">{t(data.name)}</div>\n          <div className=\"w-1/2 text-xl font-semibold truncate\">{data.charaName}</div>\n          <div className=\"w-1/2  text-gray-700 truncate\">{t(data.charaName)}</div>\n        </div>\n      </div>\n      <div>{t(\"事件\")}</div>\n      <EventList idList={data.eventList} pid={data.id} />\n      <div>{t(\"事件技能\")}</div>\n      <SkillList idList={data.trainingEventSkill} />\n      <div>{t(\"训练技能\")}</div>\n      <SkillList idList={data.possessionSkill} />\n      <TestEffectTable\n        effects={data.effects}\n        unique_effect={data.unique_effect}\n        rarity={data.rarity}\n      ></TestEffectTable>\n      <EffectTable effects={data.effects} rarity={data.rarity}></EffectTable>\n    </>\n  );\n};\nexport default SupportDetail;\n","const useUa = () => {\n  const ua = {};\n  ua.ios = /iPhone/.test(navigator.userAgent) || navigator.maxTouchPoints > 2;\n  ua.android = /Android \\d/.test(navigator.userAgent);\n  ua.isPhone = ua.ios || ua.android;\n  return ua;\n};\n\nexport default useUa;\n","import React, { useState } from \"react\";\nimport { useHistory } from \"react-router\";\nimport SupportCard from \"./SupportCard\";\nimport SupportDetail from \"./SupportDetail\";\nimport List from \"../common/List\";\nimport useUa from \"../../utils/ua\";\nconst PlayerList = ({listClass, dataList, onClick, sortFlag = false, ownList }) => {\n  const ua = useUa();\n  const history = useHistory();\n  const sort = sortFlag\n    ? {\n        key: \"rarity\",\n        data: [\n          { value: 3, title: \"SSR\" },\n          { value: 2, title: \"SR\" },\n          { value: 1, title: \"R\" },\n        ],\n      }\n    : null;\n  return (\n    <List\n    className={listClass}\n      listKey=\"supports\"\n      dataList={dataList}\n      sort={sort}\n      onClick={onClick}\n      itemRender={(data, setCur) => (\n        <SupportCard\n          className={`w-20 mr-1 mb-1 ${\n            ownList?.length && !ownList?.includes(data.id) && \"un-chosen-card\"\n          }`}\n          data={data}\n          onClick={() =>\n            onClick\n              ? onClick(data)\n              : ua.isPhone\n              ? history.push(`/support-detail/${data.id}`)\n              : setCur(data)\n          }\n        />\n      )}\n      detailRender={(data) => <SupportDetail data={data} isNur={false} />}\n    ></List>\n  );\n};\n\nexport default PlayerList;\n","import React, { useEffect, useState } from \"react\";\nimport db from \"../../db.js\";\nimport t from \"../t.js\";\nimport SupportList from \"../support/SupportList\";\nimport PlayerList from \"../player/PlayerList\";\nconst cdnServer = \"https://cdn.jsdelivr.net/gh/wrrwrr111/pretty-derby/public/\";\n\nconst allSupportList = db.get(\"supports\").value();\nconst allPlayerList = db.get(\"players\").value();\n\nconst skillType = {\n  1: \"速度属性\",\n  2: \"耐力属性\",\n  3: \"力量属性\",\n  4: \"毅力属性\",\n  5: \"智力属性\",\n  6: \"体力\",\n  7: \"体力消耗\",\n  8: \"视野\",\n  9: \"体力恢复\",\n  10: \"出栏时机\",\n  13: \"掛かり时间\",\n  14: \"掛かり结束时间\",\n  21: \"瞬时速度\",\n  27: \"目标速度\",\n  28: \"走位速度\",\n  31: \"加速度\",\n};\nconst SkillDetail = (props) => {\n  const id = props.id || props.match?.params?.id;\n  const skill = props.data || db.get(\"skills\").find({ id }).value();\n  const isNur = props.isNur !== undefined ? props.isNur : parseInt(props.match?.params?.nur);\n  const supportList = allSupportList\n    .filter((support) => {\n      let flag = 0;\n      support.skillList.forEach((id) => {\n        if (id === skill?.id) {\n          flag = 1;\n        }\n      });\n      return flag;\n    })\n    .sort((a, b) => b.rarity - a.rarity);\n  const playerList = allPlayerList\n    .filter((player) => {\n      let flag = 0;\n      player.skillList.forEach((id) => {\n        if (id === skill?.id) {\n          flag = 1;\n        }\n      });\n      return flag;\n    })\n    .sort((a, b) => b.rarity - a.rarity);\n\n  if (!skill) {\n    return <></>;\n  }\n  return (\n    <>\n      <div className=\"w-full flex mb-1 bg-gray-100 items-center\">\n        <div className=\"w-20 flex items-center justify-center\">\n          <img alt={skill.name} src={cdnServer + skill.imgUrl} className=\"w-14\"></img>\n        </div>\n        <div className=\"flex-auto\">\n          <p>{t(skill.name)}</p>\n          <p className=\"text-gray-500\">{skill.name}</p>\n        </div>\n      </div>\n      <div className=\"w-full flex mb-1\">\n        <div className=\"w-20 text-center flex-shrink-0\">{t(\"技能描述\")}</div>\n        <div className=\"flex-auto\">\n          <p>{t(skill.describe)}</p>\n          <p className=\"text-gray-500\">{skill.describe}</p>\n        </div>\n      </div>\n      <div className=\"w-full flex mb-1 bg-gray-100\">\n        <div className=\"w-20 text-center flex-shrink-0\">{t(\"触发条件\")}</div>\n        <div className=\"flex-auto\">\n          <p>{t(skill.condition)}</p>\n          <p className=\"text-gray-500\">{skill.condition}</p>\n        </div>\n      </div>\n      <div className=\"w-full flex mb-1\">\n        <div className=\"w-20 text-center flex-shrink-0\">{t(\"技能效果\")}</div>\n        <div className=\"flex-auto\">\n          {skill.ability?.map((ability) => {\n            console.log(skillType, ability);\n            return <span>{`${skillType[ability.type]} ${ability.value / 10000}`}</span>;\n          })}\n        </div>\n      </div>\n      <div className=\"w-full flex mb-1 bg-gray-100\">\n        <div className=\"w-20 text-center flex-shrink-0\">{t(\"持续时间\")}</div>\n        <div className=\"flex-auto\">\n          {`${skill.ability_time / 10000}s * ${t(\"赛道长度\")} / 1000}`}\n        </div>\n      </div>\n      <div className=\"w-full flex mb-1\">\n        <div className=\"w-20 text-center flex-shrink-0\">{t(\"冷却时间\")}</div>\n        <div className=\"flex-auto\">{`${skill.cooldown / 10000}s * ${t(\"赛道长度\")} / 1000`}</div>\n      </div>\n      <div className=\"w-full flex mb-1 bg-gray-100\">\n        <div className=\"w-20 text-center flex-shrink-0\">{t(\"技能价格\")}</div>\n        <div className=\"flex-auto\">{skill.need_skill_point}</div>\n      </div>\n      <div className=\"w-full flex mb-1\">\n        <div className=\"w-20 text-center flex-shrink-0\">{t(\"技能评分\")}</div>\n        <div className=\"flex-auto\">{skill.grade_value}</div>\n      </div>\n      {!isNur && supportList.length ? (\n        <>\n          <div>{t(\"支援卡\")}</div>\n          <SupportList dataList={supportList} sortFlag={false} />\n        </>\n      ) : null}\n      {!isNur && playerList.length ? (\n        <>\n          <div>{t(\"角色\")}</div>\n          <PlayerList dataList={playerList} />\n        </>\n      ) : null}\n    </>\n  );\n};\n\nexport default SkillDetail;\n","import React from \"react\";\nimport { useHistory } from \"react-router\";\nimport SkillCard from \"./SkillCard\";\nimport SkillDetail from \"./SkillDetail\";\nimport List from \"../common/List\";\nimport useUa from \"../../utils/ua\";\nconst SkillList = ({ idList, dataList, onClick, sortFlag = false, size = \"medium\" }) => {\n  const ua = useUa();\n  const history = useHistory();\n  const sort = {\n    key: \"rare\",\n    data: [\n      { value: \"ノーマル\", title: \"普通\" },\n      { value: \"レア\", title: \"金色 稀有\" },\n      { value: \"固有\", title: \"独特\" },\n    ],\n  };\n  return (\n    <List\n      listKey=\"skills\"\n      idList={idList}\n      dataList={dataList}\n      sort={sortFlag && sort}\n      itemRender={(data, setCur) => (\n        <SkillCard\n          className={`${size === \"medium\" && \"w-28 md:w-unset h-8  md:m-1 p-1 md:p-2\"} ${\n            size === \"small\" && \"h-6 mr-1 mb-1 p-1\"\n          }`}\n          data={data}\n          onClick={() =>\n            onClick\n              ? onClick(data)\n              : ua.isPhone\n              ? history.push(`/skill-detail/${data.id}`)\n              : setCur(data)\n          }\n        />\n      )}\n      detailRender={(data) => <SkillDetail data={data} isNur={false} />}\n    ></List>\n  );\n};\n\nexport default SkillList;\n","import React from \"react\";\nimport { useState } from \"react\";\nimport db from \"../../db.js\";\n// import dbL from '../dbL.js'\n\nimport { Row, Col, Timeline, Checkbox, Button } from \"antd\";\n// import { createFormattedComponent } from 'react-intl/src/components/createFormattedComponent';\n// import { getTimeProps } from 'antd/lib/date-picker/generatePicker';\nimport t from \"../t.js\";\n\n// const ua = dbL.get('ua').value();\n\nconst RaceSchedule = (props) => {\n  // const races = db.get('races').value()\n  const str = [];\n  const getDate = (i) => {\n    let year = Math.floor(i / 24) + 1;\n    let month = Math.floor((i - (year - 1) * 24) / 2) + 1;\n    let moment = i % 2 ? \"后\" : \"前\";\n    return `${year}年${month}月${moment}`;\n  };\n  for (let i = 13; i < 72; i++) {\n    let curRace;\n    if (props.raceList && props.raceList[i]) {\n      curRace = db.get(\"races\").find({ id: props.raceList[i].id }).value();\n      str.push(\n        <Col span={6} key={i} style={{ backgroundColor: \"#ff6b81\", border: \"1px solid #2f3542\" }}>\n          {getDate(i)}\n          <br />\n          {`${curRace.name}/${curRace.distanceType}/${props.raceList[i].goal}`}\n          {/* -{curRace.date} */}\n        </Col>\n      );\n    } else if (props.filterRace && props.filterRace[i]) {\n      str.push(\n        <Col\n          span={6}\n          key={i}\n          style={{\n            backgroundColor: \"#7bed9f\",\n            border: \"1px solid #2f3542\",\n            whiteSpace: \"pre-line\",\n          }}\n        >\n          {getDate(i)}\n          <br />\n          {props.filterRace[i].map((raceId) => {\n            let curRace = db.get(\"races\").find({ id: raceId }).value();\n            return `${curRace.name}/${curRace.grade}/${curRace.distanceType}\\n`;\n          })}\n        </Col>\n      );\n    } else {\n      str.push(\n        <Col span={6} key={i} style={{ backgroundColor: \"#a4b0be\", border: \"1px solid #2f3542\" }}>\n          {getDate(i)}\n        </Col>\n      );\n    }\n  }\n  return <Row style={{ color: \"black\" }}>{str}</Row>;\n};\n\nconst raceGolds = [\n  { name: \"传统三冠\", raceNames: [\"皐月賞30\", \"日本ダービー東京優駿33\", \"菊花賞43\"] },\n  { name: \"春日三冠\", raceNames: [\"大阪杯53\", \"天皇賞春55\", \"宝塚記念59\"] },\n  { name: \"秋日三冠\", raceNames: [\"天皇賞秋67\", \"ジャパンカップ69\", \"有馬記念71\"] },\n  { name: \"天皇春秋\", raceNames: [\"天皇賞春55\", \"天皇賞秋67\"] },\n  { name: \"纪念春秋Ⅰ\", raceNames: [\"宝塚記念35\", \"有馬記念47\"] },\n  { name: \"纪念春秋Ⅱ\", raceNames: [\"宝塚記念59\", \"有馬記念71\"] },\n  { name: \"母马三冠\", raceNames: [\"桜花賞30\", \"オークス33\", \"秋華賞43\"] },\n  { name: \"英里春秋Ⅰ\", raceNames: [\"安田記念34\", \"マイルチャンピオンシップ45\"] },\n  { name: \"英里春秋Ⅱ\", raceNames: [\"安田記念58\", \"マイルチャンピオンシップ69\"] },\n  { name: \"泥地春秋\", raceNames: [\"フェブラリーステークス51\", \"チャンピオンズカップ70\"] },\n  { name: \"短距春秋\", raceNames: [\"高松宮記念53\", \"スプリンターズステークス65\"] },\n];\nconst getGolds = (race) => {\n  return raceGolds\n    .reduce((golds, raceGold) => {\n      if (raceGold.raceNames.indexOf(race.uniqueName) !== -1) {\n        golds.push(\n          `${raceGold.name} ${raceGold.raceNames.indexOf(race.uniqueName) + 1}/${\n            raceGold.raceNames.length\n          }`\n        );\n      }\n      return golds;\n    }, [])\n    .join(\" , \");\n};\n\nconst RaceTimeline = React.memo((props) => {\n  const { showButton } = props;\n  const [showSpare, setShowSpare] = useState(false);\n  const str = [];\n\n  const getDate = (i) => {\n    let year = Math.floor(i / 24) + 1;\n    let month = Math.floor((i - (year - 1) * 24) / 2) + 1;\n    month = month < 10 ? `\\xa0\\xa0${month}` : month;\n    let moment = i % 2 ? \"后\" : \"前\";\n    return `${year}年\\xa0${month}月${moment}`;\n  };\n  const getColor = (grade) => {\n    switch (grade) {\n      case \"G1\":\n        return \"blue\";\n      case \"G2\":\n        return \"pink\";\n      case \"G3\":\n        return \"green\";\n      case \"OP\":\n        return \"orange\";\n      case \"Pre-OP\":\n        return \"orange\";\n      default:\n        return \"gray\";\n    }\n  };\n  for (let i = 13; i < 72; i++) {\n    let curRace, id, golds;\n    if (props.raceList && props.raceList[i]) {\n      id = props.raceList[i].id;\n      curRace = db.get(\"races\").find({ id }).value();\n      golds = getGolds(curRace);\n      str.push(\n        <Timeline.Item label={getDate(i)} color=\"red\" className=\"text-base\" key={id}>\n          {`${curRace.grade} / ${curRace.distanceType} / ${curRace.distance} / ${curRace.name} / ${\n            props.raceList[i].goal || \"参赛\"\n          }\n          ${golds ? \" / \" + golds : \"\"}`}\n        </Timeline.Item>\n      );\n    } else if (props.filterRace && props.filterRace[i]) {\n      props.filterRace[i].forEach((id, index) => {\n        curRace = db.get(\"races\").find({ id }).value();\n        golds = getGolds(curRace);\n        str.push(\n          <Timeline.Item\n            label={index === 0 ? getDate(i) : null}\n            color={getColor(curRace.grade)}\n            style={{ fontSize: \"14px\" }}\n            key={id}\n          >\n            {`${curRace.grade} / ${curRace.distanceType} / ${curRace.distance} / ${curRace.name}\n            ${golds ? \" / \" + golds : \"\"}`}\n          </Timeline.Item>\n        );\n      });\n    } else {\n      //普通\n      showSpare &&\n        str.push(\n          <Timeline.Item\n            label={getDate(i)}\n            color={getColor(\"normal\")}\n            style={{ fontSize: \"12px\" }}\n          ></Timeline.Item>\n        );\n    }\n  }\n  return (\n    <>\n      {showButton && (\n        <Button onClick={() => setShowSpare(!showSpare)}>\n          {showSpare ? t(\"隐藏空闲月份\") : t(\"显示空闲月份\")}\n        </Button>\n      )}\n      <Timeline mode=\"left\">{str}</Timeline>\n    </>\n  );\n});\nconst RaceCheckbox = (props) => {\n  const [raceFilterCondition, setRaceFilterCondition] = useState(props.raceFilterCondition);\n\n  const filterList = {\n    distanceType: [\n      { label: \"短距離\", value: \"短距離\" },\n      { label: \"マイル\", value: \"マイル\" },\n      { label: \"中距離\", value: \"中距離\" },\n      { label: \"長距離\", value: \"長距離\" },\n    ],\n    grade: [\n      { label: \"Pre-OP\", value: \"Pre-OP\" },\n      { label: \"OP\", value: \"OP\" },\n      { label: \"G1\", value: \"G1\" },\n      { label: \"G2\", value: \"G2\" },\n      { label: \"G3\", value: \"G3\" },\n    ],\n    ground: [\n      { label: \"芝\", value: \"芝\" },\n      { label: \"ダート\", value: \"ダート\" },\n    ],\n  };\n  const onChange = (checkedValues, type) => {\n    let tmpObj = {};\n    tmpObj[type] = checkedValues;\n    props.onChange({ ...raceFilterCondition, ...tmpObj });\n    setRaceFilterCondition({ ...raceFilterCondition, ...tmpObj });\n  };\n  return (\n    <>\n      {Object.keys(filterList).map((key) => (\n        <div key={key}>\n          <Checkbox.Group\n            options={filterList[key]}\n            defaultValue={props.raceFilterCondition[key]}\n            onChange={(checkedValues) => onChange(checkedValues, key)}\n          />\n        </div>\n      ))}\n    </>\n  );\n};\nexport { RaceSchedule, RaceTimeline, RaceCheckbox };\n","import React, { useState } from \"react\";\n\nimport db from \"../../db.js\";\nimport t from \"../t.js\";\nimport { cdnServer } from \"../../config\";\nimport EventList from \"../event/EventList\";\nimport SkillList from \"../skill/SkillList\";\n// import RaceList from './player-race.js'\nimport {\n  // RaceSchedule,\n  RaceTimeline,\n} from \"../race\";\n// import {EffectTable} from './effect.js'\n\nconst PlayerDetail = (props) => {\n  const id = props.id || props.match?.params?.id;\n  // 是否育成 育成顺序样式不同\n  const isNur = props.isNur ?? parseInt(props.match?.params?.nur);\n  console.log(props.match,isNur,'test');\n  const data = props.data || db.get(\"players\").find({ id }).value();\n  const PlayerItem = () => (\n    <div className=\"h-16 w-full flex flex-shrink-0\">\n      <img alt={data.name} src={cdnServer + data.imgUrl} height={64} width={64} />\n      <div className=\"flex-auto flex flex-wrap h-full items-center\">\n        <div className=\"w-1/2 text-xl font-semibold truncate\">{data.name}</div>\n        <div className=\"w-1/2 text-gray-700 truncate\">{t(data.name)}</div>\n        <div className=\"w-1/2 text-xl font-semibold truncate\">{data.charaName}</div>\n        <div className=\"w-1/2  text-gray-700 truncate\">{t(data.charaName)}</div>\n      </div>\n    </div>\n  );\n  if (isNur) {\n    return (\n      <>\n        <PlayerItem></PlayerItem>\n        <div>{t(\"多选项事件\")}</div>\n        <EventList idList={data.eventList0}></EventList>\n        <div>{t(\"赛后事件\")}</div>\n        <EventList idList={data.eventList2}></EventList>\n        <div>{t(\"通用事件\")}</div>\n        <EventList idList={data.eventList3}></EventList>\n        <div>{t(\"隐藏事件\")}</div>\n        <EventList idList={data.hideEvent} type=\"all\"></EventList>\n        <div>{t(\"赛程\")}</div>\n        {/* <RaceSchedule raceList={data.raceList}></RaceSchedule> */}\n        <RaceTimeline raceList={data.raceList} showButton={false}></RaceTimeline>\n        <div>{t(\"技能\")}</div>\n        <SkillList idList={data.skillList}></SkillList>\n      </>\n    );\n  } else {\n    return (\n      <>\n        <PlayerItem></PlayerItem>\n        <AdaptBox player={data}></AdaptBox>\n        <div className=\"h-2\"></div>\n        <GrowBox player={data}></GrowBox>\n        <div className=\"h-2\"></div>\n        <SkillList idList={data.skillList}></SkillList>\n        <div>{t(\"多选项事件\")}</div>\n        <EventList idList={data.eventList0}></EventList>\n        <div>{t(\"无选项事件\")}</div>\n        <EventList idList={data.eventList1}></EventList>\n        <div>{t(\"赛后事件\")}</div>\n        <EventList idList={data.eventList2}></EventList>\n        <div>{t(\"通用事件\")}</div>\n        <EventList idList={data.eventList3}></EventList>\n        <div>{t(\"隐藏事件\")}</div>\n        <EventList idList={data.eventList4}></EventList>\n        <div>{t(\"赛程\")}</div>\n        {/* <RaceSchedule raceList={data.raceList}></RaceSchedule> */}\n        <RaceTimeline raceList={data.raceList}></RaceTimeline>\n      </>\n    );\n  }\n};\n\n\n\nconst coloredGradeText = (text) => {\n  let color = \"gray\";\n  switch (text) {\n    case \"S\":\n      color = \"#FFD700\";\n      break;\n    case \"A\":\n      color = \"#FFA500\";\n      break;\n    case \"B\":\n      color = \"#BA55D3\";\n      break;\n    case \"C\":\n      color = \"#90EE90\";\n      break;\n    case \"D\":\n      color = \"#87CEEB\";\n      break;\n    default:\n      color = \"gray\";\n  }\n  return (\n    <div style={{ fontSize: 22, fontWeight: 700, textShadow: \"0 2px #33333370\", color: color }}>\n      {text}\n    </div>\n  );\n};\nconst AdaptBox = (props) => {\n  const tableStyle = {\n    width: \"100%\",\n    cellPadding: 4,\n  };\n  const cellStyle = {\n    width: \"20%\",\n    height: \"32px\",\n    fontSize: 16,\n    textAlign: \"flex-start\",\n    paddingLeft: 16,\n    fontWeight: 500,\n    borderWidth: \"thin\",\n    borderStyle: \"none solid solid none\",\n    borderColor: \"gray\",\n  };\n  const headerCellStyle = {\n    width: \"20%\",\n    fontSize: 18,\n    textAlign: \"center\",\n    fontWeight: 600,\n    color: \"#f5f5f5\",\n    textShadow: \"0 2px #33333370\",\n    backgroundColor: \"#32cd32C0\",\n    borderWidth: \"thin\",\n    borderStyle: \"none solid solid none\",\n    borderColor: \"gray\",\n  };\n  const adaptTextWrapperStyle = {\n    paddingRight: 16,\n    display: \"flex\",\n    width: \"100%\",\n    alignItems: \"center\",\n    justifyContent: \"space-between\",\n  };\n\n  // {[`草地/芝\\xa0`,coloredGradeText(props.player.grass)]}\n  return (\n    <div className=\"rounded-lg border border-solid border-gray-500\">\n      <table className=\"w-full\">\n        <tbody>\n          <tr>\n            <td\n              style={{\n                ...headerCellStyle,\n                borderRadius: \"8px 0 0 0\",\n                fontWeight: 700,\n                fontSize: 18,\n              }}\n            >\n              {t(\"场地适应\")}\n            </td>\n            <td style={{ ...cellStyle }}>\n              <div style={adaptTextWrapperStyle}>\n                {[`${t(\"芝\")}`, coloredGradeText(props.player.grass)]}\n              </div>\n            </td>\n            <td style={{ ...cellStyle }}>\n              <div style={adaptTextWrapperStyle}>\n                {[`${t(\"ダート\")}`, coloredGradeText(props.player.dirt)]}\n              </div>\n            </td>\n            <td style={{ ...cellStyle }}>{`\\xa0`}</td>\n            <td\n              style={{\n                ...cellStyle,\n                borderRadius: \"0 8px 0 0\",\n                borderStyle: \"none none solid none\",\n              }}\n            >{`\\xa0`}</td>\n          </tr>\n          <tr>\n            <td style={{ ...headerCellStyle, fontWeight: 700, fontSize: 18 }}>{t(\"赛程适应\")}</td>\n            <td style={{ ...cellStyle }}>\n              <div style={adaptTextWrapperStyle}>\n                {[`${t(\"短距離\")}`, coloredGradeText(props.player.shortDistance)]}\n              </div>\n            </td>\n            <td style={{ ...cellStyle }}>\n              <div style={adaptTextWrapperStyle}>\n                {[`${t(\"マイル\")}`, coloredGradeText(props.player.mile)]}\n              </div>\n            </td>\n            <td style={{ ...cellStyle }}>\n              <div style={adaptTextWrapperStyle}>\n                {[`${t(\"中距離\")}`, coloredGradeText(props.player.mediumDistance)]}\n              </div>\n            </td>\n            <td\n              style={{\n                ...cellStyle,\n                borderRadius: \"0 0 8px 0\",\n                borderStyle: \"none none solid none\",\n              }}\n            >\n              <div style={adaptTextWrapperStyle}>\n                {[`${t(\"長距離\")}`, coloredGradeText(props.player.longDistance)]}\n              </div>\n            </td>\n          </tr>\n          <tr>\n            <td\n              style={{\n                ...headerCellStyle,\n                borderRadius: \"0 0 0 8px\",\n                borderStyle: \"none solid none none\",\n                fontWeight: 700,\n                fontSize: 18,\n              }}\n            >\n              {t(\"脚质适应\")}\n            </td>\n            <td style={{ ...cellStyle, borderStyle: \"none solid none none\" }}>\n              <div style={adaptTextWrapperStyle}>\n                {[`${t(\"逃げ\")}`, coloredGradeText(props.player.escape)]}\n              </div>\n            </td>\n            <td style={{ ...cellStyle, borderStyle: \"none solid none none\" }}>\n              <div style={adaptTextWrapperStyle}>\n                {[`${t(\"先行\")}`, coloredGradeText(props.player.leading)]}\n              </div>\n            </td>\n            <td style={{ ...cellStyle, borderStyle: \"none solid none none\" }}>\n              <div style={adaptTextWrapperStyle}>\n                {[`${t(\"差し\")}`, coloredGradeText(props.player.insert)]}\n              </div>\n            </td>\n            <td\n              style={{\n                ...cellStyle,\n                borderRadius: \"0 0 8px 0\",\n                borderStyle: \"none none none none\",\n              }}\n            >\n              <div style={adaptTextWrapperStyle}>\n                {[`${t(\"追込\")}`, coloredGradeText(props.player.tracking)]}\n              </div>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n  );\n};\n\nconst GrowBox = (props) => {\n  const headerCellStyle = {\n    width: \"20%\",\n    fontSize: 18,\n    textAlign: \"center\",\n    fontWeight: 600,\n    color: \"#f5f5f5\",\n    textShadow: \"0 2px #33333370\",\n    backgroundColor: \"#32cd32C0\",\n    borderWidth: \"thin\",\n    borderStyle: \"none solid solid none\",\n    borderColor: \"gray\",\n  };\n  const cellStyle = {\n    width: \"20%\",\n    height: \"40px\",\n    fontSize: 16,\n    textAlign: \"center\",\n    fontWeight: 500,\n    borderWidth: \"thin\",\n    borderStyle: \"none solid none none\",\n    borderColor: \"gray\",\n  };\n\n  return (\n    <div className=\" rounded-lg border borders border-gray-500\">\n      <table className=\"w-full\">\n        <tbody>\n          <tr>\n            <th style={{ ...headerCellStyle, borderRadius: \"8px 0 0 0\" }}>{t(\"スピード\")}</th>\n            <th style={{ ...headerCellStyle }}>{t(\"スタミナ\")}</th>\n            <th style={{ ...headerCellStyle }}>{t(\"パワー\")}</th>\n            <th style={{ ...headerCellStyle }}>{t(\"根性\")}</th>\n            <th\n              style={{\n                ...headerCellStyle,\n                borderRadius: \"0 8px 0 0\",\n                borderStyle: \"none none solid none\",\n              }}\n            >\n              {t(\"賢さ\")}\n            </th>\n          </tr>\n          <tr>\n            <td style={{ ...cellStyle, borderRadius: \"0 0 0 8px\" }}>{props.player.speedGrow}</td>\n            <td style={{ ...cellStyle }}>{props.player.staminaGrow}</td>\n            <td style={{ ...cellStyle }}>{props.player.powerGrow}</td>\n            <td style={{ ...cellStyle }}>{props.player.gutsGrow}</td>\n            <td\n              style={{\n                ...cellStyle,\n                borderRadius: \"0 0 8px 0\",\n                borderStyle: \"none none none none\",\n              }}\n            >\n              {props.player.wisdomGrow}\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n  );\n};\n\nexport default PlayerDetail;\n","import React from \"react\";\nimport { useHistory } from \"react-router\";\nimport PlayerCard from \"./PlayerCard\";\nimport PlayerDetail from \"./PlayerDetail\";\nimport List from \"../common/List\";\nimport useUa from \"../../utils/ua\";\nconst PlayerList = ({listClass, dataList, onClick, sortFlag = false }) => {\n  const ua = useUa();\n  const history = useHistory();\n  const sort = {\n    key: \"rare\",\n    data: [\n      { value: \"3\", title: \"3星\" },\n      { value: \"2\", title: \"2星\" },\n      { value: \"1\", title: \"1星\" },\n    ],\n  };\n  return (\n    <List\n      className={listClass}\n      listKey=\"players\"\n      dataList={dataList}\n      sort={sortFlag && sort}\n      onClick={onClick}\n      itemRender={(data, setCur) => (\n        <PlayerCard\n          className=\"w-20 mr-1 mb-1\"\n          data={data}\n          onClick={() =>\n            onClick\n              ? onClick(data)\n              : ua.isPhone\n              ? history.push(`/player-detail/${data.id}`)\n              : setCur(data)\n          }\n        />\n      )}\n      detailRender={(data) => <PlayerDetail data={data} isNur={false} />}\n    ></List>\n  );\n};\n\nexport default PlayerList;\n","import React from \"react\";\nimport { useDidRecover } from \"react-router-cache-route\";\n\nimport PlayerList from \"../components/player/PlayerList.js\";\n// todo 提取出来\n// const cdnServer = 'https://cdn.jsdelivr.net/gh/wrrwrr111/pretty-derby@master/public/'\n\nconst TITLE = \"角色 - 乌拉拉大胜利 - 赛马娘资料站\";\n\n//todo filter\nconst Player = (props) => {\n  document.title = TITLE;\n  useDidRecover(() => {\n    document.title = TITLE;\n  });\n  return (\n    <div className=\"flex w-full flex-wrap max-w-6xl mx-auto\">\n      <PlayerList listClass=\"justify-between\" sortFlag={true} onClick={props.onClick} />\n    </div>\n  );\n};\n\nexport default Player;\n","import React, { useEffect, useState } from 'react';\nimport {\n  // withRouter,\n  useHistory,\n  // useLocation\n} from 'react-router-dom';\nimport db from '../../db.js'\nimport dbL from '../../dbL.js'\nimport { Row, Col, Popover, button, Image, Checkbox, Divider, Input, Tooltip, Switch } from 'antd';\nimport t from '../t.js'\n\nconst Search = Input.Search\nconst cdnServer = 'https://cdn.jsdelivr.net/gh/wrrwrr111/pretty-derby/public/'\n\nconst ua = dbL.get('ua').value();\nconst allSkillList = db.get('skills').orderBy('db_id').value()\n\nconst options = {\n  distance_type: [\n    { label: t('短距離'), value: '1' },\n    { label: t('マイル'), value: '2' },\n    { label: t('中距離'), value: '3' },\n    { label: t('長距離'), value: '4' },\n  ],\n  running_style: [\n    { label: t('逃げ'), value: '1' },\n    { label: t('先行'), value: '2' },\n    { label: t('差し'), value: '3' },\n    { label: t('追込'), value: '4' },\n    { label: t('通用'), value: '-1' },\n  ],\n  phase: [\n    { label: t('序盤'), value: '0' },\n    { label: t('中盤'), value: '1' },\n    { label: t('終盤'), value: '2' },\n    { label: t('冲刺'), value: '3' },\n  ],\n  corner_random: [\n    { label: t('コーナー'), value: '1' },\n  ],\n  straight_random: [\n    { label: t('直線'), value: '1' },\n  ],\n  is_finalcorner: [\n    { label: t('最終直線/コーナー'), value: '1' },\n  ]\n  // is_finalcorner==1&corner==0\n}\n\n\n\n\nconst SkillCheckboxGroup = React.memo((props) => {\n  const { options, name, value } = props;\n  const onChange = (checkedValues) => {\n    props.onChange(name, checkedValues);\n  }\n\n  return <Checkbox.Group options={options} value={value} onChange={onChange} />\n});\n\nconst SkillCheckbox = React.memo((props) => {\n  const [skillChecked1, setSkillChecked1] = useState([]);\n  const [skillChecked2, setSkillChecked2] = useState([]);\n  const [checkboxGroupValues, setCheckedboxGroupValues] = useState({});\n  // init isOwn\n  localStorage.getItem('isOwn') === null && localStorage.setItem('isOwn', 0)\n  const [isOwn, setIsOwn] = useState(parseInt(localStorage.getItem('isOwn')))\n  const mySupports = dbL.get('mySupports').value()\n  const mySkillList = new Set(mySupports.reduce((list, supportId) => {\n    let support = db.get('supports').find({ id: supportId }).value()\n    return list.concat(support.skillList)\n  }, []))\n  const checkOptions1 = [\n    { label: '速度被动(绿)', value: '10011' },\n    { label: '耐力被动(绿)', value: '10021' },\n    { label: '力量被动(绿)', value: '10031' },\n    { label: '毅力被动(绿)', value: '10041' },\n    { label: '智力被动(绿)', value: '10051' },\n    { label: '耐力恢复(蓝)', value: '20021' },\n    { label: '速度提高(黄)', value: '20011' },\n    // {label:'20031',value:'20031'},\n    { label: '加速度提高(黄)', value: '20041' },\n    { label: '切换跑道(黄)', value: '20051' },\n    { label: '起步时间(黄)', value: '20061' },\n    // {label:'20071',value:'20071'},\n    // {label:'20081',value:'20081'},\n    { label: '视野提高(黄)', value: '20091' },\n    { label: '速度降低(红)', value: '30011' },\n    { label: '无法冷静(红)', value: '30041' },\n    { label: '耐力降低(红)', value: '30051' },\n    { label: '视野降低(红)', value: '30071' }\n  ]\n  const checkOptions2 = [\n    { label: t('ノーマル'), value: 'ノーマル' },\n    { label: t('レア'), value: 'レア' },\n    { label: t('固有'), value: '固有' }\n  ]\n  const onChange1 = (checkedValues) => {\n    setSkillChecked1(checkedValues)\n    updateSkillList(filteredSkills, checkedValues, skillChecked2, isOwn)\n  }\n  const onChange2 = (checkedValues) => {\n    setSkillChecked2(checkedValues)\n    updateSkillList(filteredSkills, skillChecked1, checkedValues, isOwn)\n  }\n  const filteredSkills = React.useMemo(() => Object.entries(checkboxGroupValues)\n    .reduce((l, [key, values]) =>\n      values.length > 0\n        ? l.filter(skill => {\n          if (!skill?.condition) {\n            return false\n          }\n          switch (key) {\n            case 'phase':\n              return ['phase', 'phase_random'].map(\n                _key => values.map(value => `${_key}==${value}`)\n              ).flat().some(phrase => skill?.condition.includes(phrase));\n            case 'running_style':\n              return (values.map(value => `${key}==${value}`)\n                .some(phrase => skill?.condition.includes(phrase))) || (values.includes('-1') && !skill?.condition.includes(`${key}==`));\n            default:\n              return values.map(value => `${key}==${value}`)\n                .some(phrase => skill?.condition.includes(phrase));\n          }\n        })\n        : l,\n      allSkillList),\n    [checkboxGroupValues])\n\n  useEffect(() => {\n    updateSkillList(filteredSkills, skillChecked1, skillChecked2, isOwn)\n  }, [filteredSkills]);\n\n  const onCheckboxGroupsChange = React.useCallback((groupName, checkedValues) => {\n    setCheckedboxGroupValues({ ...checkboxGroupValues, ...{ [groupName]: checkedValues } });\n  }, [checkboxGroupValues]);\n\n  const updateSkillList = (tempSkillList, check2, check3, isOwn) => {\n    const check1 = Object.values(checkboxGroupValues).flat();\n    if (check2.length) {\n      tempSkillList = tempSkillList.filter(skill => {\n        let flag = 0;\n        check2.forEach(value => {\n          let str = skill?.icon_id + ''\n          if (str) {\n            if (str[0] === value[0] && str[3] === value[3]) {\n              flag = 1\n            }\n          }\n        })\n        return flag\n      })\n    }\n    if (check3.length) {\n      tempSkillList = tempSkillList.filter(skill => {\n        let flag = 0;\n        check3.forEach(value => {\n          if (skill?.rare === value) {\n            flag = 1\n          }\n        })\n        return flag\n      })\n    }\n    if (isOwn) {\n      tempSkillList = tempSkillList.filter(skill => {\n        return mySkillList.has(skill?.id)\n      })\n    }\n    // if (check1.length || check2.length || check3.length || isOwn) {\n    //   tempSkillList.push({\n    //     id: 'default'\n    //   })\n    // }\n    if (props.needId) {\n      tempSkillList = tempSkillList.reduce((list, skill) => {\n        list.push(skill?.id)\n        return list\n      }, [])\n    }\n    props.onUpdate(tempSkillList)\n  }\n  const resetCheckbox = () => {\n    setCheckedboxGroupValues({})\n    setSkillChecked1([])\n    setSkillChecked2([])\n    props.onUpdate(allSkillList)\n  }\n  const changeMode = () => {\n    let curValue = 1 - isOwn\n    localStorage.setItem('isOwn', curValue)\n    setIsOwn(curValue)\n    // console.log(curValue)\n    updateSkillList(filteredSkills, skillChecked1, skillChecked2, curValue)\n  }\n  const onSearch = (searchText) => {\n    const fullSkillList = allSkillList;\n    const tempSkillList = fullSkillList.filter(item => (item.name).indexOf(searchText) > -1);\n    setCheckedboxGroupValues({})\n    setSkillChecked1([])\n    setSkillChecked2([])\n    props.onUpdate(tempSkillList)\n  };\n  return (<>{props.checkOnly ?\n    <>\n      {Object.entries(options).map(([gourpName, value]) => <SkillCheckboxGroup name={gourpName} value={checkboxGroupValues[gourpName]} options={value} onChange={onCheckboxGroupsChange} />)}\n      <Divider />\n      {/* <Checkbox.Group options={checkOptions1} value={skillChecked1} onChange={onChange1} /> */}\n      <Checkbox.Group value={skillChecked1} onChange={onChange1}>\n        <Row>\n          {checkOptions1.map(checkItem =>\n            <Col span={12}>\n              {/* https://cdn.jsdelivr.net/gh/wrrwrr111/pretty-derby/public/img/skill_icons/10011.png */}\n              <Checkbox value={checkItem.value} style={{ display: 'flex', alignItems: 'center' }}>\n                <div style={{ display: 'flex' }}>\n                  <Image src={cdnServer + 'img/skill_icons/' + checkItem.value + '.png'} preview={false} width={26}></Image>\n                  <div style={{ flex: 'auto', overflow: 'hidden', whiteSpace: 'nowrap' }}>{checkItem.label}</div>\n                </div>\n              </Checkbox>\n            </Col>\n          )}\n        </Row>\n      </Checkbox.Group>\n      <Divider />\n      <Checkbox.Group options={checkOptions2} value={skillChecked2} onChange={onChange2} />\n    </>\n    :\n    <div>\n      <div style={{ height: 16 }} />\n      <button type={'danger'} onClick={resetCheckbox} style={{ width: '100%' }}>{t('重置')}\n      </button>\n      <Divider />\n      <div>\n        <Tooltip title={t(\"可以在支援卡页面配置\")}>\n          <span style={{ margin: '0 10px 0 0', lineHeight: '32px' }}>{t('显示拥有支援卡')}</span>\n          <Switch checked={isOwn} onChange={changeMode} />\n        </Tooltip>\n      </div>\n      <span style={{ margin: '0 10px 0 0', lineHeight: '32px' }}>{t('技能搜索')}</span>\n      <Search placeholder={t(\"输入关键词\")} enterButton={t(\"搜索\")} size=\"middle\"\n        style={{ width: '100%' }} onSearch={onSearch} />\n      <Divider />\n      {Object.entries(options).map(([gourpName, value]) => <SkillCheckboxGroup name={gourpName} value={checkboxGroupValues[gourpName]} options={value} onChange={onCheckboxGroupsChange} />)}\n      <Divider />\n      <Checkbox.Group value={skillChecked1} onChange={onChange1}>\n        <Row>\n          {checkOptions1.map(checkItem =>\n            <Col span={12}>\n              {/* https://cdn.jsdelivr.net/gh/wrrwrr111/pretty-derby/public/img/skill_icons/10011.png */}\n              <Checkbox value={checkItem.value} style={{ display: 'flex', alignItems: 'center' }}>\n                <div style={{ display: 'flex' }}>\n                  <Image src={cdnServer + 'img/skill_icons/' + checkItem.value + '.png'} preview={false} width={26}></Image>\n                  <div style={{ flex: 'auto', overflow: 'hidden', whiteSpace: 'nowrap' }}>{checkItem.label}</div>\n                </div>\n              </Checkbox>\n            </Col>\n          )}\n        </Row>\n      </Checkbox.Group>\n      <Divider />\n      <Checkbox.Group options={checkOptions2} value={skillChecked2} onChange={onChange2} />\n    </div>}\n  </>\n  )\n})\n\nexport default SkillCheckbox\n","import React, { useState, useEffect } from \"react\";\nimport { Button, Checkbox, Input } from \"antd\";\n// import { useDidRecover } from 'react-router-cache-route'\nimport { useDidRecover } from \"react-router-cache-route\";\n\nimport db from \"../db.js\";\nimport t from \"../components/t.js\";\nimport SupportList from \"../components/support/SupportList\";\nimport SkillCheckbox from \"../components/skill/SkillCheckbox\";\n\nconst CheckboxGroup = Checkbox.Group;\nconst Search = Input.Search;\nconst TITLE = \"支援 - 乌拉拉大胜利 - 赛马娘资料站\";\n\nconst allSupports = db.get(\"supports\").value();\nconst Support = (props) => {\n  document.title = TITLE;\n  useDidRecover(() => {\n    document.title = TITLE;\n  });\n  const { filter = true, onClick } = props;\n  const [list, setList] = useState(props.supportList || allSupports || []);\n  const [chooseMode, setChooseMode] = useState(false);\n  const [showMode, setShowMode] = useState(false);\n  const [chosenList, setChosenList] = useState(db.get(\"mySupports\").value() || []);\n  const [effectList, setEffectList] = useState();\n  const [typeList, setTypeList] = useState([]);\n  const [eventIdList, setEventIdList] = useState([]);\n  const [skillList, setSkillList] = useState([]);\n\n  const effects = db.get(\"effects\").value();\n  const effectOptions = Object.keys(effects).map((key) => {\n    return { label: t(effects[key].name), value: key };\n  });\n  const typeOptions = [\"スピード\", \"スタミナ\", \"パワー\", \"根性\", \"賢さ\", \"友人\"].map((item) => ({\n    label: t(item),\n    value: item,\n  }));\n\n  const changeChooseMode = () => {\n    setShowMode(!showMode);\n    setChooseMode(!chooseMode);\n  };\n\n  const changeShowMode = () => {\n    setShowMode(!showMode);\n  };\n\n  const onSelect = (item) => {\n    let tmpList = [...chosenList];\n    const index = tmpList.indexOf(item.id);\n    if (index === -1) {\n      tmpList.push(item.id);\n    } else {\n      tmpList.splice(index, 1);\n    }\n    console.log(tmpList);\n    db.update(\"mySupports\", tmpList).write();\n    setChosenList([...tmpList]);\n  };\n\n  const onSupportCheckboxChange = (effectList) => setEffectList(effectList);\n\n  const onSkillCheckboxUpdate = (skillList) => setSkillList(skillList);\n\n  const onTypeListChange = (typeList) => setTypeList(typeList);\n\n  const onSearch = (searchText) => {\n    const allEventList = db.get(\"events\").value();\n    const eventIdList = allEventList\n      .filter((event) => {\n        let jsonEvent = JSON.stringify(event);\n        if (jsonEvent.indexOf(searchText) !== -1) {\n          return true;\n        } else {\n          return false;\n        }\n      })\n      .reduce((list, event) => {\n        list.push(event.id);\n        return list;\n      }, []);\n    setEventIdList(eventIdList);\n  };\n\n  useEffect(() => {\n    console.log(effectList);\n    updateSupport({ effectList, skillList, eventIdList, typeList });\n  }, [effectList, skillList, eventIdList, typeList]);\n\n  const updateSupport = ({ effectList, skillList, eventIdList, typeList }) => {\n    let tempList = allSupports;\n    if (effectList?.length) {\n      tempList = tempList.filter((support) => {\n        let flag = 0;\n        effectList.forEach((value) => {\n          support.effects &&\n            support.effects.forEach((effect) => {\n              if (effect.type == value) {\n                flag += 1;\n              }\n            });\n        });\n        return flag === effectList.length;\n      });\n    }\n    if (skillList?.length) {\n      tempList = tempList.filter((support) => {\n        let flag = 0;\n        support.skillList.forEach((skillId) => {\n          if (skillList.indexOf(skillId) !== -1) {\n            return (flag = 1);\n          }\n        });\n        return flag;\n      });\n    }\n    if (eventIdList?.length) {\n      tempList = tempList.filter((support) => {\n        let flag = 0;\n        support.eventList.forEach((eventId) => {\n          if (eventIdList.indexOf(eventId) !== -1) {\n            return (flag = 1);\n          }\n        });\n        return flag;\n      });\n    }\n    if (typeList?.length) {\n      tempList = tempList.filter((support) => {\n        let flag = 0;\n        if (typeList.indexOf(support.type) !== -1) {\n          return (flag = 1);\n        }\n        return flag;\n      });\n    }\n    setList([...tempList]);\n  };\n\n  return (\n    <>\n      {filter && (\n        <div className=\"w-1/4 h-full flex flex-col p-1\">\n          <div className=\"w-full rounded m-1 h-12 flex items-center justify-center bg-blue-400 text-gray-100 text-xl font-semibold flex-shrink-0\">\n            {t(\"筛选\")}\n          </div>\n          <Button onClick={changeShowMode}>{t(\"高亮我的卡组\")}</Button>\n          <Button onClick={changeChooseMode}>{t(\"配置卡组\")}</Button>\n          {chooseMode && (\n            <Button onClick={changeChooseMode} type=\"primary\">\n              {t(\"配置完成\")}\n            </Button>\n          )}\n          <Search\n            placeholder={t(\"输入关键词\")}\n            enterButton={t(\"搜索\")}\n            size=\"middle\"\n            style={{ width: \"100%\" }}\n            onSearch={onSearch}\n          />\n          <div className=\"overflow-y-auto flex-auto flex flex-col\">\n            <div className=\"font-semibold my-1\">{t(\"类型\")}</div>\n            <CheckboxGroup options={typeOptions} value={typeList} onChange={onTypeListChange} />\n            <div className=\"font-semibold my-1\">{t(\"技能\")}</div>\n            <SkillCheckbox\n              onUpdate={onSkillCheckboxUpdate}\n              checkOnly={true}\n              needId={true}\n            ></SkillCheckbox>\n            <div className=\"font-semibold my-1\">{t(\"育成效果\")}</div>\n            <CheckboxGroup\n              options={effectOptions}\n              value={effectList}\n              onChange={onSupportCheckboxChange}\n            />\n          </div>\n        </div>\n      )}\n      <div className=\"w-3/4 flex flex-col p-1\">\n        <div className=\"w-full rounded m-1 h-12 flex items-center justify-center bg-blue-400 text-gray-100 text-xl font-semibold flex-shrink-0\">\n          {t(\"支援卡列表\")}\n        </div>\n        <div className=\" overflow-y-scroll overflow-x-hidden pl-4 w-full h-full flex flex-wrap\">\n          <SupportList\n            listClass=\"justify-between\"\n            sortFlag={true}\n            dataList={list}\n            ownList={showMode ? chosenList : null}\n            onClick={chooseMode ? onSelect : onClick}\n          />\n        </div>\n      </div>\n    </>\n  );\n};\nexport default Support;\n","import React from 'react';\r\n// import {useState} from 'react';\r\nimport db from '../db.js'\r\nimport dbL from '../dbL.js'\r\nimport t from '../components/t.js'\r\n\r\nimport {\r\n  // List,\r\n  Popover,\r\n  Button\r\n} from 'antd';\r\n\r\nconst ua = dbL.get('ua').value();\r\n\r\nconst BuffButton = (props) => {\r\n  return (\r\n    <Popover\r\n      trigger={ua === 'mo' ? 'click' : 'hover'}\r\n      content={<BuffList></BuffList>}>\r\n      <Button>Buff</Button>\r\n    </Popover>\r\n  )\r\n}\r\nconst BuffList = (props) => {\r\n  const buffs = db.get('buffs').value()\r\n  const cellStyle = {\r\n    // width:'20%',\r\n    height: '32px',\r\n    fontSize: 16,\r\n    textAlign: 'flex-start',\r\n    paddingLeft: 16,\r\n    fontWeight: 500,\r\n    borderWidth: 'thin',\r\n    borderStyle: 'solid solid solid solid',\r\n    borderColor: 'gray',\r\n  }\r\n  return (\r\n    <table>\r\n      <tbody>\r\n        {buffs.map(buff => <tr key={buff.name}>\r\n          <td style={{ ...cellStyle }}>{t(buff.name)}</td>\r\n          <td style={{ ...cellStyle }}>{t(buff.describe)}</td>\r\n        </tr>)}\r\n      </tbody>\r\n    </table>\r\n  )\r\n}\r\nexport { BuffButton, BuffList }\r\n","import React, { useState } from 'react';\r\nimport shortid from 'shortid'\r\n// import db from '../db.js'\r\nimport dbL from '../dbL.js'\r\nimport t from '../components/t.js'\r\nimport axios from \"axios\";\r\n\r\nimport {\r\n  // Divider,\r\n  Row,\r\n  Col,\r\n  // Modal,\r\n  Button,\r\n  Tag,\r\n  message,\r\n  Popover,\r\n  Popconfirm,\r\n  Checkbox\r\n} from 'antd';\r\nconst cdnServer = 'https://cdn.jsdelivr.net/gh/wrrwrr111/pretty-derby@master/public/'\r\n\r\nconst MyDecks = (props) => {\r\n  const [decks, setDecks] = useState(dbL.get('myDecks').value())\r\n  // 卡组相关操作\r\n  const saveDeck = (deck) => {\r\n    let tmpDeck = {\r\n      imgUrls: [],\r\n      supportsId: [],\r\n      tags: [],\r\n    }\r\n    if (props.player.id) {\r\n      tmpDeck.playerId = props.player.id\r\n      tmpDeck.imgUrls.push(props.player.imgUrl)\r\n    }\r\n    [0, 1, 2, 3, 4, 5].forEach(index => {\r\n      if (props.supports[index] && props.supports[index].id) {\r\n        tmpDeck.imgUrls.push(props.supports[index].imgUrl)\r\n        tmpDeck.supportsId.push(props.supports[index].id)\r\n      } else {\r\n        tmpDeck.supportsId.push(null)\r\n      }\r\n    })\r\n    if (deck) {\r\n      //update\r\n      dbL.get('myDecks').find({ id: deck.id }).assign(tmpDeck).write()\r\n    } else {\r\n      //\r\n      tmpDeck.id = shortid.generate()\r\n      dbL.get('myDecks').push(tmpDeck).write()\r\n    }\r\n    setDecks([...dbL.get('myDecks').value()])\r\n  }\r\n\r\n  const deleteDeck = (deck) => {\r\n    dbL.get('myDecks').remove({ id: deck.id }).write()\r\n    setDecks([...dbL.get('myDecks').value()])\r\n  }\r\n  const shareDeck = async (deck) => {\r\n    //判断表格\r\n    // if(deck.playerId)\r\n    const formData = {\r\n      ...deck,\r\n      id: deck.playerId + deck.supportsId.sort((a, b) => a.localeCompare(b)).join(\"\")\r\n    }\r\n    const res = await axios.post(\"https://urarawin.com/api/sqlite/addDeck\", formData);\r\n    const data = res.data\r\n    data && message.info(data.msg);\r\n\r\n  }\r\n\r\n  const labels = ['短距離', 'マイル', '中距離', '長距離', 'ダート', '逃げ', '先行', '差し', '追込',\r\n    '高速度', '高耐力', '高力量', '高根性 ', '高智力', '竞技场前排', '萌新之友']\r\n  const onChangeTag = (values, deck) => {\r\n    dbL.get('myDecks').find({ id: deck.id }).assign({ tags: values }).write()\r\n    setDecks([...dbL.get('myDecks').value()])\r\n  }\r\n\r\n  return <Popover width={'100%'} overlayStyle={{ maxHeight: 800, overflow: 'auto' }}\r\n    content={\r\n      <>\r\n        <Button onClick={() => saveDeck()}>{t('保存为新卡组')}</Button>\r\n        {decks.map(deck =>\r\n          <>\r\n            <Row>\r\n              <Checkbox.Group options={labels} defaultValue={deck.tags || []}\r\n                onChange={(values) => onChangeTag(values, deck)} />\r\n            </Row>\r\n            <Row key={deck.id}>\r\n              {deck.imgUrls.map(imgUrl =>\r\n                <Col span={3} key={imgUrl}>\r\n                  <img src={cdnServer + imgUrl} alt={imgUrl} width={'100'}></img>\r\n                </Col>\r\n              )}\r\n              <Col span={3}>\r\n                <Button type=\"primary\" onClick={() => props.loadDeck(deck)}>{t('读取卡组')}</Button>\r\n                <Popconfirm title={t(\"确认覆盖？\")} onConfirm={() => saveDeck(deck)}>\r\n                  <Button danger type=\"dashed\">{t('覆盖卡组')}</Button>\r\n                </Popconfirm>\r\n                <Popconfirm title={t(\"确认删除？\")} onConfirm={() => deleteDeck(deck)}>\r\n                  <Button danger type=\"dashed\">{t('删除卡组')}</Button>\r\n                </Popconfirm>\r\n                <Popconfirm title={t(\"确认分享？\")} onConfirm={() => shareDeck(deck)}>\r\n                  <Button>分享卡组</Button>\r\n                </Popconfirm>\r\n              </Col>\r\n            </Row>\r\n          </>)}\r\n      </>\r\n    }><Button>{t('我的卡组')}</Button>\r\n  </Popover>\r\n}\r\n\r\nconst RecommendDecks = (props) => {\r\n  // const [recommendDecks,setRecommendDecks] = useState(res.data||[])\r\n  const [recommendDecks, setRecommendDecks] = useState([])\r\n  const [playerId, setPlayerId] = useState('')\r\n  const searchDeck = async () => {\r\n    if (playerId !== props.player.id) {\r\n      const formData = props.player ? { playerId: props.player.id } : {}\r\n      const res = await axios.post(\"https://urarawin.com/api/sqlite/searchDeck\", formData)\r\n      setRecommendDecks(res.data || [])\r\n      setPlayerId(props.player.id)\r\n    }\r\n  }\r\n  // const deleteDeck = async (deck) => {\r\n  //   const res = await axios.post(\"https://urarawin.com/api/sqlite/deleteDeck\", deck)\r\n  //   searchDeck()\r\n  // }\r\n  return <Popover width={'100%'} onVisibleChange={searchDeck} overlayStyle={{ maxHeight: 800, overflow: 'auto' }}\r\n    content={\r\n      recommendDecks.map(deck =>\r\n        <>\r\n          <Row>\r\n            {deck.tags && deck.tags.map(tag => <Tag>{tag}</Tag>)}\r\n          </Row>\r\n          <Row key={deck.id}>\r\n            {deck.imgUrls.map(imgUrl =>\r\n              <Col span={3} key={imgUrl}>\r\n                <img src={cdnServer + imgUrl} alt={imgUrl} width={'100'}></img>\r\n              </Col>\r\n            )}\r\n            <Col span={3}>\r\n              <Button type=\"primary\" onClick={() => props.loadDeck(deck)}>{t('读取卡组')}</Button>\r\n              {/* <Button type=\"primary\" onClick={()=>deleteDeck(deck)}>{t('删除卡组')}</Button> */}\r\n            </Col>\r\n          </Row>\r\n        </>\r\n      )\r\n    }>\r\n    <Button>{t('推荐卡组')}</Button>\r\n  </Popover>\r\n}\r\n\r\nexport { MyDecks, RecommendDecks }\r\n","import React, { useState } from \"react\";\nimport { useDidRecover } from \"react-router-cache-route\";\n// import shortid from 'shortid'\nimport db from \"../db.js\";\nimport dbL from \"../dbL.js\";\nimport t from \"../components/t.js\";\n// import axios from \"axios\";\n\nimport {\n  div,\n  // Row,\n  // Col,\n  Modal,\n  Button,\n  // Drawer,\n  // message,\n  Popover,\n  // Popconfirm,\n  // Tooltip\n} from \"antd\";\n// import { EditOutlined } from '@ant-design/icons'\n\nimport ScrollBars from \"react-custom-scrollbars\";\n\nimport EventList from \"../components/event/EventList\";\nimport SkillList from \"../components/skill/SkillList\";\nimport { BuffButton } from \"../components/buff.js\";\nimport {\n  // RaceSchedule,\n  RaceTimeline,\n  RaceCheckbox,\n} from \"../components/race\";\nimport { MyDecks, RecommendDecks } from \"../components/deck.js\";\n\nimport GridLayout from \"react-grid-layout\";\nimport \"react-grid-layout/css/styles.css\";\n// import Race from './race.js'\nimport Player from \"./player.js\";\nimport Support from \"./support.js\";\nimport { list } from \"postcss\";\n// import Checkbox from 'antd/lib/checkbox/Checkbox';\n\nconst cdnServer = \"https://cdn.jsdelivr.net/gh/wrrwrr111/pretty-derby@master/public/\";\nconst TITLE = \"育成 - 乌拉拉大胜利 - 赛马娘资料站\";\n\nconst Nurturing = () => {\n  document.title = TITLE;\n  useDidRecover(() => {\n    document.title = TITLE;\n  });\n  const [needSelect, setNeedSelect] = useState(false);\n  const [isPlayerVisible, setIsPlayerVisible] = useState(false);\n\n  const [isSupportVisible, setIsSupportVisible] = useState(false);\n  const [supportIndex, setSupportIndex] = useState(1);\n\n  const selected = dbL.get(\"selected\").value();\n  const [supports, setSupports] = useState(selected.supports);\n  const [player, setPlayer] = useState(selected.player);\n\n  const races = db.get(\"races\").value();\n  const [raceFilterCondition, setRaceFilterCondition] = useState(\n    selected.raceFilterCondition || {\n      distanceType: [],\n      grade: [],\n      ground: [],\n    }\n  );\n  const [filterRace, setFilterRace] = useState(selected.filterRace || {});\n\n  const showPlayer = () => {\n    setIsPlayerVisible(true);\n  };\n  const closePlayer = () => {\n    setIsPlayerVisible(false);\n  };\n  const handleSelectPlayer = (data) => {\n    setIsPlayerVisible(false);\n    setPlayer(data);\n    // save player\n    selected.player = data;\n    dbL.get(\"selected\").assign(selected).write();\n  };\n\n  const showSupport = (index) => {\n    setNeedSelect(true);\n    setIsSupportVisible(true);\n    setSupportIndex(index);\n  };\n  const showSupport2 = (index) => {\n    setNeedSelect(false);\n    setIsSupportVisible(true);\n    setSupportIndex(index);\n  };\n\n  const closeSupport = () => {\n    setIsSupportVisible(false);\n  };\n  const handleSelectSupport = (data) => {\n    let newData = {};\n    newData[supportIndex] = data;\n    setSupports(Object.assign({}, supports, newData));\n    setIsSupportVisible(false);\n\n    // save\n    selected.supports[supportIndex] = data;\n    dbL.get(\"selected\").assign(selected).write();\n  };\n\n  const loadDeck = (deck) => {\n    selected.supports = { 0: {}, 1: {}, 2: {}, 3: {}, 4: {}, 5: {} };\n    selected.player = {};\n    if (deck.playerId) {\n      selected.player = db.get(\"players\").find({ id: deck.playerId }).value();\n    }\n    setPlayer(selected.player);\n    deck.supportsId.forEach((id, index) => {\n      if (id) {\n        selected.supports[index] = db.get(\"supports\").find({ id: id }).value();\n      }\n    });\n    setSupports({ ...selected.supports });\n    dbL.get(\"selected\").assign(selected).write();\n  };\n\n  // race checkbox发生变化\n  const onChangeRace = (filterCondition) => {\n    setRaceFilterCondition(filterCondition);\n    //根据条件过滤\n    let tmpRaceList = Object.values(filterCondition).some((f) => f.length > 0)\n      ? Object.entries(filterCondition)\n          .filter(([key, filters]) => filters.length > 0)\n          .reduce(\n            (result, [key, filters]) => result.filter((race) => filters.includes(race[key])),\n            races\n          )\n      : [];\n    //过滤后整理成 dataNum:[raceId]\n    let tmpFilterRace = {};\n    for (let race of tmpRaceList) {\n      if (tmpFilterRace[race.dateNum]) {\n        tmpFilterRace[race.dateNum].push(race.id);\n      } else {\n        tmpFilterRace[race.dateNum] = [race.id];\n      }\n    }\n    //更新state\n    setFilterRace(tmpFilterRace);\n    selected.raceFilterCondition = filterCondition;\n    selected.filterRace = tmpFilterRace;\n    dbL\n      .get(\"selected\")\n      .assign({ ...selected })\n      .write();\n  };\n\n  const useViewport = () => {\n    const [width, setWidth] = React.useState(window.innerWidth);\n    const [height, setHeight] = React.useState(window.innerHeight);\n    React.useEffect(() => {\n      const handleWindowResize = () => {\n        setHeight(window.innerHeight);\n        setWidth(window.innerWidth);\n      };\n      window.addEventListener(\"resize\", handleWindowResize);\n      return () => window.removeEventListener(\"resize\", handleWindowResize);\n    }, []);\n    // console.log('currentWidth::',height);\n    return { height, width };\n  };\n\n  // const dynamicContentHeight = useViewport().height - 128\n  // 宽度0.3 高度0.5 取较小值\n  // const dynamicCardHeight = Math.min(Math.floor(dynamicContentHeight / 2), Math.floor(useViewport().width * 0.3))\n  // const dynamicCardWidth = Math.floor(dynamicCardHeight * 3 / 4)\n  // const dynamicCardBoxWidth = dynamicCardWidth * 3\n\n  const dynamicRowHeight = Math.floor((useViewport().height - 128 - 40) / 18);\n\n  const layoutWithBlank = [\n    { i: \"a\", x: 0, y: 0, w: 2, h: 2 },\n    { i: \"b\", x: 2, y: 0, w: 7, h: 2 },\n    { i: \"c\", x: 0, y: 2, w: 9, h: 7 },\n    { i: \"d\", x: 0, y: 10, w: 4, h: 4 },\n    { i: \"e\", x: 4, y: 10, w: 5, h: 7 },\n    { i: \"f\", x: 0, y: 14, w: 4, h: 3 },\n    // {i: 'w', x: 5, y: 10, w: 6, h: 7},\n    { i: \"s0\", x: 17, y: 0, w: 5, h: 8 },\n    { i: \"s1\", x: 22, y: 0, w: 5, h: 8 },\n    { i: \"s2\", x: 27, y: 0, w: 5, h: 8 },\n    { i: \"s3\", x: 17, y: 9, w: 5, h: 8 },\n    { i: \"s4\", x: 22, y: 9, w: 5, h: 8 },\n    { i: \"s5\", x: 27, y: 9, w: 5, h: 8 },\n  ];\n  const layoutWithoutBlank = [\n    { i: \"a\", x: 0, y: 0, w: 2, h: 2 },\n    { i: \"b\", x: 2, y: 0, w: 9, h: 2 },\n    { i: \"c\", x: 0, y: 2, w: 11, h: 7 },\n    { i: \"d\", x: 0, y: 10, w: 5, h: 4 },\n    { i: \"e\", x: 5, y: 10, w: 6, h: 7 },\n    { i: \"f\", x: 0, y: 14, w: 5, h: 3 },\n    // {i: 'w', x: 5, y: 10, w: 6, h: 7},\n    { i: \"s0\", x: 11, y: 0, w: 7, h: 8 },\n    { i: \"s1\", x: 18, y: 0, w: 7, h: 8 },\n    { i: \"s2\", x: 25, y: 0, w: 7, h: 8 },\n    { i: \"s3\", x: 11, y: 9, w: 7, h: 8 },\n    { i: \"s4\", x: 18, y: 9, w: 7, h: 8 },\n    { i: \"s5\", x: 25, y: 9, w: 7, h: 8 },\n  ];\n  const originalLayout = dbL.get(\"layout\").value() || layoutWithoutBlank;\n  const [layout, setLayout] = useState(originalLayout);\n  const onLayoutChange = (layout) => {\n    /*eslint no-console: 0*/\n    dbL.set(\"layout\", layout).write();\n    setLayout(layout);\n    // onLayoutChange(layout); // updates status display\n  };\n  const panelStyle = {\n    borderRadius: 16,\n    backgroundColor: \"white\",\n  };\n  const headStyle = {\n    width: \"100%\",\n    textAlign: \"center\",\n    backgroundColor: \"#ccc\",\n    cursor: \"move\",\n  };\n  const pBodyStyle = {\n    height: \"calc(100% - 22px)\",\n  };\n  return (\n    <>\n      <GridLayout\n        cols={32}\n        layout={layout}\n        draggableCancel=\".panel-title\"\n        draggableHandle=\".panel-heading\"\n        rowHeight={dynamicRowHeight}\n        width={useViewport().width - 10}\n        onLayoutChange={onLayoutChange}\n      >\n        <div key=\"a\" style={{ ...panelStyle }}>\n          <div className=\"panel-heading\" style={{ ...headStyle }}  onClick={showPlayer}>\n            {t(\"选择马娘\")}\n          </div>\n          {player.id && (\n            <img\n              src={cdnServer + player.imgUrl}\n              alt={player.imgUrl}\n              style={{ ...pBodyStyle }}\n              onClick={showPlayer}\n            ></img>\n          )}\n        </div>\n        <div key=\"b\" style={{ ...panelStyle }}>\n          <div className=\"panel-heading\" style={{ ...headStyle }}>\n            {t(\"操作\")}\n          </div>\n          <Button className=\"add-player\" type={\"primary\"}  onClick={showPlayer}>\n            {t(\"选择马娘\")}\n          </Button>\n          <Button onClick={showSupport2}>{t(\"支援卡查询\")}</Button>\n          <BuffButton />\n          <Popover\n            content={\n              <RaceCheckbox\n                onChange={onChangeRace}\n                raceFilterCondition={raceFilterCondition}\n              ></RaceCheckbox>\n            }\n          >\n            <Button>{t(\"比赛\")}</Button>\n          </Popover>\n          <MyDecks player={player} supports={supports} loadDeck={loadDeck}></MyDecks>\n          <RecommendDecks player={player} loadDeck={loadDeck}></RecommendDecks>\n\n          <Button onClick={() => setLayout(layoutWithBlank)}>{t(\"初始化布局(有留白)\")}</Button>\n          <Button onClick={() => setLayout(layoutWithoutBlank)}>{t(\"初始化布局(无留白)\")}</Button>\n        </div>\n        <div key=\"c\" style={{ ...panelStyle }}>\n          <div className=\"panel-heading\" style={{ ...headStyle }}>\n            {t(\"事件\")}\n          </div>\n          <ScrollBars autoHide={true} style={{ ...pBodyStyle }}>\n            {/* <p>{player.id}</p> */}\n            <EventList idList={player.eventList} sortFlag={true}></EventList>\n          </ScrollBars>\n        </div>\n        <div key=\"d\" style={{ ...panelStyle }}>\n          <div className=\"panel-heading\" style={{ ...headStyle }}>\n            {t(\"技能\")}\n          </div>\n          <ScrollBars autoHide={true} style={{ ...pBodyStyle }}>\n            <SkillList idList={player.skillList} isNur={true} size=\"small\" />\n          </ScrollBars>\n        </div>\n        <div key=\"e\" style={{ ...panelStyle }}>\n          <div className=\"panel-heading\" style={{ ...headStyle }}>\n            {t(\"比赛\")}\n          </div>\n          <ScrollBars autoHide={true} style={{ ...pBodyStyle }}>\n            <RaceTimeline raceList={player.raceList || []} filterRace={filterRace}></RaceTimeline>\n          </ScrollBars>\n        </div>\n        <div key=\"f\" style={{ ...panelStyle }}>\n          <div className=\"panel-heading\" style={{ ...headStyle }}>\n            {t(\"隐藏事件\")}\n          </div>\n          <ScrollBars autoHide={true} style={{ ...pBodyStyle }}>\n            <EventList idList={player.hideEvent}></EventList>\n          </ScrollBars>\n        </div>\n        {[0, 1, 2, 3, 4, 5].map((index) => {\n          let support = supports[index];\n          if (support.id) {\n            return (\n              <div key={`s${index}`} style={{ ...panelStyle }}>\n                <div className=\"panel-heading\" style={{ ...headStyle }}>\n                  <span\n                    className=\"panel-title\"\n                    onClick={() => showSupport(index)}\n                    style={{ cursor: \"pointer\" }}\n                  >\n                    {t(\"选择支援卡\")}\n                  </span>\n                </div>\n                <ScrollBars autoHide={true} style={{ ...pBodyStyle }}>\n                  <div style={{ display: \"flex\" }}>\n                    <img\n                      style={{ width: \"26%\", height: \"39%\" }}\n                      src={cdnServer + support.imgUrl}\n                      alt={support.imgUrl}\n                    ></img>\n                    <div style={{ flex: \"1 1 auto\" }}>\n                      <EventList\n                        idList={supports[index].eventList}\n                        pid={supports[index].id}\n                      ></EventList>\n                    </div>\n                  </div>\n                  <div style={{ margin: \"4px 0\", background: \"rgba(255,255,255,0.6)\" }}>\n                    {t(\"培训技能\")}\n                  </div>\n                  <SkillList idList={supports[index].possessionSkill} isNur={true} size=\"small\" />\n                  <div style={{ margin: \"4px 0\", background: \"rgba(255,255,255,0.6)\" }}>\n                    {t(\"事件技能\")}\n                  </div>\n                  <SkillList\n                    idList={supports[index].trainingEventSkill}\n                    isNur={true}\n                    size=\"small\"\n                  />\n                </ScrollBars>\n              </div>\n            );\n          } else {\n            return (\n              <div key={`s${index}`} style={{ ...panelStyle }}>\n                <Button onClick={() => showSupport(index)}>{t(\"选择支援卡\")}</Button>\n              </div>\n            );\n          }\n        })}\n      </GridLayout>\n      <Modal\n        visible={isPlayerVisible}\n        onOk={closePlayer}\n        onCancel={closePlayer}\n        width={\"80%\"}\n        bodyStyle={{ maxHeight: \"80vh\", display: \"flex\" }}\n      >\n        <Player onSelect={handleSelectPlayer}></Player>\n      </Modal>\n      <Modal\n        visible={isSupportVisible}\n        onOk={closeSupport}\n        onCancel={closeSupport}\n        width={\"80%\"}\n        bodyStyle={{ maxHeight: \"80vh\", display: \"flex\" }}\n      >\n        <Support onSelect={needSelect ? handleSelectSupport : null}></Support>\n      </Modal>\n    </>\n  );\n};\n\nexport default Nurturing;\n","import React, { useState } from \"react\";\nimport { useDidRecover } from \"react-router-cache-route\";\nimport db from \"../db.js\";\nimport t from \"../components/t.js\";\n\n// import { SkillButton, SkillCheckbox } from '../components/skill-detail.js'\nimport SkillList from \"../components/skill/SkillList\";\nimport SkillCheckbox from \"../components/skill/SkillCheckbox\";\nconst TITLE = \"技能 - 乌拉拉大胜利 - 赛马娘资料站\";\n\nconst Skill = (props) => {\n  document.title = TITLE;\n  useDidRecover(() => {\n    document.title = TITLE;\n  });\n  // 所有技能列表\n  const allSkillList = db.get(\"skills\").orderBy(\"db_id\").value();\n\n  const [skillList, setSkillList] = useState(allSkillList);\n\n  // init supportMode\n  localStorage.getItem(\"supportMode\") === null && localStorage.setItem(\"supportMode\", 0);\n\n  const onSkillCheckboxUpdate = (skillList) => {\n    setSkillList(skillList);\n  };\n\n  return (\n    <>\n      <div className=\"w-1/4 h-full flex flex-col p-1\">\n        <div className=\"w-full rounded m-1 h-12 flex items-center justify-center bg-blue-400 text-gray-100 text-xl font-semibold flex-shrink-0\">\n          {t(\"筛选\")}\n        </div>\n        <div className=\"overflow-y-auto flex-auto flex flex-col\">\n          <SkillCheckbox onUpdate={onSkillCheckboxUpdate}></SkillCheckbox>\n        </div>\n      </div>\n      <div className=\"w-3/4 flex flex-col p-1\">\n        <div className=\"w-full rounded m-1 h-12 flex items-center justify-center bg-blue-400 text-gray-100 text-xl font-semibold flex-shrink-0\">\n          {t(\"技能列表\")}\n        </div>\n        <div className=\" overflow-y-scroll overflow-x-hidden pl-4 w-full h-full flex flex-wrap\">\n          <SkillList dataList={skillList} sortFlag={true} />\n        </div>\n      </div>\n      <div className=\"col-span-1 rounded m-1 h-12 flex items-center justify-center bg-blue-400 text-gray-100 text-xl font-semibold \"></div>\n    </>\n  );\n};\n\nexport default Skill;\n","import React, { useState } from \"react\";\nimport {\n  Row,\n  Alert,\n  Image,\n  Button,\n  // Divider,\n  Table,\n  Modal,\n  Col,\n  Radio,\n  Rate,\n  Form,\n  Slider,\n  PageHeader,\n  Input,\n  // Space,\n  Card,\n} from \"antd\";\nimport { message } from \"antd\";\n//test\nimport { PlusOutlined, SmileOutlined, FrownOutlined, CopyOutlined, DeleteOutlined } from \"@ant-design/icons\";\nimport { CopyToClipboard } from \"react-copy-to-clipboard\";\nimport { useDidRecover } from 'react-router-cache-route'\nimport axios from \"axios\";\nimport db from \"../db.js\";\nimport dbL from \"../dbL.js\";\n// import t from \"../components/t.js\";\nimport \"./seed.css\";\n\nimport Player from \"./player.js\";\nimport Support from \"./support.js\";\nconst cdnServer = \"https://cdn.jsdelivr.net/gh/wrrwrr111/pretty-derby/public/\";\n// db.set('userId',null).write()\nlet userId = dbL.get(\"userId\").value();\nconst TITLE = '分享 - 乌拉拉大胜利 - 赛马娘资料站'\n// console.log(userId)\n\n/*\nuserId 随机生成\n种马玩家id\n种马id\n蓝色因子 - speed stamina power guts wisdom\n红色因子 - grass dirt shortDistance mile mediumDistance longDistance\n        - escapeR leadingR insertR trackingR\n绿色因子\n种马父id\n种马母id\n\ntotal blue\ntotal red\nwhite num\n*/\n// 生成一个userId\n\nconst blueLabels = {\n  speed: \"速度\",\n  stamina: \"耐力\",\n  power: \"力量\",\n  guts: \"根性\",\n  wisdom: \"智力\",\n};\nconst redLabels = {\n  grass: \"草地\",\n  dirt: \"泥地\",\n  shortDistance: \"短距离\",\n  mile: \"英里\",\n  mediumDistance: \"中距离\",\n  longDistance: \"长距离\",\n  escapeR: \"逃\",\n  leadingR: \"先\",\n  insertR: \"差\",\n  trackingR: \"追\",\n};\n\nconst PlayerInput = ({ value = {}, onChange }) => {\n  const [isPlayerVisible, setIsPlayerVisible] = useState(false);\n  const [data, setData] = useState({});\n  const showPlayer = (index) => {\n    setIsPlayerVisible(true);\n  };\n  const closePlayer = () => {\n    setIsPlayerVisible(false);\n  };\n  const triggerChange = (changedValue) => {\n    setIsPlayerVisible(false);\n    onChange?.({\n      ...data,\n      ...value,\n      ...changedValue,\n    });\n  };\n  const handleSelectPlayer = (data) => {\n    setData(data);\n    triggerChange(data);\n  };\n  return (\n    <>\n      <Image\n        src={data.imgUrl ? cdnServer + data.imgUrl : \"\"}\n        preview={false}\n        fallback=\"data:image/png;base64,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\"\n        width={80}\n        onClick={showPlayer}\n      ></Image>\n      <Modal visible={isPlayerVisible} onOk={closePlayer} onCancel={closePlayer} width={\"80%\"}>\n        <Player onClick={handleSelectPlayer}></Player>\n      </Modal>\n    </>\n  );\n};\nconst SupportInput = ({ value = {}, onChange }) => {\n  const [isSupportVisible, setIsSupportVisible] = useState(false);\n  const [data, setData] = useState({});\n  const showSupport = (index) => {\n    setIsSupportVisible(true);\n  };\n  const closeSupport = () => {\n    setIsSupportVisible(false);\n  };\n  const triggerChange = (changedValue) => {\n    setIsSupportVisible(false);\n    onChange?.({\n      ...data,\n      ...value,\n      ...changedValue,\n    });\n  };\n  const handleSelectSupport = (data) => {\n    setData(data);\n    triggerChange(data);\n  };\n  return (\n    <>\n      <Image\n        src={data.imgUrl ? cdnServer + data.imgUrl : \"\"}\n        preview={false}\n        fallback=\"data:image/png;base64,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\"\n        width={80}\n        onClick={showSupport}\n      ></Image>\n      <Modal visible={isSupportVisible} onOk={closeSupport} onCancel={closeSupport} width={\"80%\"}>\n        <Support onClick={handleSelectSupport}></Support>\n      </Modal>\n    </>\n  );\n};\nconst SeedInput = (props) => {\n  const [form] = Form.useForm();\n  const [seed, setSeed] = useState({});\n\n  const onFinish = async (value) => {\n    let tmpSeed = seed;\n    tmpSeed = Object.assign({}, seed, value);\n    setSeed(tmpSeed);\n    // db.set('form',form).write()\n    // 修整成需要的数据\n    const formData = { ...tmpSeed };\n    formData.userId = userId || dbL.get(\"userId\").value();\n    let updateTime = new Date().getTime();\n    formData.updateTime = updateTime;\n    formData[\"playerId0\"] = value[\"player0\"].id;\n    formData[\"playerId1\"] = value[\"player1\"].id;\n    formData[\"playerId2\"] = value[\"player2\"].id;\n    formData[\"supportId\"] = value[\"support\"].id;\n    delete formData[\"support\"];\n    delete formData[\"player0\"];\n    delete formData[\"player1\"];\n    delete formData[\"player2\"];\n    // formData[formData['blue0']]=formData['blueLevel0']\n    // formData[formData['red0']]=formData['redLevel0']\n    let list = [\"0\", \"1\", \"2\"];\n    list.forEach((i) => {\n      //统计蓝色因子\n      if (formData[formData[`blue${i}`]] !== undefined) {\n        formData[formData[`blue${i}`]] += formData[`blueLevel${i}`];\n      } else {\n        formData[formData[`blue${i}`]] = formData[`blueLevel${i}`];\n      }\n      //统计红色因子\n      if (formData[formData[`red${i}`]] !== undefined) {\n        formData[formData[`red${i}`]] += formData[`redLevel${i}`];\n      } else {\n        formData[formData[`red${i}`]] = formData[`redLevel${i}`];\n      }\n      //统计红色因子\n      if (formData[\"white\"] !== undefined) {\n        formData[\"white\"] += formData[`whiteNum${i}`];\n      } else {\n        formData[\"white\"] = formData[`whiteNum${i}`];\n      }\n      //统计ura\n      if (formData[\"uraLevel\"] !== undefined) {\n        formData['uraLevel'] += formData[`uraLevel${i}`]\n      } else {\n        formData['uraLevel'] = formData[`uraLevel${i}`]\n      }\n\n    });\n    const res = await axios.post(\"https://urarawin.com/api/sqlite/add\", formData);\n    if (res.data && res.data.success) {\n      message.info(\"成功添加\");\n      props.onFinish();\n    } else {\n      message.info(\"有地方出错了\");\n    }\n  };\n  const list = [\"主要\", \"父辈1\", \"父辈2\"];\n\n  const getFields = () => {\n    const children = [];\n    for (let i = 0; i < 3; i++) {\n      children.push(\n        <Col span={8} key={i}>\n          <PageHeader title={`${list[i]}`}></PageHeader>\n          <Row>\n            <Col span={6} offset={4}>\n              <Form.Item label=\"角色\" name={`player${i}`} rules={[{ required: true }]}>\n                <PlayerInput></PlayerInput>\n              </Form.Item>\n            </Col>\n          </Row>\n          <Form.Item label=\"蓝色因子\" name={`blue${i}`} rules={[{ required: true }]}>\n            <Radio.Group>\n              <Radio.Button value={\"speed\"}>{\"速度\"}</Radio.Button>\n              <Radio.Button value={\"stamina\"}>{\"耐力\"}</Radio.Button>\n              <Radio.Button value={\"power\"}>{\"力量\"}</Radio.Button>\n              <Radio.Button value={\"guts\"}>{\"根性\"}</Radio.Button>\n              <Radio.Button value={\"wisdom\"}>{\"智力\"}</Radio.Button>\n            </Radio.Group>\n          </Form.Item>\n          <Form.Item label=\"蓝色因子星数\" name={`blueLevel${i}`} rules={[{ required: true }]}>\n            <Rate count={3} />\n          </Form.Item>\n          <Form.Item label=\"红色因子\" name={`red${i}`} rules={[{ required: true }]}>\n            <Radio.Group>\n              <Radio.Button value={\"grass\"}>{\"草地/芝\"}</Radio.Button>\n              <Radio.Button value={\"dirt\"}>{\"泥地/ダート\"}</Radio.Button>\n              <hr />\n              <Radio.Button value={\"shortDistance\"}>{\"短距离\"}</Radio.Button>\n              <Radio.Button value={\"mile\"}>{\"英里\"}</Radio.Button>\n              <Radio.Button value={\"mediumDistance\"}>{\"中距离\"}</Radio.Button>\n              <Radio.Button value={\"longDistance\"}>{\"长距离\"}</Radio.Button>\n              <hr />\n              <Radio.Button value={\"escapeR\"}>{\"逃\"}</Radio.Button>\n              <Radio.Button value={\"leadingR\"}>{\"先\"}</Radio.Button>\n              <Radio.Button value={\"insertR\"}>{\"差\"}</Radio.Button>\n              <Radio.Button value={\"trackingR\"}>{\"追\"}</Radio.Button>\n            </Radio.Group>\n          </Form.Item>\n          <Form.Item label=\"红色因子星数\" name={`redLevel${i}`} rules={[{ required: true }]}>\n            <Rate count={3} />\n          </Form.Item>\n          <Form.Item label=\"绿色因子星数\" name={`greenLevel${i}`} initialValue={0}>\n            <Rate count={3} />\n          </Form.Item>\n          <Form.Item label=\"URA因子星数\" name={`uraLevel${i}`} initialValue={0}>\n            <Rate count={3} />\n          </Form.Item>\n          <Form.Item label=\"白色因子个数\" name={`whiteNum${i}`} initialValue={0}>\n            <Slider min={0} max={10} dots={true} tooltipPlacement={\"left\"}></Slider>\n          </Form.Item>\n        </Col>\n      );\n    }\n    return children;\n  };\n  return (\n    <Form name={\"因子信息\"} form={form} onFinish={onFinish}>\n      <Alert\n        message=\"目前每人只能配置一个种子 自觉维护自己的信息；第一次添加前先刷新 否则可能失败\"\n        type=\"info\"\n      ></Alert>\n      <Row gutter={24}>{getFields()}</Row>\n      <Row justify=\"end\">\n        <Col span={3}>\n          <Form.Item label=\"辅助卡\" name={\"support\"} rules={[{ required: true }]}>\n            <SupportInput></SupportInput>\n          </Form.Item>\n        </Col>\n        <Col span={4} offset={1}>\n          <Form.Item label=\"辅助卡突破\" name={\"supportLevel\"} initialValue={0}>\n            <Rate count={4} />\n          </Form.Item>\n        </Col>\n        <Col span={4} offset={1}>\n          <Form.Item\n            label=\"玩家id\"\n            name=\"gameId\"\n            rules={[\n              { required: true },\n              ({ getFieldValue }) => ({\n                validator(_, value) {\n                  if (value.match(/^[0-9]\\d*$/g) && value.length === 9) {\n                    return Promise.resolve();\n                  }\n                  return Promise.reject(new Error(\"输入正确的9位数id\"));\n                },\n              }),\n            ]}\n          >\n            <Input placeholder=\"id\" style={{ width: \"100%\" }}></Input>\n          </Form.Item>\n        </Col>\n        <Col span={2} offset={2}>\n          <Form.Item>\n            <Button type=\"primary\" htmlType=\"submit\">\n              提交\n            </Button>\n          </Form.Item>\n        </Col>\n      </Row>\n    </Form>\n  );\n};\n\nconst SearchOne = (props) => {\n  return (\n    <Form.List name={props.name}>\n      {(fields, { add, remove }, { errors }) => (\n        <>\n          <Row>\n            {fields.map((field, index) => (\n              <Col key={field.key} lg={8} md={12} xs={24}>\n                <Row>\n                  <Form.Item\n                    {...field}\n                    name={[field.name, \"attr\"]}\n                    fieldKey={[field.fieldKey, \"attr\"]}\n                    rules={[{ required: true }]}\n                    validateTrigger={[\"onChange\", \"onBlur\"]}\n                    noStyle\n                  >\n                    <Radio.Group>\n                      <Radio.Button value={\"speed\"}>{\"速度\"}</Radio.Button>\n                      <Radio.Button value={\"stamina\"}>{\"耐力\"}</Radio.Button>\n                      <Radio.Button value={\"power\"}>{\"力量\"}</Radio.Button>\n                      <Radio.Button value={\"guts\"}>{\"根性\"}</Radio.Button>\n                      <Radio.Button value={\"wisdom\"}>{\"智力\"}</Radio.Button>\n                      <br />\n                      <Radio.Button value={\"grass\"}>{\"草地/芝\"}</Radio.Button>\n                      <Radio.Button value={\"dirt\"}>{\"泥地/ダート\"}</Radio.Button>\n                      <br />\n                      <Radio.Button value={\"shortDistance\"}>{\"短距离\"}</Radio.Button>\n                      <Radio.Button value={\"mile\"}>{\"英里\"}</Radio.Button>\n                      <Radio.Button value={\"mediumDistance\"}>{\"中距离\"}</Radio.Button>\n                      <Radio.Button value={\"longDistance\"}>{\"长距离\"}</Radio.Button>\n                      <br />\n                      <Radio.Button value={\"escapeR\"}>{\"逃\"}</Radio.Button>\n                      <Radio.Button value={\"leadingR\"}>{\"先\"}</Radio.Button>\n                      <Radio.Button value={\"insertR\"}>{\"差\"}</Radio.Button>\n                      <Radio.Button value={\"trackingR\"}>{\"追\"}</Radio.Button>\n                      <br />\n                      <Radio.Button value={\"uraLevel\"}>{\"URA\"}</Radio.Button>\n                    </Radio.Group>\n                  </Form.Item>\n                </Row>\n                <Row>\n                  <Form.Item\n                    {...field}\n                    name={[field.name, \"level\"]}\n                    fieldKey={[field.fieldKey, \"level\"]}\n                    rules={[{ required: true }]}\n                  >\n                    <Rate count={props.max} />\n                  </Form.Item>\n                </Row>\n                <Col span={5}>\n                  <Button type=\"dashed\" onClick={() => remove(field.name)}>\n                    移除\n                  </Button>\n                </Col>\n              </Col>\n            ))}\n          </Row>\n          <Row justify=\"start\">\n            <Form.Item>\n              <Button\n                type=\"dashed\"\n                onClick={() => add()}\n                // style={{ width: '60%' }}\n                icon={<PlusOutlined />}\n              >\n                添加过滤条件\n              </Button>\n\n              <Form.ErrorList errors={errors} />\n            </Form.Item>\n          </Row>\n        </>\n      )}\n    </Form.List>\n  );\n};\n\nconst SearchForm = (props) => {\n  const [form] = Form.useForm();\n  const onFinish = async (value) => {\n    let formData = { attrs: [], levels: [] };\n    if (value[\"player0\"]) {\n      formData.attrs.push(\"playerId0\");\n      formData.levels.push(value[\"player0\"].id);\n    }\n    if (value[\"supportLevel\"]) {\n      formData.attrs.push(\"supportLevel\");\n      formData.levels.push(value[\"supportLevel\"]);\n    }\n    if (value[\"support\"]) {\n      formData.attrs.push(\"supportId\");\n      formData.levels.push(value[\"support\"].id);\n    }\n    value.p0?.forEach((item) => {\n      if (blueLabels[item.attr]) {\n        formData[\"blue0\"] = item.attr;\n        formData.attrs.push(\"blueLevel0\");\n        formData.levels.push(item.level);\n      } else if (redLabels[item.attr]) {\n        formData[\"red0\"] = item.attr;\n        formData.attrs.push(\"redLevel0\");\n        formData.levels.push(item.level);\n      } else if (item.attr === 'uraLevel') {\n        formData.attrs.push(\"uraLevel0\");\n        formData.levels.push(item.level);\n      }\n    });\n    value.p1?.forEach((item) => {\n      formData.attrs.push(item.attr);\n      formData.levels.push(item.level);\n    });\n\n    props.search(formData);\n  };\n  const onReset = () => {\n    form.resetFields();\n  };\n  return (\n    <Form name=\"搜索\" form={form} onFinish={onFinish} className=\"seed-form\">\n      <Row>\n        <Form.Item label=\"角色\" name={`player0`}>\n          <PlayerInput></PlayerInput>\n        </Form.Item>\n      </Row>\n      <SearchOne name=\"p0\" max=\"3\"></SearchOne>\n      <div>总计:</div>\n      <SearchOne name=\"p1\" max=\"9\"></SearchOne>\n      <Row>\n        <Form.Item label=\"支援卡\" name={\"support\"}>\n          <SupportInput></SupportInput>\n        </Form.Item>\n        <Form.Item label=\"突破等级\" name={\"supportLevel\"} initialValue={0}>\n          <Rate count={4} />\n        </Form.Item>\n      </Row>\n      <Row justify=\"end\">\n        <Form.Item>\n          <Button htmlType=\"button\" onClick={() => onReset()}>\n            重置\n          </Button>\n        </Form.Item>\n        <Form.Item>\n          <Button type=\"primary\" htmlType=\"submit\">\n            搜索\n          </Button>\n        </Form.Item>\n      </Row>\n    </Form>\n  );\n};\n\nconst PlayerImage = (props) => {\n  let imgUrl = db.get(\"players\").find({ id: props.id }).value().imgUrl;\n  return (\n    <Image\n      src={cdnServer + imgUrl}\n      fallback=\"data:image/png;base64,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\"\n      width={80}\n      preview={false}\n    ></Image>\n  );\n};\n\nconst SupportImage = (props) => {\n  let support = db.get(\"supports\").find({ id: props.id }).value();\n  let imgUrl = \"\";\n  if (support) {\n    imgUrl = support.imgUrl;\n  }\n  return (\n    <Image\n      src={cdnServer + imgUrl}\n      fallback=\"data:image/png;base64,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\"\n      width={80}\n      preview={false}\n    ></Image>\n  );\n};\n\nconst Seed = () => {\n  document.title = TITLE\n  useDidRecover(() => {\n    document.title = TITLE\n  })\n  const [isSeedInputVisible, setIsSeedInputVisible] = useState(false);\n  const [seedList, setSeedList] = useState([]);\n  const [total, setTotal] = useState(0)\n  // const [current, setCurrent] = useState(0)\n  const [value, setValue] = useState()\n\n  const columns = [\n    {\n      title: \"玩家id\",\n      dataIndex: \"gameId\",\n      key: \"gameId\",\n      render: (text, seed) => (\n        <>\n          <Row>\n            <p>{text}</p>\n            <CopyToClipboard text={text} onCopy={() => message.info(\"成功\")}>\n              <Button shape=\"circle\" icon={<CopyOutlined />} />\n            </CopyToClipboard>\n          </Row>\n          <Row align=\"middle\">\n            <Button shape=\"circle\" icon={<SmileOutlined />} onClick={() => like(seed)} />\n            <p>{seed.likes}</p>\n          </Row>\n          <Row align=\"middle\">\n            <Button shape=\"circle\" icon={<FrownOutlined />} onClick={() => dislike(seed)} />\n            <p>{seed.dislikes}</p>\n          </Row>\n          {seed.userId === userId && <Row align=\"middle\">\n            <Button shape=\"circle\" icon={<DeleteOutlined />}\n              style={{ color: 'red' }} onClick={() => deleteSeed(seed)} />\n          </Row>}\n        </>\n      ),\n    },\n    {\n      title: \"主要\",\n      dataIndex: \"playerId0\",\n      key: \"playerId0\",\n      render: (text) => <PlayerImage id={text}></PlayerImage>,\n    },\n    {\n      title: \"蓝色因子\",\n      dataIndex: \"blue0\",\n      key: \"blue0\",\n      render: (text, record) =>\n        <span className=\"rate-label\">\n          {`${blueLabels[text]}\\xa0\\xa0${record[\"blueLevel0\"]}`}\n        </span>\n      ,\n    },\n    {\n      title: \"红色因子\",\n      dataIndex: \"red0\",\n      key: \"red0\",\n      render: (text, record) =>\n        <span className=\"rate-label\">\n          {`${redLabels[text]}\\xa0\\xa0${record[\"redLevel0\"]}`}\n        </span>\n      ,\n    },\n    {\n      title: \"绿色因子\",\n      dataIndex: \"greenLevel0\",\n      key: \"greenLevel0\",\n      render: (text, record) =>\n        <span className=\"rate-label\">\n          {`固有\\xa0\\xa0${record[\"greenLevel0\"]}`}\n        </span>\n      ,\n    }, {\n      title: \"URA\",\n      dataIndex: \"uraLevel0\",\n      key: \"uraLevel0\",\n      render: (text, record) =>\n        <span className=\"rate-label\">\n          {`${record[\"uraLevel0\"]? `URA  ${record[\"uraLevel0\"]}`:''}`}\n        </span>\n      ,\n    },\n    {\n      title: \"父辈1\",\n      dataIndex: \"playerId1\",\n      key: \"playerId1\",\n      render: (text) => <PlayerImage id={text}></PlayerImage>,\n    },\n    {\n      title: \"父辈2\",\n      dataIndex: \"playerId2\",\n      key: \"playerId2\",\n      render: (text) => <PlayerImage id={text}></PlayerImage>,\n    },\n    {\n      title: \"总计蓝色\",\n      key: \"allBlue\",\n      render: (text, record) =>\n        Object.keys(blueLabels).map((key) => {\n          if (record[key]) {\n            // console.log(key,record[key])\n            return (\n              <span className=\"rate-label\">\n                {`${blueLabels[key]}\\xa0\\xa0${record[key]}`}\n              </span>\n            );\n          } else {\n            return null;\n          }\n        }),\n    },\n    {\n      title: \"总计红色\",\n      key: \"allRed\",\n      render: (text, record) =>\n        Object.keys(redLabels).map((key) => {\n          if (record[key]) {\n            return (\n              <span className=\"rate-label\">\n                {`${redLabels[key]}\\xa0\\xa0${record[key]}`}\n              </span>\n            );\n          } else {\n            return null;\n          }\n        }),\n    },\n    { title: \"总计URA\", dataIndex: \"uraLevel\", key: \"uraLevel\", render: (text) => text },\n    { title: \"总计白色\", dataIndex: \"white\", key: \"white\", render: (text) => text },\n    {\n      title: \"支援卡\",\n      dataIndex: \"supportId\",\n      key: \"supportId\",\n      render: (text) => <SupportImage id={text}></SupportImage>,\n    },\n    {\n      title: \"突破等级\",\n      dataIndex: \"supportLevel\",\n      key: \"supportLevel\",\n      render: (text, record) => (\n        <Row>\n          <Rate count={4} value={record[\"supportLevel\"]} disabled></Rate>\n        </Row>\n      ),\n    },\n  ];\n\n  const showSeedInput = (index) => {\n    setIsSeedInputVisible(true);\n  };\n  const closeSeedInput = () => {\n    setIsSeedInputVisible(false);\n  };\n  const showMySeed = () => {\n    search({ attrs: ['userId'], levels: [userId] })\n  }\n  const deleteSeed = async (value) => {\n    const res = await axios.post(\"https://urarawin.com/api/sqlite/delete\", value);\n    if (res.data) {\n      message.info(\"成功删除\");\n    } else {\n      message.info(\"出错了\");\n    }\n  }\n  const search = async (value) => {\n    setValue(value)\n    const res = await axios.post(\"https://urarawin.com/api/sqlite/search\", value);\n    // setCurrent(0)\n    if (res.data) {\n      if (res.data.count) {\n        setSeedList([...res.data.list]);\n        setTotal(res.data.count)\n      } else {\n        setSeedList([]);\n        setTotal(0)\n        message.info(\"暂无数据\");\n      }\n    } else {\n      message.info(\"出错了\");\n    }\n  };\n  const like = async (seed) => {\n    if (!userId) {\n      message.info(\"刷新后重试\");\n      return;\n    }\n    let id = seed.id;\n    const res = await axios.post(\"https://urarawin.com/api/sqlite/like\", { id, userId });\n    if (res.data) {\n      message.info(\"成功\");\n      seed.likes +=1\n    }\n    setSeedList([...seedList]);\n  };\n  const dislike = async (seed) => {\n    if (!userId) {\n      message.info(\"刷新后重试\");\n      return;\n    }\n    let id = seed.id;\n    const res = await axios.post(\"https://urarawin.com/api/sqlite/dislike\", { id, userId });\n    if (res.data) {\n      message.info(\"成功\");\n      seed.dislikes +=1\n    }\n    setSeedList([...seedList]);\n  };\n  const onChange = (e) => {\n    search({\n      ...value,\n      count: e.total,\n      offset: e.current * 10 - 10\n    })\n  }\n  return (\n    <>\n      <div className=\"seed-container\">\n        <Card className=\"card\" title=\"过滤条件\">\n          <SearchForm search={search}></SearchForm>\n          <Button onClick={() => showSeedInput()}>配置我的种子</Button>\n          <Button onClick={() => showMySeed()}>查看我的种子</Button>\n        </Card>\n        <Card className=\"card\" title=\"结果\">\n          <Table columns={columns} dataSource={seedList} onChange={onChange}\n            pagination={{ pageSize: 10, total: total,simple:true,showQuickJumper:false,\n              position: ['topRight', 'bottomRight'] }} rowKey={\"id\"} />\n        </Card>\n      </div>\n      <Modal\n        visible={isSeedInputVisible}\n        onOk={closeSeedInput}\n        onCancel={closeSeedInput}\n        footer={null}\n        width={\"80%\"}\n      >\n        <SeedInput onFinish={closeSeedInput}></SeedInput>\n      </Modal>\n    </>\n  );\n};\nexport default Seed;\n","import React, { useState } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport shortid from 'shortid'\nimport { useDidRecover } from 'react-router-cache-route'\nimport db from '../db.js'\nimport dbL from '../dbL.js'\nimport t from '../components/t.js'\nimport {\n  Divider,\n  Row,\n  Col,\n  Modal,\n  Button,\n  Popconfirm,\n  Popover,\n  // Tooltip\n} from 'antd';\nimport { EditOutlined } from '@ant-design/icons'\n\n\n// import Race from './race.js'\nimport Player from '../pages/player.js'\nimport Support from '../pages/support.js'\nimport {\n  // RaceSchedule,\n  RaceTimeline,\n  RaceCheckbox\n} from '../components/race'\n\nconst cdnServer = 'https://cdn.jsdelivr.net/gh/wrrwrr111/pretty-derby/public/'\nconst TITLE = '育成 - 乌拉拉大胜利 - 赛马娘资料站'\n\n\nconst Nurturing = (props) => {\n  document.title = TITLE\n  useDidRecover(() => {\n    document.title = TITLE\n  })\n  const [needSelect, setNeedSelect] = useState(false)\n  const [isPlayerVisible, setIsPlayerVisible] = useState(false);\n\n  const [isSupportVisible, setIsSupportVisible] = useState(false);\n  const [supportIndex, setSupportIndex] = useState(1);\n\n  // const [isRaceVisible, setIsRaceVisible] = useState(false);\n\n  const selected = dbL.get('selected').value()\n  const [supports, setSupports] = useState(selected.supports);\n  const [player, setPlayer] = useState(selected.player);\n  const races = db.get('races').value()\n  const [raceFilterCondition, setRaceFilterCondition] = useState(selected.raceFilterCondition || {\n    distanceType: [],\n    grade: [],\n    ground: []\n  })\n  const [filterRace, setFilterRace] = useState(selected.filterRace || {})\n  const [decks, setDecks] = useState(dbL.get('myDecks').value())\n\n\n\n  const showPlayer = () => {\n    setIsPlayerVisible(true);\n  };\n  const closePlayer = () => {\n    setIsPlayerVisible(false);\n  };\n  const handleSelectPlayer = (data) => {\n    setIsPlayerVisible(false);\n    setPlayer(data)\n\n    // save\n    selected.player = data\n    dbL.get('selected').assign(selected).write()\n  }\n\n  const showSupport = (index) => {\n    setNeedSelect(true)\n    setIsSupportVisible(true);\n    setSupportIndex(index)\n  };\n  const showSupport2 = (index) => {\n    setNeedSelect(false)\n    setIsSupportVisible(true);\n    setSupportIndex(index)\n  };\n\n  const closeSupport = () => {\n    setIsSupportVisible(false);\n  };\n  const handleSelectSupport = (data) => {\n    let newData = {}\n    newData[supportIndex] = data\n    setSupports(Object.assign({}, supports, newData))\n    setIsSupportVisible(false);\n\n    // save\n    selected.supports[supportIndex] = data\n    dbL.get('selected').assign(selected).write()\n  }\n\n\n  // 卡组相关操作\n  const saveDeck = (deck) => {\n    let tmpDeck = {\n      imgUrls: [],\n      supportsId: [],\n    }\n    if (player.id) {\n      tmpDeck.playerId = player.id\n      tmpDeck.imgUrls.push(player.imgUrl)\n    }\n    [0, 1, 2, 3, 4, 5].forEach(index => {\n      if (supports[index] && supports[index].id) {\n        tmpDeck.imgUrls.push(supports[index].imgUrl)\n        tmpDeck.supportsId.push(supports[index].id)\n      } else {\n        tmpDeck.supportsId.push(null)\n      }\n    })\n    if (deck) {\n      //update\n      dbL.get('myDecks').find({ id: deck.id }).assign(tmpDeck).write()\n    } else {\n      //\n      tmpDeck.id = shortid.generate()\n      dbL.get('myDecks').push(tmpDeck).write()\n    }\n    setDecks([...dbL.get('myDecks').value()])\n  }\n  const loadDeck = (deck) => {\n    selected.supports = { 0: {}, 1: {}, 2: {}, 3: {}, 4: {}, 5: {} }\n    selected.player = {}\n    if (deck.playerId) {\n      selected.player = db.get('players').find({ id: deck.playerId }).value()\n    }\n    setPlayer(selected.player)\n    deck.supportsId.forEach((id, index) => {\n      if (id) {\n        selected.supports[index] = db.get('supports').find({ id: id }).value()\n      }\n    })\n    setSupports({ ...selected.supports })\n    db.get('selected').assign(selected).write()\n  }\n  const deleteDeck = (deck) => {\n    dbL.get('myDecks').remove({ id: deck.id }).write()\n    setDecks([...dbL.get('myDecks').value()])\n  }\n  // race checkbox发生变化\n  const onChangeRace = (filterCondition) => {\n    setRaceFilterCondition(filterCondition)\n    //根据条件过滤\n    let tmpRaceList = Object.values(filterCondition).some(f => f.length > 0)\n      ? Object.entries(filterCondition)\n        .filter(([key, filters]) => filters.length > 0)\n        .reduce((result, [key, filters]) => result.filter(race => filters.includes(race[key])), races)\n      : [];\n    //过滤后整理成 dataNum:[raceId]\n    let tmpFilterRace = {}\n    for (let race of tmpRaceList) {\n      if (tmpFilterRace[race.dateNum]) {\n        tmpFilterRace[race.dateNum].push(race.id)\n      } else {\n        tmpFilterRace[race.dateNum] = [race.id]\n      }\n    }\n    //更新state\n    setFilterRace(tmpFilterRace)\n    selected.raceFilterCondition = filterCondition\n    selected.filterRace = tmpFilterRace\n    dbL.get('selected').assign({ ...selected }).write()\n  }\n\n  const toSupportDetail = (id) => {\n    props.history.push(`/support-detail/${id}`)\n  }\n  const toPlayerDetail = (id) => {\n    props.history.push(`/player-detail/${id}/1`)\n  }\n  const toBuffList = (id) => {\n    props.history.push(`/buff`)\n  }\n\n  return (<>\n    <div style={{ display: 'flex', justifyContent: 'center' }}>\n      {player.imgUrl &&\n        <img src={cdnServer + player.imgUrl} alt={player.imgUrl} width='128'\n          onClick={() => toPlayerDetail(player.id)}></img>\n      }\n      <div style={{ flex: '1 1 auto', flexWrap: 'wrap', display: 'flex', justifyContent: 'center' }} >\n        <Button type={'primary'} onClick={showPlayer}>{t('选择马娘')}</Button>\n        <Button onClick={showSupport2}>{t('支援卡查询')}</Button>\n        <Button onClick={toBuffList}>{t('BUFF')}</Button>\n        <Popover trigger='click' content={\n          <RaceCheckbox onChange={onChangeRace} raceFilterCondition={raceFilterCondition}></RaceCheckbox>\n        }>\n          <Button>{t('比赛')}</Button>\n        </Popover>\n        <Popover trigger='click' width={'80%'} content={\n          <>\n            <Button onClick={() => saveDeck()}>{t('保存为新卡组')}</Button>\n            {decks.map(deck =>\n              <Row key={deck.id}>\n                {deck.imgUrls.map(imgUrl =>\n                  <Col span={3} key={imgUrl}>\n                    <img src={cdnServer + imgUrl} alt={imgUrl} width={'100'}></img>\n                  </Col>\n                )}\n                <Col span={3}>\n                  <Button type=\"primary\" onClick={() => loadDeck(deck)}>{t('读取卡组')}</Button>\n                  <Popconfirm title=\"确认覆盖？\" onConfirm={() => saveDeck(deck)}>\n                    <Button danger type=\"dashed\">{t('覆盖卡组')}</Button>\n                  </Popconfirm>\n                  <Popconfirm title=\"确认删除？\" onConfirm={() => deleteDeck(deck)}>\n                    <Button danger type=\"dashed\">{t('删除卡组')}</Button>\n                  </Popconfirm>\n                </Col>\n              </Row>\n            )}\n          </>\n        }><Button>{t('我的卡组')}</Button>\n        </Popover>\n      </div>\n    </div>\n\n\n    <Row justify=\"space-around\">\n      {[0, 1, 2, 3, 4, 5].map(index =>\n        <Col span={7} key={index} style={{}}>\n          <Button icon={<EditOutlined />} onClick={() => showSupport(index)}>{t('选择支援卡')}</Button>\n          {supports[index] && supports[index].id &&\n            <img src={cdnServer + supports[index].imgUrl} alt={supports[index].name} width={'100%'}\n              onClick={() => toSupportDetail(supports[index].id)}></img>\n          }\n        </Col>\n      )}\n    </Row>\n\n    <Divider>比赛</Divider>\n    <div style={{ overflow: 'auto', paddingTop: '10px', width: '100%', height: '400px' }}>\n      <RaceTimeline raceList={player.raceList} filterRace={filterRace}></RaceTimeline>\n    </div>\n\n    <Modal visible={isPlayerVisible} onOk={closePlayer} onCancel={closePlayer} footer={null} width={'80%'}>\n      <Player onSelect={handleSelectPlayer}></Player>\n    </Modal>\n    <Modal visible={isSupportVisible} onOk={closeSupport} onCancel={closeSupport} footer={null} width={'80%'}>\n      <Support onSelect={needSelect ? handleSelectSupport : null} ></Support>\n    </Modal>\n  </>\n  )\n}\n\nexport default withRouter(Nurturing)\n\n\n","import React,{useState} from 'react';\r\n\r\nimport { Picker, List,Flex,Card } from 'antd-mobile';\r\n\r\nimport { Image,Button,Divider,Modal,Rate,Form} from 'antd';\r\nimport {message} from 'antd'\r\n//test\r\nimport {PlusOutlined,SmileOutlined,FrownOutlined,CopyOutlined } from '@ant-design/icons';\r\nimport {CopyToClipboard} from 'react-copy-to-clipboard';\r\nimport { useDidRecover } from 'react-router-cache-route'\r\nimport axios from 'axios'\r\nimport db from '../db.js'\r\nimport t from '../components/t.js'\r\nimport Player from '../pages/player.js'\r\nimport Support from '../pages/support.js'\r\nconst cdnServer = 'https://cdn.jsdelivr.net/gh/wrrwrr111/pretty-derby/public/'\r\nconst TITLE = '分享 - 乌拉拉大胜利 - 赛马娘资料站'\r\nlet userId = db.get('userId').value()\r\nconst blueLabels={\r\n  'speed':'速度',\r\n  'stamina':'耐力',\r\n  'power':'力量',\r\n  'guts':'根性',\r\n  'wisdom':'智力'\r\n}\r\nconst redLabels = {\r\n  'grass':'草地',\r\n  'dirt':'泥地',\r\n  'shortDistance':'短距离',\r\n  'mile':'英里',\r\n  'mediumDistance':'中距离',\r\n  'longDistance':'长距离',\r\n  'escapeR':'逃',\r\n  'leadingR':'先',\r\n  'insertR':'差',\r\n  'trackingR':'追'}\r\n\r\nconst lists = [\r\n  [\r\n    {value:'speed',label:t('速度')},\r\n    {value:'stamina',label:t('耐力')},\r\n    {value:'power',label:t('力量')},\r\n    {value:'guts',label:t('根性')},\r\n    {value:'wisdom',label:t('智力')},\r\n    {value:'grass',label:t('草地')},\r\n    {value:'dirt',label:t('泥地')},\r\n    {value:'shortDistance',label:t('短距离')},\r\n    {value:'mile',label:t('英里')},\r\n    {value:'mediumDistance',label:t('中距离')},\r\n    {value:'longDistance',label:t('长距离')},\r\n    {value:'escapeR',label:t('逃')},\r\n    {value:'leadingR',label:t('先')},\r\n    {value:'insertR',label:t('差')},\r\n    {value:'trackingR',label:t('追')}\r\n  ],[\r\n    {value:1,label:`1${t('星')}`},\r\n    {value:2,label:`2${t('星')}`},\r\n    {value:3,label:`3${t('星')}`},\r\n    {value:4,label:`4${t('星')}`},\r\n    {value:5,label:`5${t('星')}`},\r\n    {value:6,label:`6${t('星')}`},\r\n    {value:7,label:`7${t('星')}`},\r\n    {value:8,label:`8${t('星')}`},\r\n    {value:9,label:`9${t('星')}`},\r\n  ]\r\n]\r\n\r\n\r\n\r\nconst PlayerInput = ({ value = {}, onChange }) => {\r\n  const [isPlayerVisible, setIsPlayerVisible] = useState(false);\r\n  const [data, setData] = useState({});\r\n  const showPlayer = (index) => {\r\n    setIsPlayerVisible(true);\r\n  };\r\n  const closePlayer = () => {\r\n    setIsPlayerVisible(false);\r\n  };\r\n  const triggerChange = (changedValue)=>{\r\n    setIsPlayerVisible(false);\r\n    onChange?.({\r\n      ...data,\r\n      ...value,\r\n      ...changedValue,\r\n    })\r\n  }\r\n  const handleSelectPlayer = (data)=>{\r\n    setData(data)\r\n    triggerChange(data)\r\n  }\r\n  return (\r\n    <>\r\n      <Image src={data.imgUrl?cdnServer+data.imgUrl:''}\r\n        preview={false} fallback=\"data:image/png;base64,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\"\r\n        width={'100%'} style={{minWidth:'100px'}} onClick={showPlayer}>\r\n      </Image>\r\n        <Modal visible={isPlayerVisible} onOk={closePlayer} onCancel={closePlayer} width={'80%'}>\r\n          <Player onSelect={handleSelectPlayer}></Player>\r\n        </Modal>\r\n    </>\r\n  );\r\n};\r\nconst SupportInput = ({ value = {}, onChange }) => {\r\n  const [isSupportVisible, setIsSupportVisible] = useState(false);\r\n  const [data, setData] = useState({});\r\n  const showSupport = (index) => {\r\n    setIsSupportVisible(true);\r\n  };\r\n  const closeSupport = () => {\r\n    setIsSupportVisible(false);\r\n  };\r\n  const triggerChange = (changedValue)=>{\r\n    setIsSupportVisible(false);\r\n    onChange?.({\r\n      ...data,\r\n      ...value,\r\n      ...changedValue,\r\n    })\r\n  }\r\n  const handleSelectSupport = (data)=>{\r\n    setData(data)\r\n    triggerChange(data)\r\n  }\r\n  return (\r\n    <>\r\n      <Image src={data.imgUrl?cdnServer+data.imgUrl:''}\r\n        preview={false} fallback=\"data:image/png;base64,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\"\r\n        width={'100%'} style={{minWidth:'100px'}}  onClick={showSupport}>\r\n      </Image>\r\n        <Modal visible={isSupportVisible} onOk={closeSupport} onCancel={closeSupport} width={'80%'}>\r\n          <Support onSelect={handleSelectSupport}></Support>\r\n        </Modal>\r\n    </>\r\n  );\r\n};\r\n\r\nconst SearchOne = (props)=>{\r\n  return(\r\n    <Form.List name={props.name}>\r\n      {(fields, { add, remove }, { errors }) => (\r\n          <List>\r\n            {fields.map((field, index) => (\r\n                <Form.Item {...field} key={field.key}\r\n                  name={[field.name,'attr']}\r\n                  fieldKey={[field.fieldKey,'attr']}\r\n                  rules={[{required: true}]} validateTrigger={['onChange', 'onBlur']} noStyle>\r\n                      <Picker\r\n                        data={lists}\r\n                        cascade={false}\r\n                        extra={t('请选择')}\r\n                        ><List.Item arrow=\"horizontal\">{t('过滤条件(总计)')}</List.Item>\r\n                      </Picker>\r\n                </Form.Item>\r\n            ))}\r\n            <List.Item>\r\n                <Button\r\n                  type=\"dashed\"\r\n                  onClick={() => add()}\r\n                  icon={<PlusOutlined />}\r\n                  >\r\n                  {t('添加过滤条件')}\r\n                </Button>\r\n            </List.Item>\r\n          </List>\r\n        )}\r\n      </Form.List>\r\n  )\r\n}\r\nconst SearchForm = (props)=>{\r\n  const [form] = Form.useForm()\r\n\r\n  const onFinish = async (value)=>{\r\n    let formData = {attrs:[],levels:[]}\r\n    if(value['player0']){\r\n      formData.attrs.push('playerId0')\r\n      formData.levels.push(value['player0'].id)\r\n    }\r\n    if(value['support']){\r\n      formData.attrs.push('supportId')\r\n      formData.levels.push(value['support'].id)\r\n    }\r\n    value.p1?.forEach(item=>{\r\n      formData.attrs.push(item.attr[0])\r\n      formData.levels.push(item.attr[1])\r\n    })\r\n\r\n    props.search(formData)\r\n  }\r\n  const onReset = ()=>{\r\n    form.resetFields();\r\n  }\r\n  return(\r\n    <Form name='搜索' form={form} onFinish={onFinish} className=\"seed-form\">\r\n      <SearchOne name='p1'></SearchOne>\r\n      <Flex align='start'>\r\n        <Flex.Item>\r\n          <p>{t('角色')}</p>\r\n          <Form.Item name={`player0`}>\r\n              <PlayerInput></PlayerInput>\r\n          </Form.Item>\r\n        </Flex.Item>\r\n        <Flex.Item>\r\n          <p>{t('支援卡')}</p>\r\n          <Form.Item name={'support'}>\r\n            <SupportInput></SupportInput>\r\n          </Form.Item>\r\n        </Flex.Item>\r\n        <Flex.Item>\r\n          <p>{t('突破等级')}</p>\r\n          <Form.Item name={'supportLevel'} initialValue={0}>\r\n            <Rate count={4} />\r\n          </Form.Item>\r\n        </Flex.Item>\r\n      </Flex>\r\n      <Flex justify='end'>\r\n        <Form.Item>\r\n          <Button htmlType=\"button\" onClick={()=>onReset()}>\r\n            {t('重置')}\r\n          </Button>\r\n        </Form.Item>\r\n        <Form.Item>\r\n          <Button type=\"primary\" htmlType=\"submit\">\r\n            {t('搜索')}\r\n          </Button>\r\n        </Form.Item>\r\n      </Flex>\r\n    </Form>\r\n  )\r\n}\r\nconst PlayerImage = (props)=>{\r\n  let imgUrl =  db.get('players').find({id:props.id}).value().imgUrl\r\n  return <Image src={cdnServer+imgUrl} fallback=\"data:image/png;base64,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\"\r\n        width={80}  preview={false}></Image>\r\n}\r\nconst SupportImage = (props)=>{\r\n  let support = db.get('supports').find({id:props.id}).value()\r\n  let imgUrl = ''\r\n  if(support){\r\n    imgUrl =  support.imgUrl\r\n  }\r\n  return <Image src={cdnServer+imgUrl} fallback=\"data:image/png;base64,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\"\r\n        width={80} preview={false}></Image>\r\n}\r\n\r\nconst Seed = ()=>{\r\n  document.title = TITLE\r\n  useDidRecover(() => {\r\n    document.title = TITLE\r\n  })\r\n  const SeedCard = (props) =>{\r\n    const data = props.data\r\n    return (\r\n      <Card>\r\n        <Flex>\r\n            <p style={{fontSize:'1.5em'}}>{data.gameId}</p>\r\n            <CopyToClipboard text={data.gameId} onCopy={()=>message.info('成功')}>\r\n              <Button shape=\"circle\" icon={<CopyOutlined />}/>\r\n            </CopyToClipboard>\r\n        </Flex>\r\n        <Flex>\r\n          <Flex.Item>\r\n            <PlayerImage id={data['playerId0']}></PlayerImage>\r\n            <SupportImage id={data['supportId']}></SupportImage>\r\n            <Flex align='middle'>\r\n              <Button shape=\"circle\" icon={<SmileOutlined />} onClick={()=>like(data)}/>\r\n              <p>{data.likes}</p>\r\n            </Flex>\r\n            <Flex align='middle'>\r\n              <Button shape=\"circle\" icon={<FrownOutlined />} onClick={()=>dislike(data)}/>\r\n              <p>{data.dislikes}</p>\r\n            </Flex>\r\n          </Flex.Item>\r\n          <Flex.Item>\r\n            <p>{`${t(blueLabels[data['blue0']])}: ${data['blueLevel0']}`}</p>\r\n            <p>{`${t(redLabels[data['red0']])}: ${data['redLevel0']}`}</p>\r\n            {Object.keys(blueLabels).map(key=>\r\n            data[key]?<p key={key}>{`${t('总计')} ${t(blueLabels[key])}: ${data[key]}`}</p>:null\r\n            )}\r\n            {Object.keys(redLabels).map(key=>\r\n            data[key]?<p key={key}>{`${t('总计')} ${t(redLabels[key])}: ${data[key]}`}</p>:null\r\n            )}\r\n            <p>{`${t('突破等级')}: ${data['supportLevel']||0}`}</p>\r\n          </Flex.Item>\r\n        </Flex>\r\n      </Card>\r\n    )\r\n  }\r\n\r\n  const [seedList,setSeedList] = useState([])\r\n  const search = async (value)=>{\r\n    const res = await axios.post('https://urarawin.com/api/sqlite/search',value)\r\n    if(res.data){\r\n      if(res.data.count){\r\n        setSeedList([...res.data.list])\r\n      }else{\r\n        message.info(t('暂无数据'))\r\n      }\r\n    }else{\r\n      message.info(t('出错了'))\r\n    }\r\n  }\r\n  const like = async (seed) =>{\r\n    if(!userId){\r\n      message.info(t('刷新后重试'))\r\n      return\r\n    }\r\n    let id = seed.id\r\n    const res = await axios.post('https://urarawin.com/api/sqlite/like',{id,userId})\r\n    if(res.data){\r\n      message.info(t('成功'))\r\n      seed.likes+=1\r\n    }\r\n    setSeedList([...seedList])\r\n  }\r\n  const dislike = async (seed)=>{\r\n    if(!userId){\r\n      message.info(t('刷新后重试'))\r\n      return\r\n    }else if(seed.dislikes&&seed.dislikes.indexOf(userId)!==-1 ){\r\n      return\r\n    }\r\n    let id = seed.id\r\n    const res = await axios.post('https://urarawin.com/api/sqlite/dislike',{id,userId})\r\n    if(res.data){\r\n      message.info(t('成功'))\r\n      seed.dislikes+=1\r\n    }\r\n    setSeedList([...seedList])\r\n  }\r\n  return(\r\n  <>\r\n    <SearchForm search={search}></SearchForm>\r\n    <Divider>{t('结果')}</Divider>\r\n    <Flex wrap='wrap'>\r\n      {seedList.map(seed=>\r\n      <Flex.Item  key={seed.gameId}\r\n        style={{width:'48%',flex:'0 0 auto',margin:0}}\r\n      >\r\n        <SeedCard data={seed}></SeedCard>\r\n      </Flex.Item>)}\r\n    </Flex>\r\n    {/* <Table columns={columns} dataSource={seedList} pagination={false} rowKey={'id'}/> */}\r\n  </>\r\n  )\r\n}\r\nexport default Seed\r\n","import React, { useEffect } from \"react\";\nimport { Link, useLocation } from \"react-router-dom\";\nimport CacheRoute, { CacheSwitch } from \"react-router-cache-route\";\n\nimport ReactTooltip from \"react-tooltip\";\n\nimport dbL from \"./dbL.js\";\nimport t from \"./components/t.js\";\n\nimport Race from \"./pages/race.js\";\nimport Player from \"./pages/player.js\";\nimport Support from \"./pages/support.js\";\nimport Nurturing2 from \"./pages/nurturing2.js\";\nimport Skill from \"./pages/skill.js\";\nimport Seed from \"./pages/seed.js\";\n\nimport NurturingMO from \"./pages-mo/nurturing.js\";\nimport SeedMo from \"./pages-mo/seed.js\";\n\nimport SupportDetail from \"./components/support/SupportDetail\";\nimport PlayerDetail from \"./components/player/PlayerDetail\";\nimport SkillDetail from \"./components/skill/SkillDetail\";\nimport { BuffList } from \"./components/buff.js\";\nimport LanButton from \"./components/lan-button\";\nimport useUa from \"./utils/ua.js\";\nconst cdnServer = \"https://cdn.jsdelivr.net/gh/wrrwrr111/pretty-derby@master/public/\";\nconst AppPc = () => {\n  const ua = useUa();\n  const location = useLocation();\n  const resetNur = () => {\n    dbL\n      .set(\"selected\", {\n        supports: { 0: {}, 1: {}, 2: {}, 3: {}, 4: {}, 5: {} },\n        player: {},\n        races: [],\n      })\n      .write();\n  };\n  const pcList = [\n    { path: \"/\", title: \"角色\" },\n    { path: \"/support\", title: \"支援\" },\n    { path: \"/skill\", title: \"技能\" },\n    { path: \"/race\", title: \"比赛\" },\n    { path: \"/nur\", title: \"育成\" },\n    { path: \"/seed\", title: \"种马\" },\n  ];\n  const phoneList = [\n    { path: \"/\", title: \"角色\" },\n    { path: \"/support\", title: \"支援\" },\n    { path: \"/skill\", title: \"技能\" },\n    { path: \"/race\", title: \"比赛\" },\n    { path: \"/mo/nur\", title: \"育成\" },\n    { path: \"/seed\", title: \"种马\" },\n  ];\n  const list = ua.isPhone ? phoneList : pcList;\n  return (\n    <div className=\"w-screen h-screen flex flex-col\">\n      <div className=\"h-10 md:h-16 w-full  bg-gray-900 flex items-center flex-shrink-0 \">\n        <div className=\"w-full max-w-sm flex justify-around\">\n          {list.map((item) => (\n            <Link\n              to={item.path}\n              className={`text-gray-300 ${\n                location.pathname === item.path ? \"text-blue-500\" : \"text-gray-300\"\n              }`}\n            >\n              {t(item.title)}\n            </Link>\n          ))}\n        </div>\n        {/* <LanButton style={{ float: \"right\" }}></LanButton> */}\n      </div>\n      <CacheSwitch>\n        <CacheRoute\n          className=\"flex-auto w-full max-w-6xl mx-auto flex overflow-auto\"\n          exact\n          path=\"/\"\n          component={Player}\n        />\n        <CacheRoute\n          className=\"flex-auto w-full max-w-6xl mx-auto flex overflow-hidden\"\n          path=\"/support\"\n          component={Support}\n        />\n        <CacheRoute\n          className=\"flex-auto w-full max-w-6xl mx-auto flex overflow-hidden\"\n          path=\"/skill\"\n          component={Skill}\n        />\n        <CacheRoute path={[\"/nur\",\"/Nurturing2\"]} component={Nurturing2} />\n        <CacheRoute path={[\"/mo/nur\",\"/NurturingMO\"]} component={NurturingMO} />\n        <CacheRoute className=\"flex-auto w-full\" path=\"/seed\" component={Seed} />\n        <CacheRoute className=\"flex-auto w-full\" path=\"/SeedMo\" component={SeedMo} />\n        <CacheRoute className=\"flex-auto w-full\" path=\"/race\" component={Race} />\n        <CacheRoute\n          className=\"flex-auto w-full max-w-lg mx-auto flex flex-col px-3 overflow-y-auto\"\n          path={[\"/support-detail/:id\", \"/support-detail/:id/:nur\"]}\n          component={SupportDetail}\n        />\n        <CacheRoute\n          className=\"flex-auto w-full max-w-lg mx-auto flex flex-col px-3 overflow-y-auto\"\n          path={[\"/player-detail/:id\", \"/player-detail/:id/:nur\"]}\n          component={PlayerDetail}\n        />\n        <CacheRoute\n          className=\"flex-auto w-full max-w-lg mx-auto flex flex-col px-3 overflow-y-auto\"\n          path=\"/skill-detail/:id\"\n          component={SkillDetail}\n        />\n        <CacheRoute className=\" flex overflow-hidden\" path=\"/buff\" component={BuffList} />\n      </CacheSwitch>\n      <div className=\"h-10 w-full flex items-center\">\n        <div className=\"reset-nur\" data-for=\"无法打开育成页面时点一哈\" onClick={resetNur}>\n          {t(\"初始化育成\")}\n        </div>\n        <div className=\"flex-auto\"></div>\n        <iframe\n          title=\"GitHub\"\n          src=\"https://ghbtns.com/github-btn.html?user=wrrwrr111&repo=pretty-derby&type=star&count=true&size=large&v=2\"\n          frameBorder=\"0\"\n          scrolling=\"0\"\n          width=\"160px\"\n          height=\"30px\"\n        ></iframe>\n        <a\n          target=\"_blank\"\n          rel=\"noreferrer\"\n          href=\"https://qm.qq.com/cgi-bin/qm/qr?k=f2Q2MIqkkxiiYq-sfRYmI7E4v17-r3V2&jump_from=webapi\"\n          data-tip={`\n              <img src=${cdnServer + \"img/q.jpg\"} width={300}></img>\n              <p>${t(\"闲聊为主\")}</p>\n            `}\n        >\n          <img\n            border=\"0\"\n            src=\"//pub.idqqimg.com/wpa/images/group.png\"\n            alt=\"轻 松 赛 马\"\n            title=\"轻 松 赛 马\"\n          />\n        </a>\n        <div\n          className=\"flex mx-2 items-center\"\n          data-tip={`<img src=${cdnServer + \"img/weapp.jpg\"} width={200}></img>`}\n        >\n          <img src={cdnServer + \"reimu.gif\"} preview={false} width={24}></img>\n          <div>{t(\"微信小程序\")}</div>\n        </div>\n      </div>\n      <ReactTooltip className=\"z-max\" html={true} />\n    </div>\n  );\n};\n\nexport default AppPc;\n","import React, { useState } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\n\r\nimport dbL from '../dbL.js'\r\nimport { Popover } from 'antd';\r\nimport t from './t.js';\r\n\r\nconst LanButton = (props) => {\r\n  let lan = dbL.get('lan').value()\r\n  const [code, setCode] = useState(lan || 'cn')\r\n  const changeToCn = () => {\r\n    lan = 'cn'\r\n    dbL.set('lan', 'cn').write()\r\n    setCode('cn')\r\n    t('', 'cn')\r\n    window.location.reload(true)\r\n  }\r\n  const changeToUs = () => {\r\n    lan = 'us'\r\n    dbL.set('lan', 'us').write()\r\n    setCode('us')\r\n    t('', 'us')\r\n    window.location.reload(true)\r\n  }\r\n  const changeToJp = () => {\r\n    lan = 'jp'\r\n    dbL.set('lan', 'jp').write()\r\n    setCode('jp')\r\n    t('', 'jp')\r\n    window.location.reload(true)\r\n  }\r\n  const flagStyle = {\r\n    width: 40,\r\n    height: 30,\r\n    margin: 4\r\n  }\r\n  return (\r\n    <Popover content={\r\n      <div style={{ display: 'flex' }}>\r\n        <span onClick={changeToCn} code={'cn'} style={{ ...flagStyle }}>cn</span>\r\n        <span onClick={changeToUs} code={'us'} style={{ ...flagStyle }}>us</span>\r\n        <span onClick={changeToJp} code={'jp'} style={{ ...flagStyle }}>jp</span>\r\n      </div>}>\r\n      <span code={code} style={{ ...flagStyle }}>{code}</span>\r\n    </Popover>\r\n  )\r\n}\r\n\r\nexport default withRouter(LanButton)\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { BrowserRouter as Router } from \"react-router-dom\";\nimport \"antd/dist/antd.css\";\nimport \"./styles/tailwind.css\";\nimport App from \"./app\";\n\nconst Index = () => {\n  return (\n    <Router>\n      <App></App>\n    </Router>\n  );\n};\n\nReactDOM.render(<Index></Index>, document.getElementById(\"root\"));\n"],"sourceRoot":""}